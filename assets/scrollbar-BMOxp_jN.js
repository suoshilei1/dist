import{ce as le,b6 as P,bY as ne,z as D,D as R,aB as Z,E as ee,b9 as se,r as y,F as H,ah as oe,ap as U,c as N,J as M,l as te,Y as ie,e as A,N as B,I as E,n as W,a5 as ce,bp as ue,aJ as fe,d as ae,k as Y,U as ve,C as me,B as C,H as X,w as F,ai as V,aH as de,a as pe,cf as be,o as he,ba as ye,M as ge,K as Se,h as we,af as ze,ae as q,O as Te}from"./index-DWtISIBF.js";import{e as I,u as Ee,b as _e}from"./index-CVAPKPs0.js";import{_ as j}from"./plugin-vue_export-helper-CqGSI99y.js";var xe=/\s/;function ke(t){for(var l=t.length;l--&&xe.test(t.charAt(l)););return l}var He=/^\s+/;function Le(t){return t&&t.slice(0,ke(t)+1).replace(He,"")}var J=NaN,Ce=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Be=/^0o[0-7]+$/i,Re=parseInt;function G(t){if(typeof t=="number")return t;if(le(t))return J;if(P(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=P(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=Le(t);var s=Ne.test(t);return s||Be.test(t)?Re(t.slice(2),s?2:8):Ce.test(t)?J:+t}var O=function(){return ne.Date.now()},Oe="Expected a function",Pe=Math.max,Me=Math.min;function Ze(t,l,s){var n,u,v,m,c,f,p=0,o=!1,r=!1,i=!0;if(typeof t!="function")throw new TypeError(Oe);l=G(l)||0,P(s)&&(o=!!s.leading,r="maxWait"in s,v=r?Pe(G(s.maxWait)||0,l):v,i="trailing"in s?!!s.trailing:i);function b(a){var d=n,S=u;return n=u=void 0,p=a,m=t.apply(S,d),m}function w(a){return p=a,c=setTimeout(h,l),o?b(a):m}function _(a){var d=a-f,S=a-p,x=l-d;return r?Me(x,v-S):x}function z(a){var d=a-f,S=a-p;return f===void 0||d>=l||d<0||r&&S>=v}function h(){var a=O();if(z(a))return g(a);c=setTimeout(h,_(a))}function g(a){return c=void 0,i&&n?b(a):(n=u=void 0,m)}function L(){c!==void 0&&clearTimeout(c),p=0,n=f=u=c=void 0}function T(){return c===void 0?m:g(O())}function e(){var a=O(),d=z(a);if(n=arguments,u=this,f=a,d){if(c===void 0)return w(f);if(r)return clearTimeout(c),c=setTimeout(h,l),b(f)}return c===void 0&&(c=setTimeout(h,l)),m}return e.cancel=L,e.flush=T,e}const k=4,Ae={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},We=({move:t,size:l,bar:s})=>({[s.size]:l,transform:`translate${s.axis}(${t}%)`}),K=Symbol("scrollbarContextKey"),Ie=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),$e="Thumb",De=R({__name:"thumb",props:Ie,setup(t){const l=t,s=Z(K),n=ee("scrollbar");s||se($e,"can not inject scrollbar context");const u=y(),v=y(),m=y({}),c=y(!1);let f=!1,p=!1,o=fe?document.onselectstart:null;const r=H(()=>Ae[l.vertical?"vertical":"horizontal"]),i=H(()=>We({size:l.size,move:l.move,bar:r.value})),b=H(()=>u.value[r.value.offset]**2/s.wrapElement[r.value.scrollSize]/l.ratio/v.value[r.value.offset]),w=a=>{var d;if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;(d=window.getSelection())==null||d.removeAllRanges(),z(a);const S=a.currentTarget;S&&(m.value[r.value.axis]=S[r.value.offset]-(a[r.value.client]-S.getBoundingClientRect()[r.value.direction]))},_=a=>{if(!v.value||!u.value||!s.wrapElement)return;const d=Math.abs(a.target.getBoundingClientRect()[r.value.direction]-a[r.value.client]),S=v.value[r.value.offset]/2,x=(d-S)*100*b.value/u.value[r.value.offset];s.wrapElement[r.value.scroll]=x*s.wrapElement[r.value.scrollSize]/100},z=a=>{a.stopImmediatePropagation(),f=!0,document.addEventListener("mousemove",h),document.addEventListener("mouseup",g),o=document.onselectstart,document.onselectstart=()=>!1},h=a=>{if(!u.value||!v.value||f===!1)return;const d=m.value[r.value.axis];if(!d)return;const S=(u.value.getBoundingClientRect()[r.value.direction]-a[r.value.client])*-1,x=v.value[r.value.offset]-d,re=(S-x)*100*b.value/u.value[r.value.offset];s.wrapElement[r.value.scroll]=re*s.wrapElement[r.value.scrollSize]/100},g=()=>{f=!1,m.value[r.value.axis]=0,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),e(),p&&(c.value=!1)},L=()=>{p=!1,c.value=!!l.size},T=()=>{p=!0,c.value=f};oe(()=>{e(),document.removeEventListener("mouseup",g)});const e=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return I(U(s,"scrollbarElement"),"mousemove",L),I(U(s,"scrollbarElement"),"mouseleave",T),(a,d)=>(N(),M(ue,{name:E(n).b("fade"),persisted:""},{default:te(()=>[ie(A("div",{ref_key:"instance",ref:u,class:B([E(n).e("bar"),E(n).is(E(r).key)]),onMousedown:_},[A("div",{ref_key:"thumb",ref:v,class:B(E(n).e("thumb")),style:W(E(i)),onMousedown:w},null,38)],34),[[ce,a.always||c.value]])]),_:1},8,["name"]))}});var Q=j(De,[["__file","thumb.vue"]]);const je=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ke=R({__name:"bar",props:je,setup(t,{expose:l}){const s=t,n=Z(K),u=y(0),v=y(0),m=y(""),c=y(""),f=y(1),p=y(1);return l({handleScroll:i=>{if(i){const b=i.offsetHeight-k,w=i.offsetWidth-k;v.value=i.scrollTop*100/b*f.value,u.value=i.scrollLeft*100/w*p.value}},update:()=>{const i=n==null?void 0:n.wrapElement;if(!i)return;const b=i.offsetHeight-k,w=i.offsetWidth-k,_=b**2/i.scrollHeight,z=w**2/i.scrollWidth,h=Math.max(_,s.minSize),g=Math.max(z,s.minSize);f.value=_/(b-_)/(h/(b-h)),p.value=z/(w-z)/(g/(w-g)),c.value=h+k<b?`${h}px`:"",m.value=g+k<w?`${g}px`:""}}),(i,b)=>(N(),ae(ve,null,[Y(Q,{move:u.value,ratio:p.value,size:m.value,always:i.always},null,8,["move","ratio","size","always"]),Y(Q,{move:v.value,ratio:f.value,size:c.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Ue=j(Ke,[["__file","bar.vue"]]);const Ye=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ee(["ariaLabel","ariaOrientation"])}),Xe={scroll:({scrollTop:t,scrollLeft:l})=>[t,l].every(C)},$="ElScrollbar",Fe=R({name:$}),Ve=R({...Fe,props:Ye,emits:Xe,setup(t,{expose:l,emit:s}){const n=t,u=ee("scrollbar");let v,m,c=0,f=0;const p=y(),o=y(),r=y(),i=y(),b=H(()=>{const e={};return n.height&&(e.height=X(n.height)),n.maxHeight&&(e.maxHeight=X(n.maxHeight)),[n.wrapStyle,e]}),w=H(()=>[n.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!n.native}]),_=H(()=>[u.e("view"),n.viewClass]),z=()=>{var e;o.value&&((e=i.value)==null||e.handleScroll(o.value),c=o.value.scrollTop,f=o.value.scrollLeft,s("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function h(e,a){ze(e)?o.value.scrollTo(e):C(e)&&C(a)&&o.value.scrollTo(e,a)}const g=e=>{if(!C(e)){q($,"value must be a number");return}o.value.scrollTop=e},L=e=>{if(!C(e)){q($,"value must be a number");return}o.value.scrollLeft=e},T=()=>{var e;(e=i.value)==null||e.update()};return F(()=>n.noresize,e=>{e?(v==null||v(),m==null||m()):({stop:v}=_e(r,T),m=I("resize",T))},{immediate:!0}),F(()=>[n.maxHeight,n.height],()=>{n.native||V(()=>{var e;T(),o.value&&((e=i.value)==null||e.handleScroll(o.value))})}),de(K,pe({scrollbarElement:p,wrapElement:o})),be(()=>{o.value&&(o.value.scrollTop=c,o.value.scrollLeft=f)}),he(()=>{n.native||V(()=>{T()})}),ye(()=>T()),l({wrapRef:o,update:T,scrollTo:h,setScrollTop:g,setScrollLeft:L,handleScroll:z}),(e,a)=>(N(),ae("div",{ref_key:"scrollbarRef",ref:p,class:B(E(u).b())},[A("div",{ref_key:"wrapRef",ref:o,class:B(E(w)),style:W(E(b)),tabindex:e.tabindex,onScroll:z},[(N(),M(Se(e.tag),{id:e.id,ref_key:"resizeRef",ref:r,class:B(E(_)),style:W(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:te(()=>[ge(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?we("v-if",!0):(N(),M(Ue,{key:0,ref_key:"barRef",ref:i,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var qe=j(Ve,[["__file","scrollbar.vue"]]);const et=Te(qe);export{et as E,Ze as d};
