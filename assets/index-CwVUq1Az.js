import{_ as L,u as M,r as u,o as N,c as v,d as b,X as I,i as e,j as t,e as r,I as g,aX as z,f as l,aY as A,af as F,g as n,J as R,h as U,T as X,aV as j,aZ as q,v as J}from"./index-oALI6hjD.js";import{E as S}from"./dialog-B_GDP7gC.js";import"./overlay-WqKCga-H.js";import{E as Y}from"./card-DUC90zSS.js";import{E as Z,a as $}from"./descriptions-item-5NsjWWYb.js";/* empty css                */import{E as G}from"./popper-8tqvLSZz.js";/* empty css            */import{E as H}from"./button-CW4VZptJ.js";import K from"./index-DF48Cpu_.js";import{_ as O}from"./CompanyDialog-EKngB3-a.js";import{E as _}from"./index-CV7ElbEQ.js";import{E as P}from"./index-DKbZ_y2J.js";import{E as Q}from"./index-ClN0XSgQ.js";import"./index-JdeAZNwx.js";import"./index-Ci2yyUHC.js";import"./scroll-BUhzRsoy.js";import"./vnode-DAFY4x8G.js";import"./index-DXOgsKzf.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./icon-DFUaFmZd.js";import"./focus-trap-B9jhWFgs.js";import"./aria-BUADUvnR.js";import"./refs-sNzFHjPI.js";import"./index-GdZBC0LW.js";import"./use-form-item-CJ5jT23N.js";import"./constants-Be6xblX4.js";import"./pagination-DXEjFwoH.js";import"./select-B0JZ5Vmm.js";import"./scrollbar-BwLVa3O8.js";import"./castArray-DuUCQlE9.js";import"./index-BTnVmvBQ.js";import"./isEqual-DERyOhzh.js";import"./_Uint8Array-Cyhry7Ym.js";import"./_baseIteratee-_-ChXyeP.js";import"./index-CPa7yTdP.js";import"./input-_j8YarB1.js";import"./table-column-B3vmHtxt.js";import"./checkbox-eAiA7KBF.js";import"./_initCloneObject-CeA08_Bb.js";import"./empty-BnW6BhO3.js";import"./autocomplete-N5BG9fbW.js";import"./date-LkHkg0he.js";import"./dayjs.min-VPOC9PSa.js";import"./form-item-JkdAUXjO.js";import"./user-DEGSMhkJ.js";import"./sha256-DcrFp9Dj.js";/* empty css             *//* empty css                 */import"./DebounceAndThrottle-B_grFKK4.js";/* empty css                   */import"./validator-DaZaXEYL.js";const W={class:"company-detail","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0.1)"},ee={class:"header-left"},te={class:"header-right"},oe={class:"ellipsis"},ae={class:"box-card"},le={__name:"index",setup(ie){const c=M(),m=u(null);m.value=c.currentRoute.value.query.id;const d=u(!1),o=u({}),p=u(!0);function y(){p.value=!0,d.value=!1,j({id:m.value}).then(i=>{i.code===200?o.value=i.data.companies[0]:_.error(i.message||"获取公司详情失败")}).catch(i=>{_.error(i.message||"获取公司详情失败")}).finally(()=>{p.value=!1})}N(()=>{y()});const E=()=>{window.history.length>1?c.back():c.push("/home/company")},h=()=>{d.value=!0},k=()=>{P.confirm("确定要删除该公司吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{p.value=!0;try{const i=await q({id:+m.value});_.success("公司删除成功"),c.push({name:"CompanyManagement"})}catch(i){_.error(i.message||"删除公司失败")}finally{p.value=!1}}).catch(()=>{})};return(i,a)=>{const f=H,s=Z,x=Q,C=G,B=$,V=Y,T=S,w=J;return v(),b(X,null,[I((v(),b("div",W,[e(V,{class:"box-card"},{header:t(()=>[r("div",ee,[e(f,{link:"",type:"primary",icon:g(z),onClick:E},{default:t(()=>a[1]||(a[1]=[l("返回")])),_:1},8,["icon"]),a[2]||(a[2]=r("span",{class:"title-divider"},"|",-1)),a[3]||(a[3]=r("span",{class:"card-title"},"公司详情",-1))]),r("div",te,[e(f,{type:"primary",icon:g(A),size:"small",onClick:h},{default:t(()=>a[4]||(a[4]=[l(" 编辑 ")])),_:1},8,["icon"]),e(f,{type:"danger",icon:g(F),size:"small",onClick:k},{default:t(()=>a[5]||(a[5]=[l(" 删除 ")])),_:1},8,["icon"])])]),default:t(()=>[e(B,{class:"company-info-grid",title:"公司信息",column:5,border:""},{default:t(()=>[e(s,{label:"公司名称"},{default:t(()=>[l(n(o.value.name),1)]),_:1}),e(s,{label:"联系电话"},{default:t(()=>[l(n(o.value.phone),1)]),_:1}),e(s,{label:"状态"},{default:t(()=>[e(x,{type:o.value.status===1?"success":"danger",effect:"light"},{default:t(()=>[l(n(o.value.status===1?"可用":"不可用"),1)]),_:1},8,["type"])]),_:1}),e(s,{label:"行业代码"},{default:t(()=>[l(n(o.value.company_code),1)]),_:1}),e(s,{label:"行业"},{default:t(()=>[l(n(o.value.sector),1)]),_:1}),e(s,{label:"产品"},{default:t(()=>[l(n(o.value.product_name),1)]),_:1}),e(s,{label:"地址"},{default:t(()=>[l(n(o.value.location),1)]),_:1}),o.value.comment?(v(),R(s,{key:0,label:"备注"},{default:t(()=>[e(C,{class:"item",effect:"dark",content:o.value.comment,placement:"top"},{default:t(()=>[r("span",oe,n(o.value.comment),1)]),_:1},8,["content"])]),_:1})):U("",!0)]),_:1})]),_:1}),r("div",ae,[e(K,{company_id:m.value},null,8,["company_id"])])])),[[w,p.value]]),e(T,{title:"编辑公司","align-center":"",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=D=>d.value=D),"close-on-click-modal":!1},{default:t(()=>[e(O,{onFetchCompanyList:y,id:m.value},null,8,["id"])]),_:1},8,["modelValue"])],64)}}},lt=L(le,[["__scopeId","data-v-211f4b0e"]]);export{lt as default};
