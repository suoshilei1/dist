import{g as i,c}from"./formula-C00PoDkf.js";import{d as n}from"./dayjs.min-VPOC9PSa.js";import{h as f}from"./handleError-BVJ6YTlw.js";async function F(r,a){return(await i(r)).data.filter(o=>o.usage===a)}async function w(r,a,e="day"){return await Promise.all(r.map(async s=>{const t={...s};return await Promise.all(a.map(async(u,m)=>{const l=await d(s,u,e);return t["usage_"+m]=l,l})),t}))}async function d(r,a,e="day"){let o=n(a).startOf(e).valueOf(),s=n(a).endOf(e).valueOf();try{let{data:t}=await c({id:r.id,start_time:o,end_time:s});return t}catch(t){f(t,"计算公式值出错")}}export{w as a,F as g};
