import{_ as h,r as V,T as E,c as v,d as y,i as z,I as A,ah as C,aV as I}from"./index-Bx6Y8L80.js";import{E as S}from"./autocomplete-BsDCzI7r.js";import"./input-CFaQgGx5.js";import"./scrollbar-DuXO1tWo.js";import"./popper-DBn8ulUn.js";import{E as p}from"./index-KJp6TXG9.js";const x={class:"company-autocomplete"},b={__name:"CompanyAutoInput",props:{size:{type:String,default:""},modelValue:{required:!0,type:Object}},emits:["update:modelValue","select"],setup(m,{emit:d}){var n;let r=m,o=V(((n=r.modelValue)==null?void 0:n.name)??"");E(()=>{var t;o.value=((t=r.modelValue)==null?void 0:t.name)??""});let c=d;function f(t,s){const a={name:"%"+t+"%"};I(a).then(e=>{var u,i;if(e.code===200){let _=((i=(u=e.data)==null?void 0:u.companies)==null?void 0:i.map(l=>({value:l.name,id:l.id,...l})))??[];s(_)}else console.error(e.message),p.error(e.message)}).catch(e=>{console.error(e),p.error(e.message||"获取公司列表失败")})}const g=t=>{let{value:s,...a}=t;c("update:modelValue",a),c("select",a)};return(t,s)=>{const a=S;return v(),y("div",x,[z(a,{size:m.size,modelValue:A(o),"onUpdate:modelValue":s[0]||(s[0]=e=>C(o)?o.value=e:o=e),"fetch-suggestions":f,placeholder:"搜索公司名称",clearable:"",class:"search-input",onSelect:g},null,8,["size","modelValue"])])}}},L=h(b,[["__scopeId","data-v-f8f34af3"]]);export{L as C};
