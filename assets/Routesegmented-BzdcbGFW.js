import{z as H,C as R,ac as J,G as P,B as x,ad as z,D as F,E as K,r as w,a as Q,F as g,w as S,ae as Z,c as h,d as b,e as _,n as ee,I as l,N as f,T as te,U as se,M as ae,f as ne,g as oe,h as L,af as k,O as le,_ as re,u as O,i as $,j as ie,k as D,l as ce,J as de,K as ue}from"./index-DU5BV6sj.js";import{u as me,U as T,C as A,a as pe,b as fe}from"./index-imETKNmt.js";import{_ as ge}from"./plugin-vue_export-helper-CqGSI99y.js";import{u as he,a as ve,b as _e,c as be,d as ye}from"./use-form-item-Bwue1zaK.js";const Ie=H({direction:{type:R(String),default:"horizontal"},options:{type:R(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:J,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...me(["ariaLabel"])}),Se={[T]:r=>P(r)||x(r)||z(r),[A]:r=>P(r)||x(r)||z(r)},Ce=F({name:"ElSegmented"}),Ve=F({...Ce,props:Ie,emits:Se,setup(r,{emit:m}){const a=r,t=K("segmented"),p=he(),y=ve(),v=_e(),{formItem:i}=be(),{inputId:n,isLabeledByFormItem:u}=ye(a,{formItemContext:i}),s=w(null),I=pe(),o=Q({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),X=e=>{const c=C(e);m(T,c),m(A,c)},C=e=>k(e)?e.value:e,Y=e=>k(e)?e.label:e,V=e=>!!(v.value||k(e)&&e.disabled),N=e=>a.modelValue===C(e),U=e=>a.options.find(c=>C(c)===e),j=e=>[t.e("item"),t.is("selected",N(e)),t.is("disabled",V(e))],E=()=>{if(!s.value)return;const e=s.value.querySelector(".is-selected"),c=s.value.querySelector(".is-selected input");if(!e||!c){o.width=0,o.translateX=0,o.translateY=0,o.focusVisible=!1;return}const d=e.getBoundingClientRect();o.isInit=!0,a.direction==="vertical"?(o.height=d.height,o.translateY=e.offsetTop):(o.width=d.width,o.translateX=e.offsetLeft);try{o.focusVisible=c.matches(":focus-visible")}catch{}},M=g(()=>[t.b(),t.m(y.value),t.is("block",a.block)]),q=g(()=>({width:a.direction==="vertical"?"100%":`${o.width}px`,height:a.direction==="vertical"?`${o.height}px`:"100%",transform:a.direction==="vertical"?`translateY(${o.translateY}px)`:`translateX(${o.translateX}px)`,display:o.isInit?"block":"none"})),G=g(()=>[t.e("item-selected"),t.is("disabled",V(U(a.modelValue))),t.is("focus-visible",o.focusVisible)]),W=g(()=>a.name||p.value);return fe(s,E),S(I,E),S(()=>a.modelValue,()=>{var e;E(),a.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"change").catch(c=>Z(c)))},{flush:"post"}),(e,c)=>e.options.length?(h(),b("div",{key:0,id:l(n),ref_key:"segmentedRef",ref:s,class:f(l(M)),role:"radiogroup","aria-label":l(u)?void 0:e.ariaLabel||"segmented","aria-labelledby":l(u)?l(i).labelId:void 0},[_("div",{class:f([l(t).e("group"),l(t).m(a.direction)])},[_("div",{style:ee(l(q)),class:f(l(G))},null,6),(h(!0),b(te,null,se(e.options,(d,B)=>(h(),b("label",{key:B,class:f(j(d))},[_("input",{class:f(l(t).e("item-input")),type:"radio",name:l(W),disabled:V(d),checked:N(d),onChange:xe=>X(d)},null,42,["name","disabled","checked","onChange"]),_("div",{class:f(l(t).e("item-label"))},[ae(e.$slots,"default",{item:d},()=>[ne(oe(Y(d)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):L("v-if",!0)}});var Ee=ge(Ve,[["__file","segmented.vue"]]);const ke=le(Ee),we={__name:"Routesegmented",setup(r,{expose:m}){m();const a=O(),t=$(),p=w(t.path),y=g(()=>{const n=t.matched;if(!n.length)return[];let u=null;for(let s=n.length-1;s>=0;s--)if(n[s].children&&n[s].children.length>0){u=n[s];break}return u?(u.children||[]).filter(s=>{var I;return((I=s.meta)==null?void 0:I.title)&&s.path!==u.path}).map(s=>({label:s.meta.title,value:s.path.startsWith("/")?s.path:`${u.path}/${s.path}`})):[]}),v=n=>{a.push(n),p.value=n};S(()=>t.path,n=>{p.value=n});const i={router:a,route:t,currentPath:p,navigationOptions:y,handleNavigation:v,ref:w,computed:g,watch:S,get useRouter(){return O},get useRoute(){return $}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},Ne={class:"custom-style"},Be={key:0,class:"segmented-container"},Re={class:"router-view-container"};function Pe(r,m,a,t,p,y){const v=ke,i=ie("router-view");return h(),b("div",Ne,[t.navigationOptions.length?(h(),b("div",Be,[D(v,{modelValue:t.currentPath,"onUpdate:modelValue":m[0]||(m[0]=n=>t.currentPath=n),options:t.navigationOptions,onChange:t.handleNavigation},null,8,["modelValue","options"])])):L("",!0),_("div",Re,[D(i,null,{default:ce(({Component:n})=>[(h(),de(ue(n)))]),_:1})])])}const Fe=re(we,[["render",Pe],["__scopeId","data-v-fbcc15e6"],["__file","D:/临时存放/green-carbon-1.0/src/components/nav/Routesegmented.vue"]]);export{Fe as default};
