import{z as q,D as A,aX as H,F as v,r as E,E as O,au as M,H as V,c as o,J as U,l,k as i,bp as J,I as e,Y as W,e as C,aq as X,m as Y,N as t,d,M as f,g as _,h as r,aW as j,a5 as G,O as K}from"./index-DWtISIBF.js";import{E as Q}from"./index-DxRU3L2W.js";import{d as Z}from"./popper-BNb2tGl7.js";import{E as x}from"./index-CuP5NVML.js";import{b as ee,c as ae,u as se}from"./overlay-BY0G5ok6.js";import{_ as te}from"./plugin-vue_export-helper-CqGSI99y.js";import{u as oe}from"./index-DjvbDGpK.js";import{E as re}from"./focus-trap-D8pg8SM_.js";const le=q({...ee,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),ie=ae,de=A({name:"ElDrawer",inheritAttrs:!1}),ne=A({...de,props:le,emits:ie,setup(g,{expose:F}){const n=g,R=H();oe({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},v(()=>!!R.title));const u=E(),b=E(),s=O("drawer"),{t:S}=M(),{afterEnter:y,afterLeave:h,beforeLeave:D,visible:c,rendered:L,titleId:p,bodyId:k,zIndex:T,onModalClick:z,onOpenAutoFocus:B,onCloseAutoFocus:P,onFocusoutPrevented:$,onCloseRequested:I,handleClose:m}=se(n,u),N=v(()=>n.direction==="rtl"||n.direction==="ltr"),w=v(()=>V(n.size));return F({handleClose:m,afterEnter:y,afterLeave:h}),(a,ue)=>(o(),U(e(Z),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:l(()=>[i(J,{name:e(s).b("fade"),onAfterEnter:e(y),onAfterLeave:e(h),onBeforeLeave:e(D),persisted:""},{default:l(()=>[W(i(e(Q),{mask:a.modal,"overlay-class":a.modalClass,"z-index":e(T),onClick:e(z)},{default:l(()=>[i(e(re),{loop:"",trapped:e(c),"focus-trap-el":u.value,"focus-start-el":b.value,onFocusAfterTrapped:e(B),onFocusAfterReleased:e(P),onFocusoutPrevented:e($),onReleaseRequested:e(I)},{default:l(()=>[C("div",X({ref_key:"drawerRef",ref:u,"aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(p),"aria-describedby":e(k)},a.$attrs,{class:[e(s).b(),a.direction,e(c)&&"open"],style:e(N)?"width: "+e(w):"height: "+e(w),role:"dialog",onClick:Y(()=>{},["stop"])}),[C("span",{ref_key:"focusStartRef",ref:b,class:t(e(s).e("sr-focus")),tabindex:"-1"},null,2),a.withHeader?(o(),d("header",{key:0,class:t(e(s).e("header"))},[a.$slots.title?f(a.$slots,"title",{key:1},()=>[r(" DEPRECATED SLOT ")]):f(a.$slots,"header",{key:0,close:e(m),titleId:e(p),titleClass:e(s).e("title")},()=>[a.$slots.title?r("v-if",!0):(o(),d("span",{key:0,id:e(p),role:"heading","aria-level":a.headerAriaLevel,class:t(e(s).e("title"))},_(a.title),11,["id","aria-level"]))]),a.showClose?(o(),d("button",{key:2,"aria-label":e(S)("el.drawer.close"),class:t(e(s).e("close-btn")),type:"button",onClick:e(m)},[i(e(x),{class:t(e(s).e("close"))},{default:l(()=>[i(e(j))]),_:1},8,["class"])],10,["aria-label","onClick"])):r("v-if",!0)],2)):r("v-if",!0),e(L)?(o(),d("div",{key:1,id:e(k),class:t(e(s).e("body"))},[f(a.$slots,"default")],10,["id"])):r("v-if",!0),a.$slots.footer?(o(),d("div",{key:2,class:t(e(s).e("footer"))},[f(a.$slots,"footer")],2)):r("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[G,e(c)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var fe=te(ne,[["__file","drawer.vue"]]);const we=K(fe);export{we as E};
