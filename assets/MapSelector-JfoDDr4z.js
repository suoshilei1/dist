import{_ as h,l as C,u as T,r as p,W as B,c as P,d as z,i as n,j as i,I as r,e as s,g as c,f as R}from"./index-Bx6Y8L80.js";import{E as S}from"./button-8bviUT_H.js";import{_ as I}from"./CompanyDialog-CT6Yn9KG.js";import{s as N}from"./index.vue-_4S1JAn5.js";import{s as u}from"./index.vue-dz08okpR.js";import{s as O}from"./useParentComponentEffect-CXSsrGL2.js";import"./index-A4BGBRGh.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./index-AkNVqhGZ.js";import"./use-form-item-50hJ8Ppj.js";import"./icon-6zrsquxY.js";import"./form-item-CWYWsPGl.js";import"./castArray-CrUPC_Z8.js";import"./index-CuyxIfpa.js";import"./_Uint8Array-B6mJ0Xm4.js";import"./_initCloneObject-nnMrnZRY.js";import"./autocomplete-BsDCzI7r.js";import"./input-CFaQgGx5.js";import"./index-iw6eP590.js";import"./scrollbar-DuXO1tWo.js";import"./popper-DBn8ulUn.js";import"./aria-BUADUvnR.js";import"./focus-trap-Ddg061Nm.js";/* empty css            */import"./select-BmMHn9PT.js";import"./index-aFn2MKle.js";import"./scroll-BawlEUY1.js";import"./isEqual-BM-Gj-iT.js";import"./_baseIteratee-CkjM3wkz.js";import"./index-zrRcpBp4.js";import"./index-KJp6TXG9.js";import"./index-slq3sC_j.js";import"./index-DZY-cmUL.js";import"./vnode-DK7gyQZj.js";import"./validator-ulZFuTQV.js";const b={class:"container"},E=["value"],k={value:"BMAP_NORMAL_MAP"},H={value:"BMAP_SATELLITE_MAP"},x={value:"BMAP_EARTH_MAP"},L={class:"company-form"},$="Kwc6trl7dmb2Go3SM6S5QueuW0Foa0QN",w={__name:"MapSelector",setup(D){const _=C(),d=T(),f=p(_.query.id||null);let m=p("BMAP_NORMAL_MAP");const o=p({center:{lng:116.404,lat:39.915},zoom:12,location:""}),a=B(),v=t=>{o.value.center=t.latLng},y=({target:t})=>{o.value.zoom=+t.getZoom().toFixed()},M=t=>{m.value=t.target.value};(()=>{a.currentCompany&&a.currentCompany.latitude>0&&a.currentCompany.longitude>0&&(o.value.center={lng:+a.currentCompany.longitude,lat:+a.currentCompany.latitude},o.value.zoom=+a.currentCompany.zoom||12,o.value.location=a.currentCompany.location||"")})();const g=()=>{window.history.length>1?d.back():d.push({name:"Home"})};return(t,e)=>{const A=S;return P(),z("div",b,[n(r(O),{width:"100%",height:"100%",ak:$,enableScrollWheelZoom:!0,center:o.value.center,mapType:r(m),zoom:o.value.zoom,onZoomend:y},{default:i(()=>[n(r(N),{onDragend:v,enableDragging:"",position:o.value.center},null,8,["position"]),n(r(u),{anchor:"BMAP_ANCHOR_TOP_RIGHT",offset:{x:20,y:20},class:"custom-control"},{default:i(()=>[s("select",{class:"select",value:r(m),onChange:M},[s("option",k,c(t.$t("cityMap.normalMap")),1),s("option",H,c(t.$t("cityMap.satelliteMap")),1),s("option",x,c(t.$t("cityMap.earthMode")),1)],40,E)]),_:1}),n(r(u),{anchor:"BMAP_ANCHOR_TOP_LEFT",offset:{x:20,y:20},class:"custom-control"},{default:i(()=>[s("div",L,[n(I,{latitude:o.value.center.lat,"onUpdate:latitude":e[0]||(e[0]=l=>o.value.center.lat=l),longitude:o.value.center.lng,"onUpdate:longitude":e[1]||(e[1]=l=>o.value.center.lng=l),zoom:o.value.zoom,"onUpdate:zoom":e[2]||(e[2]=l=>o.value.zoom=l),id:f.value},null,8,["latitude","longitude","zoom","id"])])]),_:1}),n(r(u),{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",offset:{x:20,y:20},class:"custom-control"},{default:i(()=>[n(A,{type:"info",class:"back-button",onClick:g},{default:i(()=>e[3]||(e[3]=[R(" 返回上一页 ")])),_:1})]),_:1})]),_:1},8,["center","mapType","zoom"])])}}},Bo=h(w,[["__scopeId","data-v-d8b15c10"]]);export{Bo as default};
