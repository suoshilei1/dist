import{z as q,C as S,D as O,br as J,r as K,F as g,o as Y,c as m,J as b,l as N,Y as x,e as C,N as v,I as a,n as z,K as Q,h as I,g as H,M as R,d as F,U as X,a5 as P,m as ee,k as G,bp as te,bs as oe,aJ as ne,G as M,ax as _,bt as D,ae as se,bv as $,bw as ie}from"./index-DWtISIBF.js";import{e as ae}from"./index-CVAPKPs0.js";import{E as A}from"./index-CuP5NVML.js";import{i as le,T as V,C as re}from"./icon-Cc3ZZocH.js";import{_ as ce}from"./plugin-vue_export-helper-CqGSI99y.js";import{E as w}from"./aria-BUADUvnR.js";const U=["success","info","warning","error"],ue=q({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:le},id:{type:String,default:""},message:{type:S([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:S(Function),default:()=>{}},onClose:{type:S(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...U,""],default:""},zIndex:Number}),fe={destroy:()=>!0},de=O({name:"ElNotification"}),pe=O({...de,props:ue,emits:fe,setup(t,{expose:s}){const o=t,{ns:n,zIndex:r}=J("notification"),{nextZIndex:f,currentZIndex:d}=r,{Close:c}=re,l=K(!1);let i;const u=g(()=>{const e=o.type;return e&&V[o.type]?n.m(e):""}),p=g(()=>o.type&&V[o.type]||o.icon),T=g(()=>o.position.endsWith("right")?"right":"left"),W=g(()=>o.position.startsWith("top")?"top":"bottom"),Z=g(()=>{var e;return{[W.value]:`${o.offset}px`,zIndex:(e=o.zIndex)!=null?e:d.value}});function k(){o.duration>0&&({stop:i}=oe(()=>{l.value&&h()},o.duration))}function B(){i==null||i()}function h(){l.value=!1}function j({code:e}){e===w.delete||e===w.backspace?B():e===w.esc?l.value&&h():k()}return Y(()=>{k(),f(),l.value=!0}),ae(document,"keydown",j),s({visible:l,close:h}),(e,Ce)=>(m(),b(te,{name:a(n).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:he=>e.$emit("destroy"),persisted:""},{default:N(()=>[x(C("div",{id:e.id,class:v([a(n).b(),e.customClass,a(T)]),style:z(a(Z)),role:"alert",onMouseenter:B,onMouseleave:k,onClick:e.onClick},[a(p)?(m(),b(a(A),{key:0,class:v([a(n).e("icon"),a(u)])},{default:N(()=>[(m(),b(Q(a(p))))]),_:1},8,["class"])):I("v-if",!0),C("div",{class:v(a(n).e("group"))},[C("h2",{class:v(a(n).e("title")),textContent:H(e.title)},null,10,["textContent"]),x(C("div",{class:v(a(n).e("content")),style:z(e.title?void 0:{margin:0})},[R(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),F(X,{key:1},[I(" Caution here, message could've been compromised, never use user's input as message "),C("p",{innerHTML:e.message},null,8,["innerHTML"])],2112)):(m(),F("p",{key:0},H(e.message),1))])],6),[[P,e.message]]),e.showClose?(m(),b(a(A),{key:0,class:v(a(n).e("closeBtn")),onClick:ee(h,["stop"])},{default:N(()=>[G(a(c))]),_:1},8,["class","onClick"])):I("v-if",!0)],2)],46,["id","onClick"]),[[P,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var me=ce(pe,[["__file","notification.vue"]]);const E={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},L=16;let ve=1;const y=function(t={},s=null){if(!ne)return{close:()=>{}};(M(t)||_(t))&&(t={message:t});const o=t.position||"top-right";let n=t.offset||0;E[o].forEach(({vm:u})=>{var p;n+=(((p=u.el)==null?void 0:p.offsetHeight)||0)+L}),n+=L;const r=`notification_${ve++}`,f=t.onClose,d={...t,offset:n,id:r,onClose:()=>{ye(r,o,f)}};let c=document.body;D(t.appendTo)?c=t.appendTo:M(t.appendTo)&&(c=document.querySelector(t.appendTo)),D(c)||(se("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),c=document.body);const l=document.createElement("div"),i=G(me,d,_(d.message)?{default:()=>d.message}:null);return i.appContext=s??y._context,i.props.onDestroy=()=>{$(null,l)},$(i,l),E[o].push({vm:i}),c.appendChild(l.firstElementChild),{close:()=>{i.component.exposed.visible.value=!1}}};U.forEach(t=>{y[t]=(s={})=>((M(s)||_(s))&&(s={message:s}),y({...s,type:t}))});function ye(t,s,o){const n=E[s],r=n.findIndex(({vm:i})=>{var u;return((u=i.component)==null?void 0:u.props.id)===t});if(r===-1)return;const{vm:f}=n[r];if(!f)return;o==null||o(f);const d=f.el.offsetHeight,c=s.split("-")[0];n.splice(r,1);const l=n.length;if(!(l<1))for(let i=r;i<l;i++){const{el:u,component:p}=n[i].vm,T=Number.parseInt(u.style[c],10)-d-L;p.props.offset=T}}function ge(){for(const t of Object.values(E))t.forEach(({vm:s})=>{s.component.exposed.visible.value=!1})}y.closeAll=ge;y._context=null;const Ie=ie(y,"$notify");export{Ie as E};
