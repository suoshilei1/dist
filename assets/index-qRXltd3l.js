import{_ as L,u as M,r as u,o as N,c as v,d as b,Y as I,i as e,j as t,e as r,I as g,aX as U,f as l,aY as z,ag as A,g as n,J as F,h as R,U as Y,aV as j,aZ as q,v as J}from"./index-Bx6Y8L80.js";import{E as S}from"./dialog-Dt2QUqOw.js";import"./overlay-04qnzRyj.js";import{E as X}from"./card-fNeABwz5.js";import{E as Z,a as $}from"./descriptions-item-D8CFypBh.js";/* empty css                */import{E as G}from"./popper-DBn8ulUn.js";/* empty css            */import{E as H}from"./button-8bviUT_H.js";import K from"./index-DUSIzz4G.js";import{_ as O}from"./CompanyDialog-CT6Yn9KG.js";import{E as _}from"./index-KJp6TXG9.js";import{E as P}from"./index-slq3sC_j.js";import{E as Q}from"./index-aFn2MKle.js";import"./index-DZY-cmUL.js";import"./index-CuyxIfpa.js";import"./scroll-BawlEUY1.js";import"./vnode-DK7gyQZj.js";import"./index-A4BGBRGh.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./icon-6zrsquxY.js";import"./focus-trap-Ddg061Nm.js";import"./aria-BUADUvnR.js";import"./refs-Bp53MkJS.js";import"./index-AkNVqhGZ.js";import"./use-form-item-50hJ8Ppj.js";import"./drawer-C6VChdbn.js";import"./pagination-BWpx24Am.js";import"./select-BmMHn9PT.js";import"./scrollbar-DuXO1tWo.js";import"./castArray-CrUPC_Z8.js";import"./index-iw6eP590.js";import"./isEqual-BM-Gj-iT.js";import"./_Uint8Array-B6mJ0Xm4.js";import"./_baseIteratee-CkjM3wkz.js";import"./index-zrRcpBp4.js";import"./input-CFaQgGx5.js";import"./table-column-DjUxz4le.js";import"./checkbox-LjaCbo-5.js";import"./_initCloneObject-nnMrnZRY.js";import"./empty-CF5nbTvc.js";import"./autocomplete-BsDCzI7r.js";import"./date-Cgy1PrMx.js";import"./dayjs.min-Cd48fqZ9.js";import"./form-item-CWYWsPGl.js";import"./constants-NVab_QuI.js";import"./user-Csntps2O.js";import"./sha256-ByTVSy_2.js";/* empty css             *//* empty css                 */import"./DebounceAndThrottle-B_grFKK4.js";/* empty css                   */import"./validator-ulZFuTQV.js";const W={class:"company-detail","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0.1)"},ee={class:"header-left"},te={class:"header-right"},oe={class:"ellipsis"},ae={class:"box-card"},le={__name:"index",setup(ie){const c=M(),m=u(null);m.value=c.currentRoute.value.query.id;const d=u(!1),o=u({}),p=u(!0);function y(){p.value=!0,d.value=!1,j({id:m.value}).then(i=>{i.code===200?o.value=i.data.companies[0]:_.error(i.message||"获取公司详情失败")}).catch(i=>{_.error(i.message||"获取公司详情失败")}).finally(()=>{p.value=!1})}N(()=>{y()});const E=()=>{window.history.length>1?c.back():c.push("/home/company")},h=()=>{d.value=!0},k=()=>{P.confirm("确定要删除该公司吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{p.value=!0;try{const i=await q({id:+m.value});_.success("公司删除成功"),c.push({name:"CompanyManagement"})}catch(i){_.error(i.message||"删除公司失败")}finally{p.value=!1}}).catch(()=>{})};return(i,a)=>{const f=H,s=Z,x=Q,C=G,B=$,V=X,w=S,D=J;return v(),b(Y,null,[I((v(),b("div",W,[e(V,{class:"box-card"},{header:t(()=>[r("div",ee,[e(f,{link:"",type:"primary",icon:g(U),onClick:E},{default:t(()=>a[1]||(a[1]=[l("返回")])),_:1},8,["icon"]),a[2]||(a[2]=r("span",{class:"title-divider"},"|",-1)),a[3]||(a[3]=r("span",{class:"card-title"},"公司详情",-1))]),r("div",te,[e(f,{type:"primary",icon:g(z),size:"small",onClick:h},{default:t(()=>a[4]||(a[4]=[l(" 编辑 ")])),_:1},8,["icon"]),e(f,{type:"danger",icon:g(A),size:"small",onClick:k},{default:t(()=>a[5]||(a[5]=[l(" 删除 ")])),_:1},8,["icon"])])]),default:t(()=>[e(B,{class:"company-info-grid",title:"公司信息",column:5,border:""},{default:t(()=>[e(s,{label:"公司名称"},{default:t(()=>[l(n(o.value.name),1)]),_:1}),e(s,{label:"联系电话"},{default:t(()=>[l(n(o.value.phone),1)]),_:1}),e(s,{label:"状态"},{default:t(()=>[e(x,{type:o.value.status===1?"success":"danger",effect:"light"},{default:t(()=>[l(n(o.value.status===1?"可用":"不可用"),1)]),_:1},8,["type"])]),_:1}),e(s,{label:"行业代码"},{default:t(()=>[l(n(o.value.company_code),1)]),_:1}),e(s,{label:"行业"},{default:t(()=>[l(n(o.value.sector),1)]),_:1}),e(s,{label:"产品"},{default:t(()=>[l(n(o.value.product_name),1)]),_:1}),e(s,{label:"地址"},{default:t(()=>[l(n(o.value.location),1)]),_:1}),o.value.comment?(v(),F(s,{key:0,label:"备注"},{default:t(()=>[e(C,{class:"item",effect:"dark",content:o.value.comment,placement:"top"},{default:t(()=>[r("span",oe,n(o.value.comment),1)]),_:1},8,["content"])]),_:1})):R("",!0)]),_:1})]),_:1}),r("div",ae,[e(K,{company_id:m.value},null,8,["company_id"])])])),[[D,p.value]]),e(w,{title:"编辑公司","align-center":"",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=T=>d.value=T),"close-on-click-modal":!1},{default:t(()=>[e(O,{onFetchCompanyList:y,id:m.value},null,8,["id"])]),_:1},8,["modelValue"])],64)}}},it=L(le,[["__scopeId","data-v-211f4b0e"]]);export{it as default};
