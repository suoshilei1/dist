import{z as bh,D as vh,E as wh,F as Hn,av as tp,M as xh,r as st,T as np,aw as Lr,B as Wi,C as Mi,ax as Mh,G as ep,A as rp,k as ut,f as qe,O as ip,ai as op,_ as Jo,q as Vf,W as Hf,o as Ze,w as ao,j as ap,X as up,c as mn,d as Ye,e as rt,l as Mt,N as Si,Y as Au,J as uo,g as Ua,h as Eu,v as Sh,ak as Xf}from"./index-DWtISIBF.js";import{E as cp}from"./card-Cr9tAXzl.js";import{_ as fp}from"./MeterSelect-w6b73_BF.js";import{E as sp,a as lp}from"./radio-group-QDHk4pt3.js";/* empty css              */import{E as hp}from"./dialog-DnmK2X7S.js";import"./overlay-BY0G5ok6.js";import{_ as dp}from"./MeterDialog-DLFqLZEh.js";import{E as Th}from"./button-DfREtLL_.js";/* empty css                */import{E as gp}from"./popper-BNb2tGl7.js";import{E as pp}from"./switch-DymwEZcu.js";import{u as Hr,k as mp,l as yp,n as Wf}from"./meter-BWYCtTLu.js";import{u as co}from"./area-CDc72icr.js";import{D as _p}from"./DeviceInfo-CsAAyhCv.js";/* empty css             *//* empty css                 *//* empty css                   */import{E as dn}from"./index-CZh1RU_w.js";import{E as Gf}from"./index-BTG_XGfc.js";import{P as Bn,i as Zf,a as bp}from"./vnode-BIvhTfyw.js";import"./plugin-vue_export-helper-CqGSI99y.js";/* empty css            */import"./select-DYqyOwb9.js";import"./scrollbar-BMOxp_jN.js";import"./index-CVAPKPs0.js";import"./index-0A8HTOTd.js";import"./index-CuP5NVML.js";import"./use-form-item-CuJrx89H.js";import"./castArray-6TPyo715.js";import"./index-DibVzrKz.js";import"./icon-Cc3ZZocH.js";import"./aria-BUADUvnR.js";import"./scroll-DMdoCUCr.js";import"./isEqual-DqXByToB.js";import"./_Uint8Array-DaZSNKBQ.js";import"./_baseIteratee-FAqII4j1.js";import"./index-DfeXTFmx.js";import"./index-DjvbDGpK.js";import"./index-DxRU3L2W.js";import"./focus-trap-D8pg8SM_.js";import"./refs-BfLSHSPd.js";import"./form-item-ijUMtc9_.js";import"./_initCloneObject-ChNElRpx.js";import"./input-B0bTKLmJ.js";import"./checkbox-BzIrpOFw.js";import"./date-picker-B_H4_mfX.js";import"./dayjs.min-t3tQ4ZJg.js";import"./index-CeeR5a7H.js";import"./formula-BoDYiet4.js";import"./formula-HQf-IMJj.js";import"./handleError-BsBqXgSR.js";/* empty css                        */import"./index-DYLzNb0k.js";import"./constant-C2yHPMd2.js";import"./constants-NVab_QuI.js";import"./validator-CunO4hgy.js";import"./descriptions-item--XR7Cf6R.js";import"./empty-CAh1XabF.js";import"./date-C99jBCbl.js";import"./index.vue-cqg6ZM2y.js";import"./useParentComponentEffect-DPTUSRTe.js";const vp=bh({prefixCls:{type:String}}),Qf=vh({name:"ElSpaceItem",props:vp,setup(t,{slots:n}){const e=wh("space"),r=Hn(()=>`${t.prefixCls||e.b()}__item`);return()=>tp("div",{class:r.value},xh(n,"default"))}}),Kf={small:8,default:12,large:16};function wp(t){const n=wh("space"),e=Hn(()=>[n.b(),n.m(t.direction),t.class]),r=st(0),i=st(0),o=Hn(()=>{const u=t.wrap||t.fill?{flexWrap:"wrap"}:{},f={alignItems:t.alignment},c={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[u,f,c,t.style]}),a=Hn(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return np(()=>{const{size:u="small",wrap:f,direction:c,fill:s}=t;if(Lr(u)){const[h=0,l=0]=u;r.value=h,i.value=l}else{let h;Wi(u)?h=u:h=Kf[u||"small"]||Kf.small,(f||s)&&c==="horizontal"?r.value=i.value=h:c==="horizontal"?(r.value=h,i.value=0):(i.value=h,r.value=0)}}),{classes:e,containerStyle:o,itemStyle:a}}const xp=bh({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Mi([String,Object,Array]),default:""},style:{type:Mi([String,Array,Object]),default:""},alignment:{type:Mi(String),default:"center"},prefixCls:{type:String},spacer:{type:Mi([Object,String,Number,Array]),default:null,validator:t=>Mh(t)||Wi(t)||ep(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:rp,validator:t=>Wi(t)||Lr(t)&&t.length===2&&t.every(Wi)}}),Mp=vh({name:"ElSpace",props:xp,setup(t,{slots:n}){const{classes:e,containerStyle:r,itemStyle:i}=wp(t);function o(a,u="",f=[]){const{prefixCls:c}=t;return a.forEach((s,h)=>{Zf(s)?Lr(s.children)&&s.children.forEach((l,d)=>{Zf(l)&&Lr(l.children)?o(l.children,`${u+d}-`,f):f.push(ut(Qf,{style:i.value,prefixCls:c,key:`nested-${u+d}`},{default:()=>[l]},Bn.PROPS|Bn.STYLE,["style","prefixCls"]))}):bp(s)&&f.push(ut(Qf,{style:i.value,prefixCls:c,key:`LoopKey${u+h}`},{default:()=>[s]},Bn.PROPS|Bn.STYLE,["style","prefixCls"]))}),f}return()=>{var a;const{spacer:u,direction:f}=t,c=xh(n,"default",{key:0},()=>[]);if(((a=c.children)!=null?a:[]).length===0)return null;if(Lr(c.children)){let s=o(c.children);if(u){const h=s.length-1;s=s.reduce((l,d,m)=>{const g=[...l,d];return m!==h&&g.push(ut("span",{style:[i.value,f==="vertical"?"width: 100%":null],key:m},[Mh(u)?u:qe(u,Bn.TEXT)],Bn.STYLE)),g},[])}return ut("div",{class:e.value,style:r.value},s,Bn.STYLE|Bn.CLASS)}return c.children}}}),Sp=ip(Mp),Ti=Hr();function jf(){const t=st(!1),n=st(!1),e=st(null),r=st(null),i=st(!1),o=st(!1);async function a(d){if(d.id!==1)try{Ti.setCurrentMeter(d.$$data),op(()=>{n.value=!0})}catch(m){console.error("处理节点点击失败:",m),dn.error("加载数据失败")}}function u(d){r.value=d,t.value=!0}async function f(d){if(d.id===1){dn.error("根节点不能删除");return}try{await Gf.confirm("确认要删除该节点吗？","提示",{type:"warning"}),i.value=!0;const m=await mp([d.id]);if(m.code===200)dn.success("删除成功"),await Ti.fetchMeterList();else throw new Error(m.message||"删除失败")}catch(m){m!=="cancel"&&(console.error(m),dn.error(m.message||"删除失败"))}finally{i.value=!1}}function c(d){if(d.id===1){dn.error("根节点不能编辑");return}e.value=d,r.value={id:d.parent_id,type:d.type},t.value=!0}async function s(d,m){if(o.value)try{await Gf.confirm("确认要保存此次拖拽更改吗？","提示",{type:"warning"}),await h(d,m)}catch(g){g!=="cancel"&&console.error("拖拽更改失败",g)}}async function h(d,m){i.value=!0;try{const g=await yp({id:d.id,parent_id:m.id});if(g.code===200)dn.success("拖拽更改成功"),await Ti.fetchMeterList();else throw new Error(g.message||"拖拽更改失败")}catch(g){console.error(g),dn.error(g.message||"拖拽更改失败")}finally{i.value=!1}}async function l(){t.value=!1,await Ti.fetchMeterList(),e.value=null,r.value=null}return{dialogVisible:t,viewDialogVisible:n,currentMeter:e,parent_meter:r,loading:i,nodeDraggable:o,handleNodeClick:a,nodeAdd:u,nodeDelete:f,nodeEdit:c,handleDragEnd:s,handleDialogSuccess:l}}const Tp={__name:"MeterStructure",setup(t,{expose:n}){n();let e=Vf();const r=e.hasPermission("manage_device"),i=st(!1),o=st(!1),a=st(new Map),u=st(!1),f=Hr(),c=Hf(),s=co();let{dialogVisible:h,viewDialogVisible:l,currentMeter:d,parent_meter:m,loading:g,nodeDraggable:p,handleNodeClick:y,nodeAdd:v,nodeDelete:b,nodeEdit:_,handleDragEnd:w,handleDialogSuccess:x}=jf();const E=st({label:"label",children:"children",id:"id",area_id:"area_id",pid:"parent_id"}),N=Hn(()=>({id:1,label:c.currentCompany.name,children:f.treeDataForChart}));async function $(C){try{const I=await Wf({id:C});I.code===200?a.value.set(C,`${I.data.value}`):a.value.set(C,"-- --")}catch(I){console.error("获取最新读数失败:",I),a.value.set(C,"-- --")}}async function k(){if(!u.value){u.value=!0;try{await A(),await S(),dn.success("数据刷新成功")}catch(C){console.error("刷新数据失败:",C),dn.error("刷新数据失败")}finally{u.value=!1}}}async function S(){a.value.clear();const C=f.meterList.map(I=>$(I.id));await Promise.all(C)}function P(C){return C.id===1?c.currentCompany.location:s.getAreaNameById(C.$$data.area_id)}function R(C){const I=P(C);return I&&I.length>10}Ze(async()=>{const C=f.meterList.map(I=>$(I.id));await Promise.all(C)}),ao(()=>f.meterList,async()=>{await S()});const M=C=>C.id===1?"fa-building company-icon":"fa-tachometer meter-icon",A=async()=>{g.value=!0;try{await f.fetchMeterList({type:1}),f.treeDataForChart.length>0&&f.setCurrentMeter(f.treeDataForChart[0])}catch(C){console.error("获取表计列表失败",C),dn.error("获取表计列表失败")}finally{g.value=!1}};A();const T={get permisstionStore(){return e},set permisstionStore(C){e=C},isEdit:r,horizontal:i,collapsable:o,latestReadings:a,refreshing:u,meterStore:f,companyStore:c,areaStore:s,get dialogVisible(){return h},set dialogVisible(C){h=C},get viewDialogVisible(){return l},set viewDialogVisible(C){l=C},get currentMeter(){return d},set currentMeter(C){d=C},get parent_meter(){return m},set parent_meter(C){m=C},get loading(){return g},set loading(C){g=C},get nodeDraggable(){return p},set nodeDraggable(C){p=C},get handleNodeClick(){return y},set handleNodeClick(C){y=C},get nodeAdd(){return v},set nodeAdd(C){v=C},get nodeDelete(){return b},set nodeDelete(C){b=C},get nodeEdit(){return _},set nodeEdit(C){_=C},get handleDragEnd(){return w},set handleDragEnd(C){w=C},get handleDialogSuccess(){return x},set handleDialogSuccess(C){x=C},propsSetting:E,data:N,fetchLatestReading:$,handleRefresh:k,refreshLatestReadings:S,getAreaName:P,isAreaNameTruncated:R,getNodeIconClass:M,getMeters:A,ref:st,computed:Hn,onMounted:Ze,watch:ao,get getLatestReadApi(){return Wf},get useAreaStore(){return co},get useCompanyStore(){return Hf},get useMeterStore(){return Hr},DeviceInfo:_p,get useMeterStructure(){return jf},get usePermissionStore(){return Vf}};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},Ap={class:"meter-tree-container"},Ep={class:"control-panel"},$p={class:"control-item"},kp={class:"control-label"},Np={class:"control-item"},Cp={class:"control-label"},Rp={class:"control-item"},Pp={class:"control-label"},Ip={class:"control-item"},zp={class:"tree-container"},Dp=["onClick"],Op={class:"node-content"},Lp={class:"node-header"},Fp={class:"node-title"},Bp={class:"node-info"},Up={class:"node-area"},qp={class:"area-text"},Yp={key:0,class:"node-reading"};function Vp(t,n,e,r,i,o){const a=pp,u=gp,f=Th,c=Sp,s=ap("vue3-tree-org"),h=dp,l=hp,d=up("permission"),m=Sh;return mn(),Ye("div",Ap,[rt("div",Ep,[ut(c,null,{default:Mt(()=>[ut(u,{content:"切换布局方向",placement:"top"},{default:Mt(()=>[rt("div",$p,[ut(a,{modelValue:r.horizontal,"onUpdate:modelValue":n[0]||(n[0]=g=>r.horizontal=g),"active-value":!0,"inactive-value":!1},null,8,["modelValue"]),rt("span",kp,[rt("i",{class:Si(["fa",r.horizontal?"fa-bars":"fa-sort"])},null,2),n[6]||(n[6]=qe(" 纵向展示 "))])])]),_:1}),ut(u,{content:"允许折叠节点",placement:"top"},{default:Mt(()=>[rt("div",Np,[ut(a,{modelValue:r.collapsable,"onUpdate:modelValue":n[1]||(n[1]=g=>r.collapsable=g)},null,8,["modelValue"]),rt("span",Cp,[rt("i",{class:Si(["fa",r.collapsable?"fa-minus-square-o":"fa-plus-square-o"])},null,2),n[7]||(n[7]=qe(" 节点折叠 "))])])]),_:1}),Au((mn(),Ye("div",null,[ut(u,{content:"启用节点拖拽",placement:"top"},{default:Mt(()=>[rt("div",Rp,[ut(a,{modelValue:r.nodeDraggable,"onUpdate:modelValue":n[2]||(n[2]=g=>r.nodeDraggable=g)},null,8,["modelValue"]),rt("span",Pp,[rt("i",{class:Si(["fa",r.nodeDraggable?"fa-arrows":"fa-lock"])},null,2),n[8]||(n[8]=qe(" 拖拽编辑 "))])])]),_:1})])),[[d,"manage_device"]]),ut(u,{content:"刷新数据",placement:"top"},{default:Mt(()=>[rt("div",Ip,[ut(f,{loading:r.refreshing,link:"",onClick:r.handleRefresh},{icon:Mt(()=>n[9]||(n[9]=[rt("i",{class:"fa fa-refresh"},null,-1)])),_:1},8,["loading"])])]),_:1})]),_:1})]),rt("div",zp,[Au((mn(),uo(s,{disabled:!r.isEdit,horizontal:r.horizontal,collapsable:r.collapsable,"element-loading-text":"加载中...",class:"custom-tree-org",data:r.data,"node-add":r.nodeAdd,"node-delete":r.nodeDelete,"node-edit":r.nodeEdit,props:r.propsSetting,onOnNodeDragEnd:r.handleDragEnd,"only-one-node":!1,"clone-node-drag":!0,draggable:!0},{default:Mt(({node:g})=>[rt("div",{class:"tree-org-node__text",onClick:p=>r.handleNodeClick(g)},[rt("div",Op,[rt("div",Lp,[rt("i",{class:Si(["fa",r.getNodeIconClass(g)])},null,2),rt("span",Fp,Ua(g.label),1)]),rt("div",Bp,[ut(u,{content:r.getAreaName(g),placement:"top",disabled:!r.isAreaNameTruncated(g)},{default:Mt(()=>[rt("span",Up,[n[10]||(n[10]=rt("i",{class:"fa fa-map-marker"},null,-1)),rt("span",qp,Ua(r.getAreaName(g)),1)])]),_:2},1032,["content","disabled"]),g.id!==1?(mn(),Ye("span",Yp,Ua(r.latestReadings.get(g.id)??"加载中..."),1)):Eu("",!0)])])],8,Dp)]),_:1},8,["disabled","horizontal","collapsable","data","node-add","node-delete","node-edit","props","onOnNodeDragEnd"])),[[m,r.loading]])]),ut(l,{title:r.currentMeter?"编辑表计":"新增表计",modelValue:r.dialogVisible,"onUpdate:modelValue":n[4]||(n[4]=g=>r.dialogVisible=g),"destroy-on-close":"","close-on-click-modal":!1},{default:Mt(()=>{var g;return[ut(h,{"onUpdate:visible":n[3]||(n[3]=p=>r.dialogVisible=!1),pMeter:r.parent_meter,id:(g=r.currentMeter)==null?void 0:g.id,onSuccess:r.handleDialogSuccess},null,8,["pMeter","id","onSuccess"])]}),_:1},8,["title","modelValue"]),ut(l,{style:{height:"80vh",overflow:"auto"},title:"表计详情",modelValue:r.viewDialogVisible,"onUpdate:modelValue":n[5]||(n[5]=g=>r.viewDialogVisible=g)},{default:Mt(()=>[ut(r.DeviceInfo)]),_:1},8,["modelValue"])])}const Hp=Jo(Tp,[["render",Vp],["__scopeId","data-v-0cdadea8"],["__file","D:/临时存放/green-carbon-1.0/src/components/meter/MeterStructure.vue"]]);function Jf(t){const n=st(!1);return{exporting:n,exportChart:async()=>{if(!(!t.value||n.value))try{n.value=!0;const i=t.value.querySelector(".zoom-group"),o=i.getBBox(),a=50,u=Math.ceil(o.width+a*2),f=Math.ceil(o.height+a*2),c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width",u),c.setAttribute("height",f),c.setAttribute("viewBox",`0 0 ${u} ${f}`);const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("fill","white"),c.appendChild(s);const h=i.cloneNode(!0);h.setAttribute("transform",`translate(${-o.x+a}, ${-o.y+a})`),c.appendChild(h);const l=new XMLSerializer().serializeToString(c),d=document.createElement("canvas"),m=2;d.width=u*m,d.height=f*m;const g=d.getContext("2d");g.scale(m,m);const p=new Image;p.onload=()=>{g.fillStyle="white",g.fillRect(0,0,d.width,d.height),g.drawImage(p,0,0,u,f);const v=document.createElement("a");v.download="树形图.png",v.href=d.toDataURL("image/png"),v.click(),n.value=!1},p.onerror=()=>{console.error("Image loading failed"),n.value=!1};const y=new Blob([l],{type:"image/svg+xml;charset=utf-8"});p.src=URL.createObjectURL(y)}catch(r){console.error("Export failed:",r),n.value=!1}}}}function dt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ah(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ta(t){let n,e,r;t.length!==2?(n=dt,e=(u,f)=>dt(t(u),f),r=(u,f)=>t(u)-f):(n=t===dt||t===Ah?t:Xp,e=t,r=t);function i(u,f,c=0,s=u.length){if(c<s){if(n(f,f)!==0)return s;do{const h=c+s>>>1;e(u[h],f)<0?c=h+1:s=h}while(c<s)}return c}function o(u,f,c=0,s=u.length){if(c<s){if(n(f,f)!==0)return s;do{const h=c+s>>>1;e(u[h],f)<=0?c=h+1:s=h}while(c<s)}return c}function a(u,f,c=0,s=u.length){const h=i(u,f,c,s-1);return h>c&&r(u[h-1],f)>-r(u[h],f)?h-1:h}return{left:i,center:a,right:o}}function Xp(){return 0}function fo(t){return t===null?NaN:+t}function*Wp(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Eh=ta(dt),Wn=Eh.right,Gp=Eh.left,Zp=ta(fo).center;function Qp(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=Sc(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t}const $h=kh(Sc),Kp=kh(jp);function kh(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const u=e&&t(e),f=r&&t(r),c=i.slice();return u&&f?(ke(u,c,i,o,a),ke(u,i,c,o,a),ke(u,c,i,o,a),Ne(f,i,c,o,a),Ne(f,c,i,o,a),Ne(f,i,c,o,a)):u?(ke(u,i,c,o,a),ke(u,c,i,o,a),ke(u,i,c,o,a)):f&&(Ne(f,i,c,o,a),Ne(f,c,i,o,a),Ne(f,i,c,o,a)),n}}function ke(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function Ne(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function jp(t){const n=Sc(t);return(e,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,n(e,r,i+0,o+0,a),n(e,r,i+1,o+1,a),n(e,r,i+2,o+2,a),n(e,r,i+3,o+3,a)}}function Sc(t){const n=Math.floor(t);if(n===t)return Jp(t);const e=t-n,r=2*t+1;return(i,o,a,u,f)=>{if(!((u-=f)>=a))return;let c=n*o[a];const s=f*n,h=s+f;for(let l=a,d=a+s;l<d;l+=f)c+=o[Math.min(u,l)];for(let l=a,d=u;l<=d;l+=f)c+=o[Math.min(u,l+s)],i[l]=(c+e*(o[Math.max(a,l-h)]+o[Math.min(u,l+h)]))/r,c-=o[Math.max(a,l-s)]}}function Jp(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=t*r[i];const f=a*t;for(let c=i,s=i+f;c<s;c+=a)u+=r[Math.min(o,c)];for(let c=i,s=o;c<=s;c+=a)u+=r[Math.min(o,c+f)],e[c]=u/n,u-=r[Math.max(i,c-f)]}}function na(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function tm(t){return t.length|0}function nm(t){return!(t>0)}function em(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function rm(t){return n=>t(...n)}function im(...t){const n=typeof t[t.length-1]=="function"&&rm(t.pop());t=t.map(em);const e=t.map(tm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(nm))return o;for(;;){o.push(i.map((u,f)=>t[f][u]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function om(t,n){var e=0,r=0;return Float64Array.from(t,n===void 0?i=>e+=+i||0:i=>e+=+n(i,r++,t)||0)}function Nh(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let u of t)(u=n(u,++a,t))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++e,o+=r*(u-i))}if(e>1)return o/(e-1)}function Ch(t,n){const e=Nh(t,n);return e&&Math.sqrt(e)}function Fr(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class xt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,u=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);u&&(e[r++]=u),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function am(t,n){const e=new xt;if(n===void 0)for(let r of t)(r=+r)&&e.add(r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function um(t,n){const e=new xt;let r=-1;return Float64Array.from(t,n===void 0?i=>e.add(+i||0):i=>e.add(+n(i,++r,t)||0))}class Xr extends Map{constructor(n,e=Ih){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get($u(this,n))}has(n){return super.has($u(this,n))}set(n,e){return super.set(Rh(this,n),e)}delete(n){return super.delete(Ph(this,n))}}class he extends Set{constructor(n,e=Ih){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has($u(this,n))}add(n){return super.add(Rh(this,n))}delete(n){return super.delete(Ph(this,n))}}function $u({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Rh({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ph({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ih(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qe(t){return t}function zh(t,...n){return hr(t,Qe,Qe,n)}function Dh(t,...n){return hr(t,Array.from,Qe,n)}function Oh(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function cm(t,...n){return Oh(Dh(t,...n),n)}function fm(t,n,...e){return Oh(Fh(t,n,...e),e)}function Lh(t,n,...e){return hr(t,Qe,n,e)}function Fh(t,n,...e){return hr(t,Array.from,n,e)}function sm(t,...n){return hr(t,Qe,Bh,n)}function lm(t,...n){return hr(t,Array.from,Bh,n)}function Bh(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function hr(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const u=new Xr,f=r[a++];let c=-1;for(const s of o){const h=f(s,++c,o),l=u.get(h);l?l.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,i(h,a));return n(u)}(t,0)}function Uh(t,n){return Array.from(n,e=>t[e])}function ku(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const u=Ke(a[i],a[o]);if(u)return u}})):(e=t.map(e),r.sort((i,o)=>Ke(e[i],e[o]))),Uh(t,r)}return t.sort(Tc(e))}function Tc(t=dt){if(t===dt)return Ke;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Ke(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function hm(t,n,e){return(n.length!==2?ku(Lh(t,n,e),([r,i],[o,a])=>dt(i,a)||dt(r,o)):ku(zh(t,e),([r,i],[o,a])=>n(i,a)||dt(r,o))).map(([r])=>r)}var dm=Array.prototype,gm=dm.slice;function qa(t){return()=>t}const pm=Math.sqrt(50),mm=Math.sqrt(10),ym=Math.sqrt(2);function so(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=pm?10:o>=mm?5:o>=ym?2:1;let u,f,c;return i<0?(c=Math.pow(10,-i)/a,u=Math.round(t*c),f=Math.round(n*c),u/c<t&&++u,f/c>n&&--f,c=-c):(c=Math.pow(10,i)*a,u=Math.round(t/c),f=Math.round(n/c),u*c<t&&++u,f*c>n&&--f),f<u&&.5<=e&&e<2?so(t,n,e*2):[u,f,c]}function de(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?so(n,t,e):so(t,n,e);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(a<0)for(let c=0;c<u;++c)f[c]=(o-c)/-a;else for(let c=0;c<u;++c)f[c]=(o-c)*a;else if(a<0)for(let c=0;c<u;++c)f[c]=(i+c)/-a;else for(let c=0;c<u;++c)f[c]=(i+c)*a;return f}function ge(t,n,e){return n=+n,t=+t,e=+e,so(t,n,e)[2]}function lo(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?ge(n,t,e):ge(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Ac(t,n,e){let r;for(;;){const i=ge(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function Ec(t){return Math.max(1,Math.ceil(Math.log(na(t))/Math.LN2)+1)}function ts(){var t=Qe,n=Fr,e=Ec;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,u,f,c=new Array(a);for(o=0;o<a;++o)c[o]=t(i[o],o,i);var s=n(c),h=s[0],l=s[1],d=e(c,h,l);if(!Array.isArray(d)){const b=l,_=+d;if(n===Fr&&([h,l]=Ac(h,l,_)),d=de(h,l,_),d[0]<=h&&(f=ge(h,l,_)),d[d.length-1]>=l)if(b>=l&&n===Fr){const w=ge(h,l,_);isFinite(w)&&(w>0?l=(Math.floor(l/w)+1)*w:w<0&&(l=(Math.ceil(l*-w)+1)/-w))}else d.pop()}for(var m=d.length,g=0,p=m;d[g]<=h;)++g;for(;d[p-1]>l;)--p;(g||p<m)&&(d=d.slice(g,p),m=p-g);var y=new Array(m+1),v;for(o=0;o<=m;++o)v=y[o]=[],v.x0=o>0?d[o-1]:h,v.x1=o<m?d[o]:l;if(isFinite(f)){if(f>0)for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=l&&y[Math.min(m,Math.floor((u-h)/f))].push(i[o]);else if(f<0){for(o=0;o<a;++o)if((u=c[o])!=null&&h<=u&&u<=l){const b=Math.floor((h-u)*f);y[Math.min(m,b+(d[b]<=u))].push(i[o])}}}else for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=l&&y[Wn(d,u,0,m)].push(i[o]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:qa(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:qa([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:qa(Array.isArray(i)?gm.call(i):i),r):e},r}function Wr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function $c(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function ho(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function kc(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function ea(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Ke:Tc(i);r>e;){if(r-e>600){const f=r-e+1,c=n-e+1,s=Math.log(f),h=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*h*(f-h)/f)*(c-f/2<0?-1:1),d=Math.max(e,Math.floor(n-c*h/f+l)),m=Math.min(r,Math.floor(n+(f-c)*h/f+l));ea(t,n,d,m,i)}const o=t[n];let a=e,u=r;for(_r(t,e,n),i(t[r],o)>0&&_r(t,e,r);a<u;){for(_r(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[e],o)===0?_r(t,e,u):(++u,_r(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function _r(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function qh(t,n=dt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?dt(a,i)>0:dt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Gr(t,n,e){if(t=Float64Array.from(Wp(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return ho(t);if(n>=1)return Wr(t);var r,i=(r-1)*n,o=Math.floor(i),a=Wr(ea(t,o).subarray(0,o+1)),u=ho(t.subarray(o+1));return a+(u-a)*(i-o)}}function Yh(t,n,e=fo){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),u=+e(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Vh(t,n,e=fo){if(!isNaN(n=+n)){if(r=Float64Array.from(t,(u,f)=>fo(e(t[f],f,t))),n<=0)return kc(r);if(n>=1)return $c(r);var r,i=Uint32Array.from(t,(u,f)=>f),o=r.length-1,a=Math.floor(o*n);return ea(i,a,0,o,(u,f)=>Ke(r[u],r[f])),a=qh(i.subarray(0,a+1),u=>r[u]),a>=0?a:-1}}function _m(t,n,e){const r=na(t),i=Gr(t,.75)-Gr(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function bm(t,n,e){const r=na(t),i=Ch(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function vm(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function wm(t,n){return Gr(t,.5,n)}function xm(t,n){return Vh(t,.5,n)}function*Mm(t){for(const n of t)yield*n}function Nc(t){return Array.from(Mm(t))}function Sm(t,n){const e=new Xr;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Tm(t,n=Am){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Am(t,n){return[t,n]}function Yn(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Em(t,n=dt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);n.length!==2&&(e=e.map(n),n=dt);const i=(u,f)=>n(e[u],e[f]);let o,a;return t=Uint32Array.from(e,(u,f)=>f),t.sort(n===dt?(u,f)=>Ke(e[u],e[f]):Tc(i)),t.forEach((u,f)=>{const c=i(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,a=f),r[u]=a):r[u]=NaN}),r}function $m(t,n=dt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?dt(a,i)<0:dt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)<0:n(i,i)===0)&&(e=i,r=!0);return e}function Hh(t,n=dt){if(n.length===1)return kc(t,n);let e,r=-1,i=-1;for(const o of t)++i,(r<0?n(o,o)===0:n(o,e)<0)&&(e=o,r=i);return r}function km(t,n=dt){if(n.length===1)return $c(t,n);let e,r=-1,i=-1;for(const o of t)++i,(r<0?n(o,o)===0:n(o,e)>0)&&(e=o,r=i);return r}function Nm(t,n){const e=Hh(t,n);return e<0?void 0:e}const Cm=Xh(Math.random);function Xh(t){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const a=t()*o--|0,u=e[o+r];e[o+r]=e[a+r],e[a+r]=u}return e}}function Rm(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Wh(t){if(!(o=t.length))return[];for(var n=-1,e=ho(t,Pm),r=new Array(e);++n<e;)for(var i=-1,o,a=r[n]=new Array(o);++i<o;)a[i]=t[i][n];return r}function Pm(t){return t.length}function Im(){return Wh(arguments)}function zm(t,n){if(typeof n!="function")throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function Dm(t,n){if(typeof n!="function")throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Om(t,n){if(typeof n!="function")throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Lm(t,n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof n!="function")throw new TypeError("mapper is not a function");return Array.from(t,(e,r)=>n(e,r,t))}function Fm(t,n,e){if(typeof n!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:e}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)e=n(e,o,++a,t);return e}function Bm(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Um(t,...n){t=new he(t);for(const e of n)for(const r of e)t.delete(r);return t}function qm(t,n){const e=n[Symbol.iterator](),r=new he;for(const i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=e.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function Ym(t,...n){t=new he(t),n=n.map(Vm);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function Vm(t){return t instanceof he?t:new he(t)}function Gh(t,n){const e=t[Symbol.iterator](),r=new Set;for(const i of n){const o=ns(i);if(r.has(o))continue;let a,u;for(;{value:a,done:u}=e.next();){if(u)return!1;const f=ns(a);if(r.add(f),Object.is(o,f))break}}return!0}function ns(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hm(t,n){return Gh(n,t)}function Xm(...t){const n=new he;for(const e of t)for(const r of e)n.add(r);return n}function Wm(t){return t}var Gi=1,Zi=2,Nu=3,Ar=4,es=1e-6;function Gm(t){return"translate("+t+",0)"}function Zm(t){return"translate(0,"+t+")"}function Qm(t){return n=>+t(n)}function Km(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function jm(){return!this.__axis}function ra(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Gi||t===Ar?-1:1,s=t===Ar||t===Zi?"x":"y",h=t===Gi||t===Nu?Gm:Zm;function l(d){var m=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Wm),p=Math.max(o,0)+u,y=n.range(),v=+y[0]+f,b=+y[y.length-1]+f,_=(n.bandwidth?Km:Qm)(n.copy(),f),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),E=w.selectAll(".tick").data(m,n).order(),N=E.exit(),$=E.enter().append("g").attr("class","tick"),k=E.select("line"),S=E.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge($),k=k.merge($.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),S=S.merge($.append("text").attr("fill","currentColor").attr(s,c*p).attr("dy",t===Gi?"0em":t===Nu?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),E=E.transition(d),k=k.transition(d),S=S.transition(d),N=N.transition(d).attr("opacity",es).attr("transform",function(P){return isFinite(P=_(P))?h(P+f):this.getAttribute("transform")}),$.attr("opacity",es).attr("transform",function(P){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(P))?R:_(P))+f)})),N.remove(),x.attr("d",t===Ar||t===Zi?a?"M"+c*a+","+v+"H"+f+"V"+b+"H"+c*a:"M"+f+","+v+"V"+b:a?"M"+v+","+c*a+"V"+f+"H"+b+"V"+c*a:"M"+v+","+f+"H"+b),E.attr("opacity",1).attr("transform",function(P){return h(_(P)+f)}),k.attr(s+"2",c*o),S.attr(s,c*p).text(g),w.filter(jm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Zi?"start":t===Ar?"end":"middle"),w.each(function(){this.__axis=_})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(u=+d,l):u},l.offset=function(d){return arguments.length?(f=+d,l):f},l}function Jm(t){return ra(Gi,t)}function t2(t){return ra(Zi,t)}function n2(t){return ra(Nu,t)}function e2(t){return ra(Ar,t)}var r2={value:()=>{}};function Me(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Qi(e)}function Qi(t){this._=t}function i2(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Qi.prototype=Me.prototype={constructor:Qi,on:function(t,n){var e=this._,r=i2(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=o2(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=rs(e[i],t.name,n);else if(n==null)for(i in e)e[i]=rs(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Qi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function o2(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function rs(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=r2,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Cu="http://www.w3.org/1999/xhtml";const Ru={svg:"http://www.w3.org/2000/svg",xhtml:Cu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function si(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ru.hasOwnProperty(n)?{space:Ru[n],local:t}:t}function a2(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Cu&&n.documentElement.namespaceURI===Cu?n.createElement(t):n.createElementNS(e,t)}}function u2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ia(t){var n=si(t);return(n.local?u2:a2)(n)}function c2(){}function oa(t){return t==null?c2:function(){return this.querySelector(t)}}function f2(t){typeof t!="function"&&(t=oa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=new Array(a),f,c,s=0;s<a;++s)(f=o[s])&&(c=t.call(f,f.__data__,s,o))&&("__data__"in f&&(c.__data__=f.__data__),u[s]=c);return new qt(r,this._parents)}function Zh(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function s2(){return[]}function Cc(t){return t==null?s2:function(){return this.querySelectorAll(t)}}function l2(t){return function(){return Zh(t.apply(this,arguments))}}function h2(t){typeof t=="function"?t=l2(t):t=Cc(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],u=a.length,f,c=0;c<u;++c)(f=a[c])&&(r.push(t.call(f,f.__data__,c,a)),i.push(f));return new qt(r,i)}function Rc(t){return function(){return this.matches(t)}}function Qh(t){return function(n){return n.matches(t)}}var d2=Array.prototype.find;function g2(t){return function(){return d2.call(this.children,t)}}function p2(){return this.firstElementChild}function m2(t){return this.select(t==null?p2:g2(typeof t=="function"?t:Qh(t)))}var y2=Array.prototype.filter;function _2(){return Array.from(this.children)}function b2(t){return function(){return y2.call(this.children,t)}}function v2(t){return this.selectAll(t==null?_2:b2(typeof t=="function"?t:Qh(t)))}function w2(t){typeof t!="function"&&(t=Rc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],f,c=0;c<a;++c)(f=o[c])&&t.call(f,f.__data__,c,o)&&u.push(f);return new qt(r,this._parents)}function Kh(t){return new Array(t.length)}function x2(){return new qt(this._enter||this._groups.map(Kh),this._parents)}function go(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}go.prototype={constructor:go,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function M2(t){return function(){return t}}function S2(t,n,e,r,i,o){for(var a=0,u,f=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new go(t,o[a]);for(;a<f;++a)(u=n[a])&&(i[a]=u)}function T2(t,n,e,r,i,o,a){var u,f,c=new Map,s=n.length,h=o.length,l=new Array(s),d;for(u=0;u<s;++u)(f=n[u])&&(l[u]=d=a.call(f,f.__data__,u,n)+"",c.has(d)?i[u]=f:c.set(d,f));for(u=0;u<h;++u)d=a.call(t,o[u],u,o)+"",(f=c.get(d))?(r[u]=f,f.__data__=o[u],c.delete(d)):e[u]=new go(t,o[u]);for(u=0;u<s;++u)(f=n[u])&&c.get(l[u])===f&&(i[u]=f)}function A2(t){return t.__data__}function E2(t,n){if(!arguments.length)return Array.from(this,A2);var e=n?T2:S2,r=this._parents,i=this._groups;typeof t!="function"&&(t=M2(t));for(var o=i.length,a=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var s=r[c],h=i[c],l=h.length,d=$2(t.call(s,s&&s.__data__,c,r)),m=d.length,g=u[c]=new Array(m),p=a[c]=new Array(m),y=f[c]=new Array(l);e(s,h,g,p,y,d,n);for(var v=0,b=0,_,w;v<m;++v)if(_=g[v]){for(v>=b&&(b=v+1);!(w=p[b])&&++b<m;);_._next=w||null}}return a=new qt(a,r),a._enter=u,a._exit=f,a}function $2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k2(){return new qt(this._exit||this._groups.map(Kh),this._parents)}function N2(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function C2(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),f=0;f<a;++f)for(var c=e[f],s=r[f],h=c.length,l=u[f]=new Array(h),d,m=0;m<h;++m)(d=c[m]||s[m])&&(l[m]=d);for(;f<i;++f)u[f]=e[f];return new qt(u,this._parents)}function R2(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function P2(t){t||(t=I2);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,f=i[o]=new Array(u),c,s=0;s<u;++s)(c=a[s])&&(f[s]=c);f.sort(n)}return new qt(i,this._parents).order()}function I2(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function z2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function D2(){return Array.from(this)}function O2(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function L2(){let t=0;for(const n of this)++t;return t}function F2(){return!this.node()}function B2(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function U2(t){return function(){this.removeAttribute(t)}}function q2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y2(t,n){return function(){this.setAttribute(t,n)}}function V2(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function H2(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function X2(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function W2(t,n){var e=si(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?q2:U2:typeof n=="function"?e.local?X2:H2:e.local?V2:Y2)(e,n))}function Pc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function G2(t){return function(){this.style.removeProperty(t)}}function Z2(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Q2(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function K2(t,n,e){return arguments.length>1?this.each((n==null?G2:typeof n=="function"?Q2:Z2)(t,n,e??"")):pe(this.node(),t)}function pe(t,n){return t.style.getPropertyValue(n)||Pc(t).getComputedStyle(t,null).getPropertyValue(n)}function j2(t){return function(){delete this[t]}}function J2(t,n){return function(){this[t]=n}}function ty(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ny(t,n){return arguments.length>1?this.each((n==null?j2:typeof n=="function"?ty:J2)(t,n)):this.node()[t]}function jh(t){return t.trim().split(/^|\s+/)}function Ic(t){return t.classList||new Jh(t)}function Jh(t){this._node=t,this._names=jh(t.getAttribute("class")||"")}Jh.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function t0(t,n){for(var e=Ic(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function n0(t,n){for(var e=Ic(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ey(t){return function(){t0(this,t)}}function ry(t){return function(){n0(this,t)}}function iy(t,n){return function(){(n.apply(this,arguments)?t0:n0)(this,t)}}function oy(t,n){var e=jh(t+"");if(arguments.length<2){for(var r=Ic(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?iy:n?ey:ry)(e,n))}function ay(){this.textContent=""}function uy(t){return function(){this.textContent=t}}function cy(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function fy(t){return arguments.length?this.each(t==null?ay:(typeof t=="function"?cy:uy)(t)):this.node().textContent}function sy(){this.innerHTML=""}function ly(t){return function(){this.innerHTML=t}}function hy(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function dy(t){return arguments.length?this.each(t==null?sy:(typeof t=="function"?hy:ly)(t)):this.node().innerHTML}function gy(){this.nextSibling&&this.parentNode.appendChild(this)}function py(){return this.each(gy)}function my(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yy(){return this.each(my)}function _y(t){var n=typeof t=="function"?t:ia(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function by(){return null}function vy(t,n){var e=typeof t=="function"?t:ia(t),r=n==null?by:typeof n=="function"?n:oa(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function wy(){var t=this.parentNode;t&&t.removeChild(this)}function xy(){return this.each(wy)}function My(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Sy(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ty(t){return this.select(t?Sy:My)}function Ay(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ey(t){return function(n){t.call(this,n,this.__data__)}}function $y(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function ky(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Ny(t,n,e){return function(){var r=this.__on,i,o=Ey(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Cy(t,n,e){var r=$y(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,s;f<c;++f)for(i=0,s=u[f];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(u=n?Ny:ky,i=0;i<o;++i)this.each(u(r[i],n,e));return this}function e0(t,n,e){var r=Pc(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ry(t,n){return function(){return e0(this,t,n)}}function Py(t,n){return function(){return e0(this,t,n.apply(this,arguments))}}function Iy(t,n){return this.each((typeof n=="function"?Py:Ry)(t,n))}function*zy(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var zc=[null];function qt(t,n){this._groups=t,this._parents=n}function Se(){return new qt([[document.documentElement]],zc)}function Dy(){return this}qt.prototype=Se.prototype={constructor:qt,select:f2,selectAll:h2,selectChild:m2,selectChildren:v2,filter:w2,data:E2,enter:x2,exit:k2,join:N2,merge:C2,selection:Dy,order:R2,sort:P2,call:z2,nodes:D2,node:O2,size:L2,empty:F2,each:B2,attr:W2,style:K2,property:ny,classed:oy,text:fy,html:dy,raise:py,lower:yy,append:_y,insert:vy,remove:xy,clone:Ty,datum:Ay,on:Cy,dispatch:Iy,[Symbol.iterator]:zy};function lt(t){return typeof t=="string"?new qt([[document.querySelector(t)]],[document.documentElement]):new qt([[t]],zc)}function Oy(t){return lt(ia(t).call(document.documentElement))}var Ly=0;function r0(){return new Pu}function Pu(){this._="@"+(++Ly).toString(36)}Pu.prototype=r0.prototype={constructor:Pu,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function i0(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Kt(t,n){if(t=i0(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Fy(t,n){return t.target&&(t=i0(t),n===void 0&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,e=>Kt(e,n))}function By(t){return typeof t=="string"?new qt([document.querySelectorAll(t)],[document.documentElement]):new qt([Zh(t)],zc)}const Uy={passive:!1},Zr={capture:!0,passive:!1};function Ya(t){t.stopImmediatePropagation()}function Ve(t){t.preventDefault(),t.stopImmediatePropagation()}function aa(t){var n=t.document.documentElement,e=lt(t).on("dragstart.drag",Ve,Zr);"onselectstart"in n?e.on("selectstart.drag",Ve,Zr):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ua(t,n){var e=t.document.documentElement,r=lt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ve,Zr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const Ai=t=>()=>t;function Iu(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:f,dy:c,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:s}})}Iu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function qy(t){return!t.ctrlKey&&!t.button}function Yy(){return this.parentNode}function Vy(t,n){return n??{x:t.x,y:t.y}}function Hy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xy(){var t=qy,n=Yy,e=Vy,r=Hy,i={},o=Me("start","drag","end"),a=0,u,f,c,s,h=0;function l(_){_.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,Uy).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(_,w){if(!(s||!t.call(this,_,w))){var x=b(this,n.call(this,_,w),_,w,"mouse");x&&(lt(_.view).on("mousemove.drag",m,Zr).on("mouseup.drag",g,Zr),aa(_.view),Ya(_),c=!1,u=_.clientX,f=_.clientY,x("start",_))}}function m(_){if(Ve(_),!c){var w=_.clientX-u,x=_.clientY-f;c=w*w+x*x>h}i.mouse("drag",_)}function g(_){lt(_.view).on("mousemove.drag mouseup.drag",null),ua(_.view,c),Ve(_),i.mouse("end",_)}function p(_,w){if(t.call(this,_,w)){var x=_.changedTouches,E=n.call(this,_,w),N=x.length,$,k;for($=0;$<N;++$)(k=b(this,E,_,w,x[$].identifier,x[$]))&&(Ya(_),k("start",_,x[$]))}}function y(_){var w=_.changedTouches,x=w.length,E,N;for(E=0;E<x;++E)(N=i[w[E].identifier])&&(Ve(_),N("drag",_,w[E]))}function v(_){var w=_.changedTouches,x=w.length,E,N;for(s&&clearTimeout(s),s=setTimeout(function(){s=null},500),E=0;E<x;++E)(N=i[w[E].identifier])&&(Ya(_),N("end",_,w[E]))}function b(_,w,x,E,N,$){var k=o.copy(),S=Kt($||x,w),P,R,M;if((M=e.call(_,new Iu("beforestart",{sourceEvent:x,target:l,identifier:N,active:a,x:S[0],y:S[1],dx:0,dy:0,dispatch:k}),E))!=null)return P=M.x-S[0]||0,R=M.y-S[1]||0,function A(T,C,I){var z=S,O;switch(T){case"start":i[N]=A,O=a++;break;case"end":delete i[N],--a;case"drag":S=Kt(I||C,w),O=a;break}k.call(T,_,new Iu(T,{sourceEvent:C,subject:M,target:l,identifier:N,active:O,x:S[0]+P,y:S[1]+R,dx:S[0]-z[0],dy:S[1]-z[1],dispatch:k}),E)}}return l.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Ai(!!_),l):t},l.container=function(_){return arguments.length?(n=typeof _=="function"?_:Ai(_),l):n},l.subject=function(_){return arguments.length?(e=typeof _=="function"?_:Ai(_),l):e},l.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Ai(!!_),l):r},l.on=function(){var _=o.on.apply(o,arguments);return _===o?l:_},l.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,l):Math.sqrt(h)},l}function dr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function li(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function jn(){}var me=.7,je=1/me,He="\\s*([+-]?\\d+)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wy=/^#([0-9a-f]{3,8})$/,Gy=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),Zy=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),Qy=new RegExp(`^rgba\\(${He},${He},${He},${Qr}\\)$`),Ky=new RegExp(`^rgba\\(${bn},${bn},${bn},${Qr}\\)$`),jy=new RegExp(`^hsl\\(${Qr},${bn},${bn}\\)$`),Jy=new RegExp(`^hsla\\(${Qr},${bn},${bn},${Qr}\\)$`),is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dr(jn,Gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:os,formatHex:os,formatHex8:t_,formatHsl:n_,formatRgb:as,toString:as});function os(){return this.rgb().formatHex()}function t_(){return this.rgb().formatHex8()}function n_(){return o0(this).formatHsl()}function as(){return this.rgb().formatRgb()}function Gn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Wy.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?us(n):e===3?new St(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Ei(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Ei(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Gy.exec(t))?new St(n[1],n[2],n[3],1):(n=Zy.exec(t))?new St(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Qy.exec(t))?Ei(n[1],n[2],n[3],n[4]):(n=Ky.exec(t))?Ei(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=jy.exec(t))?ss(n[1],n[2]/100,n[3]/100,1):(n=Jy.exec(t))?ss(n[1],n[2]/100,n[3]/100,n[4]):is.hasOwnProperty(t)?us(is[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function us(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Ei(t,n,e,r){return r<=0&&(t=n=e=NaN),new St(t,n,e,r)}function Dc(t){return t instanceof jn||(t=Gn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function Je(t,n,e,r){return arguments.length===1?Dc(t):new St(t,n,e,r??1)}function St(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}dr(St,Je,li(jn,{brighter(t){return t=t==null?je:Math.pow(je,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(fe(this.r),fe(this.g),fe(this.b),po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cs,formatHex:cs,formatHex8:e_,formatRgb:fs,toString:fs}));function cs(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function e_(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function fs(){const t=po(this.opacity);return`${t===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${t===1?")":`, ${t})`}`}function po(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ue(t){return t=fe(t),(t<16?"0":"")+t.toString(16)}function ss(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new un(t,n,e,r)}function o0(t){if(t instanceof un)return new un(t.h,t.s,t.l,t.opacity);if(t instanceof jn||(t=Gn(t)),!t)return new un;if(t instanceof un)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(n===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-n)/u+2:a=(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new un(a,u,f,t.opacity)}function mo(t,n,e,r){return arguments.length===1?o0(t):new un(t,n,e,r??1)}function un(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}dr(un,mo,li(jn,{brighter(t){return t=t==null?je:Math.pow(je,t),new un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new St(Va(t>=240?t-240:t+120,i,r),Va(t,i,r),Va(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new un(ls(this.h),$i(this.s),$i(this.l),po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=po(this.opacity);return`${t===1?"hsl(":"hsla("}${ls(this.h)}, ${$i(this.s)*100}%, ${$i(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ls(t){return t=(t||0)%360,t<0?t+360:t}function $i(t){return Math.max(0,Math.min(1,t||0))}function Va(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const a0=Math.PI/180,u0=180/Math.PI,yo=18,c0=.96422,f0=1,s0=.82521,l0=4/29,Xe=6/29,h0=3*Xe*Xe,r_=Xe*Xe*Xe;function d0(t){if(t instanceof sn)return new sn(t.l,t.a,t.b,t.opacity);if(t instanceof yn)return p0(t);t instanceof St||(t=Dc(t));var n=Ga(t.r),e=Ga(t.g),r=Ga(t.b),i=Ha((.2225045*n+.7168786*e+.0606169*r)/f0),o,a;return n===e&&e===r?o=a=i:(o=Ha((.4360747*n+.3850649*e+.1430804*r)/c0),a=Ha((.0139322*n+.0971045*e+.7141733*r)/s0)),new sn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function i_(t,n){return new sn(t,0,0,n??1)}function _o(t,n,e,r){return arguments.length===1?d0(t):new sn(t,n,e,r??1)}function sn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}dr(sn,_o,li(jn,{brighter(t){return new sn(this.l+yo*(t??1),this.a,this.b,this.opacity)},darker(t){return new sn(this.l-yo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=c0*Xa(n),t=f0*Xa(t),e=s0*Xa(e),new St(Wa(3.1338561*n-1.6168667*t-.4906146*e),Wa(-.9787684*n+1.9161415*t+.033454*e),Wa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ha(t){return t>r_?Math.pow(t,1/3):t/h0+l0}function Xa(t){return t>Xe?t*t*t:h0*(t-l0)}function Wa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ga(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function g0(t){if(t instanceof yn)return new yn(t.h,t.c,t.l,t.opacity);if(t instanceof sn||(t=d0(t)),t.a===0&&t.b===0)return new yn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*u0;return new yn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function o_(t,n,e,r){return arguments.length===1?g0(t):new yn(e,n,t,r??1)}function bo(t,n,e,r){return arguments.length===1?g0(t):new yn(t,n,e,r??1)}function yn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function p0(t){if(isNaN(t.h))return new sn(t.l,0,0,t.opacity);var n=t.h*a0;return new sn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}dr(yn,bo,li(jn,{brighter(t){return new yn(this.h,this.c,this.l+yo*(t??1),this.opacity)},darker(t){return new yn(this.h,this.c,this.l-yo*(t??1),this.opacity)},rgb(){return p0(this).rgb()}}));var m0=-.14861,Oc=1.78277,Lc=-.29227,ca=-.90649,Kr=1.97294,hs=Kr*ca,ds=Kr*Oc,gs=Oc*Lc-ca*m0;function a_(t){if(t instanceof se)return new se(t.h,t.s,t.l,t.opacity);t instanceof St||(t=Dc(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(gs*r+hs*n-ds*e)/(gs+hs-ds),o=r-i,a=(Kr*(e-i)-Lc*o)/ca,u=Math.sqrt(a*a+o*o)/(Kr*i*(1-i)),f=u?Math.atan2(a,o)*u0-120:NaN;return new se(f<0?f+360:f,u,i,t.opacity)}function ln(t,n,e,r){return arguments.length===1?a_(t):new se(t,n,e,r??1)}function se(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}dr(se,ln,li(jn,{brighter(t){return t=t==null?je:Math.pow(je,t),new se(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new se(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*a0,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new St(255*(n+e*(m0*r+Oc*i)),255*(n+e*(Lc*r+ca*i)),255*(n+e*(Kr*r)),this.opacity)}}));function y0(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function _0(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return y0((e-r/n)*n,a,i,o,u)}}function b0(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return y0((e-r/n)*n,i,o,a,u)}}const fa=t=>()=>t;function v0(t,n){return function(e){return t+e*n}}function u_(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function sa(t,n){var e=n-t;return e?v0(t,e>180||e<-180?e-360*Math.round(e/360):e):fa(isNaN(t)?n:t)}function c_(t){return(t=+t)==1?Tt:function(n,e){return e-n?u_(n,e,t):fa(isNaN(n)?e:n)}}function Tt(t,n){var e=n-t;return e?v0(t,e):fa(isNaN(t)?n:t)}const jr=function t(n){var e=c_(n);function r(i,o){var a=e((i=Je(i)).r,(o=Je(o)).r),u=e(i.g,o.g),f=e(i.b,o.b),c=Tt(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=u(s),i.b=f(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function w0(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,u;for(a=0;a<e;++a)u=Je(n[a]),r[a]=u.r||0,i[a]=u.g||0,o[a]=u.b||0;return r=t(r),i=t(i),o=t(o),u.opacity=1,function(f){return u.r=r(f),u.g=i(f),u.b=o(f),u+""}}}var x0=w0(_0),f_=w0(b0);function Fc(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function M0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function s_(t,n){return(M0(n)?Fc:S0)(t,n)}function S0(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Jn(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function T0(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function nn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function A0(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Jn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var zu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Za=new RegExp(zu.source,"g");function l_(t){return function(){return t}}function h_(t){return function(n){return t(n)+""}}function Bc(t,n){var e=zu.lastIndex=Za.lastIndex=0,r,i,o,a=-1,u=[],f=[];for(t=t+"",n=n+"";(r=zu.exec(t))&&(i=Za.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,f.push({i:a,x:nn(r,i)})),e=Za.lastIndex;return e<n.length&&(o=n.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?h_(f[0].x):l_(n):(n=f.length,function(c){for(var s=0,h;s<n;++s)u[(h=f[s]).i]=h.x(c);return u.join("")})}function Jn(t,n){var e=typeof n,r;return n==null||e==="boolean"?fa(n):(e==="number"?nn:e==="string"?(r=Gn(n))?(n=r,jr):Bc:n instanceof Gn?jr:n instanceof Date?T0:M0(n)?Fc:Array.isArray(n)?S0:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?A0:nn)(t,n)}function d_(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function g_(t,n){var e=sa(+t,+n);return function(r){var i=e(r);return i-360*Math.floor(i/360)}}function la(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ps=180/Math.PI,Du={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function E0(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ps,skewX:Math.atan(f)*ps,scaleX:a,scaleY:u}}var ki;function p_(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Du:E0(n.a,n.b,n.c,n.d,n.e,n.f)}function m_(t){return t==null||(ki||(ki=document.createElementNS("http://www.w3.org/2000/svg","g")),ki.setAttribute("transform",t),!(t=ki.transform.baseVal.consolidate()))?Du:(t=t.matrix,E0(t.a,t.b,t.c,t.d,t.e,t.f))}function $0(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function o(c,s,h,l,d,m){if(c!==h||s!==l){var g=d.push("translate(",null,n,null,e);m.push({i:g-4,x:nn(c,h)},{i:g-2,x:nn(s,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function a(c,s,h,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:nn(c,s)})):s&&h.push(i(h)+"rotate("+s+r)}function u(c,s,h,l){c!==s?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:nn(c,s)}):s&&h.push(i(h)+"skewX("+s+r)}function f(c,s,h,l,d,m){if(c!==h||s!==l){var g=d.push(i(d)+"scale(",null,",",null,")");m.push({i:g-4,x:nn(c,h)},{i:g-2,x:nn(s,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(c,s){var h=[],l=[];return c=t(c),s=t(s),o(c.translateX,c.translateY,s.translateX,s.translateY,h,l),a(c.rotate,s.rotate,h,l),u(c.skewX,s.skewX,h,l),f(c.scaleX,c.scaleY,s.scaleX,s.scaleY,h,l),c=s=null,function(d){for(var m=-1,g=l.length,p;++m<g;)h[(p=l[m]).i]=p.x(d);return h.join("")}}}var k0=$0(p_,"px, ","px)","deg)"),N0=$0(m_,", ",")",")"),y_=1e-12;function ms(t){return((t=Math.exp(t))+1/t)/2}function __(t){return((t=Math.exp(t))-1/t)/2}function b_(t){return((t=Math.exp(2*t))-1)/(t+1)}const C0=function t(n,e,r){function i(o,a){var u=o[0],f=o[1],c=o[2],s=a[0],h=a[1],l=a[2],d=s-u,m=h-f,g=d*d+m*m,p,y;if(g<y_)y=Math.log(l/c)/n,p=function(E){return[u+E*d,f+E*m,c*Math.exp(n*E*y)]};else{var v=Math.sqrt(g),b=(l*l-c*c+r*g)/(2*c*e*v),_=(l*l-c*c-r*g)/(2*l*e*v),w=Math.log(Math.sqrt(b*b+1)-b),x=Math.log(Math.sqrt(_*_+1)-_);y=(x-w)/n,p=function(E){var N=E*y,$=ms(w),k=c/(e*v)*($*b_(n*N+w)-__(w));return[u+k*d,f+k*m,c*$/ms(n*N+w)]}}return p.duration=y*1e3*n/Math.SQRT2,p}return i.rho=function(o){var a=Math.max(.001,+o),u=a*a,f=u*u;return t(a,u,f)},i}(Math.SQRT2,2,4);function R0(t){return function(n,e){var r=t((n=mo(n)).h,(e=mo(e)).h),i=Tt(n.s,e.s),o=Tt(n.l,e.l),a=Tt(n.opacity,e.opacity);return function(u){return n.h=r(u),n.s=i(u),n.l=o(u),n.opacity=a(u),n+""}}}const v_=R0(sa);var w_=R0(Tt);function x_(t,n){var e=Tt((t=_o(t)).l,(n=_o(n)).l),r=Tt(t.a,n.a),i=Tt(t.b,n.b),o=Tt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function P0(t){return function(n,e){var r=t((n=bo(n)).h,(e=bo(e)).h),i=Tt(n.c,e.c),o=Tt(n.l,e.l),a=Tt(n.opacity,e.opacity);return function(u){return n.h=r(u),n.c=i(u),n.l=o(u),n.opacity=a(u),n+""}}}const M_=P0(sa);var S_=P0(Tt);function I0(t){return function n(e){e=+e;function r(i,o){var a=t((i=ln(i)).h,(o=ln(o)).h),u=Tt(i.s,o.s),f=Tt(i.l,o.l),c=Tt(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=u(s),i.l=f(Math.pow(s,e)),i.opacity=c(s),i+""}}return r.gamma=n,r}(1)}const T_=I0(sa);var ha=I0(Tt);function z0(t,n){n===void 0&&(n=t,t=Jn);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function A_(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var tr=0,Er=0,br=0,D0=1e3,vo,$r,wo=0,ye=0,da=0,Jr=typeof performance=="object"&&performance.now?performance:Date,O0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hi(){return ye||(O0(E_),ye=Jr.now()+da)}function E_(){ye=0}function ti(){this._call=this._time=this._next=null}ti.prototype=ga.prototype={constructor:ti,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?hi():+e)+(n==null?0:+n),!this._next&&$r!==this&&($r?$r._next=this:vo=this,$r=this),this._call=t,this._time=e,Ou()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ou())}};function ga(t,n,e){var r=new ti;return r.restart(t,n,e),r}function L0(){hi(),++tr;for(var t=vo,n;t;)(n=ye-t._time)>=0&&t._call.call(void 0,n),t=t._next;--tr}function ys(){ye=(wo=Jr.now())+da,tr=Er=0;try{L0()}finally{tr=0,k_(),ye=0}}function $_(){var t=Jr.now(),n=t-wo;n>D0&&(da-=n,wo=t)}function k_(){for(var t,n=vo,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vo=e);$r=t,Ou(r)}function Ou(t){if(!tr){Er&&(Er=clearTimeout(Er));var n=t-ye;n>24?(t<1/0&&(Er=setTimeout(ys,t-Jr.now()-da)),br&&(br=clearInterval(br))):(br||(wo=Jr.now(),br=setInterval($_,D0)),tr=1,O0(ys))}}function Lu(t,n,e){var r=new ti;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}function N_(t,n,e){var r=new ti,i=n;return n==null?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(o,a,u){a=+a,u=u==null?hi():+u,r._restart(function f(c){c+=i,r._restart(f,i+=a,u),o(c)},a,u)},r.restart(t,n,e),r)}var C_=Me("start","end","cancel","interrupt"),R_=[],F0=0,Fu=1,Bu=2,Ki=3,_s=4,Uu=5,ji=6;function pa(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;P_(t,e,{name:n,index:r,group:i,on:C_,tween:R_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:F0})}function Uc(t,n){var e=hn(t,n);if(e.state>F0)throw new Error("too late; already scheduled");return e}function Sn(t,n){var e=hn(t,n);if(e.state>Ki)throw new Error("too late; already running");return e}function hn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function P_(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ga(o,0,e.time);function o(c){e.state=Fu,e.timer.restart(a,e.delay,e.time),e.delay<=c&&a(c-e.delay)}function a(c){var s,h,l,d;if(e.state!==Fu)return f();for(s in r)if(d=r[s],d.name===e.name){if(d.state===Ki)return Lu(a);d.state===_s?(d.state=ji,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=ji,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(Lu(function(){e.state===Ki&&(e.state=_s,e.timer.restart(u,e.delay,e.time),u(c))}),e.state=Bu,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Bu){for(e.state=Ki,i=new Array(l=e.tween.length),s=0,h=-1;s<l;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function u(c){for(var s=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(f),e.state=Uu,1),h=-1,l=i.length;++h<l;)i[h].call(t,s);e.state===Uu&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){e.state=ji,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function le(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Bu&&r.state<Uu,r.state=ji,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function I_(t){return this.each(function(){le(this,t)})}function z_(t,n){var e,r;return function(){var i=Sn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function D_(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=Sn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=u;break}f===c&&i.push(u)}o.tween=i}}function O_(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=hn(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?z_:D_)(e,t,n))}function qc(t,n,e){var r=t._id;return t.each(function(){var i=Sn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return hn(i,r).value[n]}}function B0(t,n){var e;return(typeof n=="number"?nn:n instanceof Gn?jr:(e=Gn(n))?(n=e,jr):Bc)(t,n)}function L_(t){return function(){this.removeAttribute(t)}}function F_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B_(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function U_(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function q_(t,n,e){var r,i,o;return function(){var a,u=e(this),f;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=u+"",a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u)))}}function Y_(t,n,e){var r,i,o;return function(){var a,u=e(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=u+"",a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u)))}}function V_(t,n){var e=si(t),r=e==="transform"?N0:B0;return this.attrTween(t,typeof n=="function"?(e.local?Y_:q_)(e,r,qc(this,"attr."+t,n)):n==null?(e.local?F_:L_)(e):(e.local?U_:B_)(e,r,n))}function H_(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function X_(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function W_(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&X_(t,o)),e}return i._value=n,i}function G_(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&H_(t,o)),e}return i._value=n,i}function Z_(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=si(t);return this.tween(e,(r.local?W_:G_)(r,n))}function Q_(t,n){return function(){Uc(this,t).delay=+n.apply(this,arguments)}}function K_(t,n){return n=+n,function(){Uc(this,t).delay=n}}function j_(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Q_:K_)(n,t)):hn(this.node(),n).delay}function J_(t,n){return function(){Sn(this,t).duration=+n.apply(this,arguments)}}function tb(t,n){return n=+n,function(){Sn(this,t).duration=n}}function nb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?J_:tb)(n,t)):hn(this.node(),n).duration}function eb(t,n){if(typeof n!="function")throw new Error;return function(){Sn(this,t).ease=n}}function rb(t){var n=this._id;return arguments.length?this.each(eb(n,t)):hn(this.node(),n).ease}function ib(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;Sn(this,t).ease=e}}function ob(t){if(typeof t!="function")throw new Error;return this.each(ib(this._id,t))}function ab(t){typeof t!="function"&&(t=Rc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],f,c=0;c<a;++c)(f=o[c])&&t.call(f,f.__data__,c,o)&&u.push(f);return new vn(r,this._parents,this._name,this._id)}function ub(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f=n[u],c=e[u],s=f.length,h=a[u]=new Array(s),l,d=0;d<s;++d)(l=f[d]||c[d])&&(h[d]=l);for(;u<r;++u)a[u]=n[u];return new vn(a,this._parents,this._name,this._id)}function cb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function fb(t,n,e){var r,i,o=cb(n)?Uc:Sn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function sb(t,n){var e=this._id;return arguments.length<2?hn(this.node(),e).on.on(t):this.each(fb(e,t,n))}function lb(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function hb(){return this.on("end.remove",lb(this._id))}function db(t){var n=this._name,e=this._id;typeof t!="function"&&(t=oa(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],f=u.length,c=o[a]=new Array(f),s,h,l=0;l<f;++l)(s=u[l])&&(h=t.call(s,s.__data__,l,u))&&("__data__"in s&&(h.__data__=s.__data__),c[l]=h,pa(c[l],n,e,l,c,hn(s,e)));return new vn(o,this._parents,n,e)}function gb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Cc(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f=r[u],c=f.length,s,h=0;h<c;++h)if(s=f[h]){for(var l=t.call(s,s.__data__,h,f),d,m=hn(s,e),g=0,p=l.length;g<p;++g)(d=l[g])&&pa(d,n,e,g,l,m);o.push(l),a.push(s)}return new vn(o,a,n,e)}var pb=Se.prototype.constructor;function mb(){return new pb(this._groups,this._parents)}function yb(t,n){var e,r,i;return function(){var o=pe(this,t),a=(this.style.removeProperty(t),pe(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function U0(t){return function(){this.style.removeProperty(t)}}function _b(t,n,e){var r,i=e+"",o;return function(){var a=pe(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function bb(t,n,e){var r,i,o;return function(){var a=pe(this,t),u=e(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),pe(this,t))),a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u))}}function vb(t,n){var e,r,i,o="style."+n,a="end."+o,u;return function(){var f=Sn(this,t),c=f.on,s=f.value[o]==null?u||(u=U0(n)):void 0;(c!==e||i!==s)&&(r=(e=c).copy()).on(a,i=s),f.on=r}}function wb(t,n,e){var r=(t+="")=="transform"?k0:B0;return n==null?this.styleTween(t,yb(t,r)).on("end.style."+t,U0(t)):typeof n=="function"?this.styleTween(t,bb(t,r,qc(this,"style."+t,n))).each(vb(this._id,t)):this.styleTween(t,_b(t,r,n),e).on("end.style."+t,null)}function xb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Mb(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&xb(t,a,e)),r}return o._value=n,o}function Sb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Mb(t,n,e??""))}function Tb(t){return function(){this.textContent=t}}function Ab(t){return function(){var n=t(this);this.textContent=n??""}}function Eb(t){return this.tween("text",typeof t=="function"?Ab(qc(this,"text",t)):Tb(t==null?"":t+""))}function $b(t){return function(n){this.textContent=t.call(this,n)}}function kb(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&$b(i)),n}return r._value=t,r}function Nb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kb(t))}function Cb(){for(var t=this._name,n=this._id,e=Y0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,f,c=0;c<u;++c)if(f=a[c]){var s=hn(f,n);pa(f,t,e,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new vn(r,this._parents,t,e)}function Rb(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},f={value:function(){--i===0&&o()}};e.each(function(){var c=Sn(this,r),s=c.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(f)),c.on=n}),i===0&&o()})}var Pb=0;function vn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function q0(t){return Se().transition(t)}function Y0(){return++Pb}var An=Se.prototype;vn.prototype=q0.prototype={constructor:vn,select:db,selectAll:gb,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:ab,merge:ub,selection:mb,transition:Cb,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:sb,attr:V_,attrTween:Z_,style:wb,styleTween:Sb,text:Eb,textTween:Nb,remove:hb,tween:O_,delay:j_,duration:nb,ease:rb,easeVarying:ob,end:Rb,[Symbol.iterator]:An[Symbol.iterator]};const Ib=t=>+t;function zb(t){return t*t}function Db(t){return t*(2-t)}function bs(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ob(t){return t*t*t}function Lb(t){return--t*t*t+1}function qu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yc=3,Fb=function t(n){n=+n;function e(r){return Math.pow(r,n)}return e.exponent=t,e}(Yc),Bb=function t(n){n=+n;function e(r){return 1-Math.pow(1-r,n)}return e.exponent=t,e}(Yc),vs=function t(n){n=+n;function e(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return e.exponent=t,e}(Yc),V0=Math.PI,H0=V0/2;function Ub(t){return+t==1?1:1-Math.cos(t*H0)}function qb(t){return Math.sin(t*H0)}function ws(t){return(1-Math.cos(V0*t))/2}function Zn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Yb(t){return Zn(1-+t)}function Vb(t){return 1-Zn(t)}function xs(t){return((t*=2)<=1?Zn(1-t):2-Zn(t-1))/2}function Hb(t){return 1-Math.sqrt(1-t*t)}function Xb(t){return Math.sqrt(1- --t*t)}function Ms(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Yu=4/11,Wb=6/11,Gb=8/11,Zb=3/4,Qb=9/11,Kb=10/11,jb=15/16,Jb=21/22,tv=63/64,Ni=1/Yu/Yu;function nv(t){return 1-ni(1-t)}function ni(t){return(t=+t)<Yu?Ni*t*t:t<Gb?Ni*(t-=Wb)*t+Zb:t<Kb?Ni*(t-=Qb)*t+jb:Ni*(t-=Jb)*t+tv}function ev(t){return((t*=2)<=1?1-ni(1-t):ni(t-1)+1)/2}var Vc=1.70158,rv=function t(n){n=+n;function e(r){return(r=+r)*r*(n*(r-1)+r)}return e.overshoot=t,e}(Vc),iv=function t(n){n=+n;function e(r){return--r*r*((r+1)*n+r)+1}return e.overshoot=t,e}(Vc),Ss=function t(n){n=+n;function e(r){return((r*=2)<1?r*r*((n+1)*r-n):(r-=2)*r*((n+1)*r+n)+2)/2}return e.overshoot=t,e}(Vc),nr=2*Math.PI,Hc=1,Xc=.3,ov=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=nr);function i(o){return n*Zn(- --o)*Math.sin((r-o)/e)}return i.amplitude=function(o){return t(o,e*nr)},i.period=function(o){return t(n,o)},i}(Hc,Xc),Ts=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=nr);function i(o){return 1-n*Zn(o=+o)*Math.sin((o+r)/e)}return i.amplitude=function(o){return t(o,e*nr)},i.period=function(o){return t(n,o)},i}(Hc,Xc),av=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=nr);function i(o){return((o=o*2-1)<0?n*Zn(-o)*Math.sin((r-o)/e):2-n*Zn(o)*Math.sin((r+o)/e))/2}return i.amplitude=function(o){return t(o,e*nr)},i.period=function(o){return t(n,o)},i}(Hc,Xc),uv={time:null,delay:0,duration:250,ease:qu};function cv(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function fv(t){var n,e;t instanceof vn?(n=t._id,t=t._name):(n=Y0(),(e=uv).time=hi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,f,c=0;c<u;++c)(f=a[c])&&pa(f,t,n,c,a,e||cv(f,n));return new vn(r,this._parents,t,n)}Se.prototype.interrupt=I_;Se.prototype.transition=fv;var sv=[null];function lv(t,n){var e=t.__transition,r,i;if(e){n=n==null?null:n+"";for(i in e)if((r=e[i]).state>Fu&&r.name===n)return new vn([[t]],sv,n,+i)}return null}const Qa=t=>()=>t;function hv(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function dv(t){t.stopImmediatePropagation()}function Ka(t){t.preventDefault(),t.stopImmediatePropagation()}var As={name:"drag"},ja={name:"space"},Ce={name:"handle"},Re={name:"center"};const{abs:Es,max:kt,min:Nt}=Math;function $s(t){return[+t[0],+t[1]]}function Vu(t){return[$s(t[0]),$s(t[1])]}var Ji={name:"x",handles:["w","e"].map(ei),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},to={name:"y",handles:["n","s"].map(ei),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},gv={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ei),input:function(t){return t==null?null:Vu(t)},output:function(t){return t}},En={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ks={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ns={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},pv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mv={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ei(t){return{type:t}}function yv(t){return!t.ctrlKey&&!t.button}function _v(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ja(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function vv(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wv(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function xv(){return Wc(Ji)}function Mv(){return Wc(to)}function Sv(){return Wc(gv)}function Wc(t){var n=_v,e=yv,r=bv,i=!0,o=Me("start","brush","end"),a=6,u;function f(p){var y=p.property("__brush",g).selectAll(".overlay").data([ei("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",En.overlay).merge(y).each(function(){var b=Ja(this).extent;lt(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),p.selectAll(".selection").data([ei("selection")]).enter().append("rect").attr("class","selection").attr("cursor",En.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=p.selectAll(".handle").data(t.handles,function(b){return b.type});v.exit().remove(),v.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return En[b.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",l).filter(r).on("touchstart.brush",l).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(p,y,v){p.tween?p.on("start.brush",function(b){s(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){s(this,arguments).end(b)}).tween("brush",function(){var b=this,_=b.__brush,w=s(b,arguments),x=_.selection,E=t.input(typeof y=="function"?y.apply(this,arguments):y,_.extent),N=Jn(x,E);function $(k){_.selection=k===1&&E===null?null:N(k),c.call(b),w.brush()}return x!==null&&E!==null?$:$(1)}):p.each(function(){var b=this,_=arguments,w=b.__brush,x=t.input(typeof y=="function"?y.apply(b,_):y,w.extent),E=s(b,_).beforestart();le(b),w.selection=x===null?null:x,c.call(b),E.start(v).brush(v).end(v)})},f.clear=function(p,y){f.move(p,null,y)};function c(){var p=lt(this),y=Ja(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-a/2:y[0][0]-a/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-a/2:y[0][1]-a/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+a:a}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+a:a})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(p,y,v){var b=p.__brush.emitter;return b&&(!v||!b.clean)?b:new h(p,y,v)}function h(p,y,v){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=v}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,v){var b=lt(this.that).datum();o.call(p,this.that,new hv(p,{sourceEvent:y,target:f,selection:t.output(this.state.selection),mode:v,dispatch:o}),b)}};function l(p){if(u&&!p.touches||!e.apply(this,arguments))return;var y=this,v=p.target.__data__.type,b=(i&&p.metaKey?v="overlay":v)==="selection"?As:i&&p.altKey?Re:Ce,_=t===to?null:pv[v],w=t===Ji?null:mv[v],x=Ja(y),E=x.extent,N=x.selection,$=E[0][0],k,S,P=E[0][1],R,M,A=E[1][0],T,C,I=E[1][1],z,O,B=0,q=0,et,J=_&&w&&i&&p.shiftKey,j,bt,tt=Array.from(p.touches||[p],H=>{const pt=H.identifier;return H=Kt(H,y),H.point0=H.slice(),H.identifier=pt,H});le(y);var _t=s(y,arguments,!0).beforestart();if(v==="overlay"){N&&(et=!0);const H=[tt[0],tt[1]||tt[0]];x.selection=N=[[k=t===to?$:Nt(H[0][0],H[1][0]),R=t===Ji?P:Nt(H[0][1],H[1][1])],[T=t===to?A:kt(H[0][0],H[1][0]),z=t===Ji?I:kt(H[0][1],H[1][1])]],tt.length>1&&gt(p)}else k=N[0][0],R=N[0][1],T=N[1][0],z=N[1][1];S=k,M=R,C=T,O=z;var L=lt(y).attr("pointer-events","none"),X=L.selectAll(".overlay").attr("cursor",En[v]);if(p.touches)_t.moved=D,_t.ended=it;else{var Z=lt(p.view).on("mousemove.brush",D,!0).on("mouseup.brush",it,!0);i&&Z.on("keydown.brush",It,!0).on("keyup.brush",zt,!0),aa(p.view)}c.call(y),_t.start(p,b.name);function D(H){for(const pt of H.changedTouches||[H])for(const yr of tt)yr.identifier===pt.identifier&&(yr.cur=Kt(pt,y));if(J&&!j&&!bt&&tt.length===1){const pt=tt[0];Es(pt.cur[0]-pt[0])>Es(pt.cur[1]-pt[1])?bt=!0:j=!0}for(const pt of tt)pt.cur&&(pt[0]=pt.cur[0],pt[1]=pt.cur[1]);et=!0,Ka(H),gt(H)}function gt(H){const pt=tt[0],yr=pt.point0;var Fn;switch(B=pt[0]-yr[0],q=pt[1]-yr[1],b){case ja:case As:{_&&(B=kt($-k,Nt(A-T,B)),S=k+B,C=T+B),w&&(q=kt(P-R,Nt(I-z,q)),M=R+q,O=z+q);break}case Ce:{tt[1]?(_&&(S=kt($,Nt(A,tt[0][0])),C=kt($,Nt(A,tt[1][0])),_=1),w&&(M=kt(P,Nt(I,tt[0][1])),O=kt(P,Nt(I,tt[1][1])),w=1)):(_<0?(B=kt($-k,Nt(A-k,B)),S=k+B,C=T):_>0&&(B=kt($-T,Nt(A-T,B)),S=k,C=T+B),w<0?(q=kt(P-R,Nt(I-R,q)),M=R+q,O=z):w>0&&(q=kt(P-z,Nt(I-z,q)),M=R,O=z+q));break}case Re:{_&&(S=kt($,Nt(A,k-B*_)),C=kt($,Nt(A,T+B*_))),w&&(M=kt(P,Nt(I,R-q*w)),O=kt(P,Nt(I,z+q*w)));break}}C<S&&(_*=-1,Fn=k,k=T,T=Fn,Fn=S,S=C,C=Fn,v in ks&&X.attr("cursor",En[v=ks[v]])),O<M&&(w*=-1,Fn=R,R=z,z=Fn,Fn=M,M=O,O=Fn,v in Ns&&X.attr("cursor",En[v=Ns[v]])),x.selection&&(N=x.selection),j&&(S=N[0][0],C=N[1][0]),bt&&(M=N[0][1],O=N[1][1]),(N[0][0]!==S||N[0][1]!==M||N[1][0]!==C||N[1][1]!==O)&&(x.selection=[[S,M],[C,O]],c.call(y),_t.brush(H,b.name))}function it(H){if(dv(H),H.touches){if(H.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else ua(H.view,et),Z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),X.attr("cursor",En.overlay),x.selection&&(N=x.selection),vv(N)&&(x.selection=null,c.call(y)),_t.end(H,b.name)}function It(H){switch(H.keyCode){case 16:{J=_&&w;break}case 18:{b===Ce&&(_&&(T=C-B*_,k=S+B*_),w&&(z=O-q*w,R=M+q*w),b=Re,gt(H));break}case 32:{(b===Ce||b===Re)&&(_<0?T=C-B:_>0&&(k=S-B),w<0?z=O-q:w>0&&(R=M-q),b=ja,X.attr("cursor",En.selection),gt(H));break}default:return}Ka(H)}function zt(H){switch(H.keyCode){case 16:{J&&(j=bt=J=!1,gt(H));break}case 18:{b===Re&&(_<0?T=C:_>0&&(k=S),w<0?z=O:w>0&&(R=M),b=Ce,gt(H));break}case 32:{b===ja&&(H.altKey?(_&&(T=C-B*_,k=S+B*_),w&&(z=O-q*w,R=M+q*w),b=Re):(_<0?T=C:_>0&&(k=S),w<0?z=O:w>0&&(R=M),b=Ce),X.attr("cursor",En[v]),gt(H));break}default:return}Ka(H)}}function d(p){s(this,arguments).moved(p)}function m(p){s(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=Vu(n.apply(this,arguments)),p.dim=t,p}return f.extent=function(p){return arguments.length?(n=typeof p=="function"?p:Qa(Vu(p)),f):n},f.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Qa(!!p),f):e},f.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Qa(!!p),f):r},f.handleSize=function(p){return arguments.length?(a=+p,f):a},f.keyModifiers=function(p){return arguments.length?(i=!!p,f):i},f.on=function(){var p=o.on.apply(o,arguments);return p===o?f:p},f}var Cs=Math.abs,Pe=Math.cos,Ie=Math.sin,X0=Math.PI,Ci=X0/2,Rs=X0*2,Ps=Math.max,tu=1e-12;function nu(t,n){return Array.from({length:n-t},(e,r)=>t+r)}function Tv(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function Av(){return Gc(!1,!1)}function Ev(){return Gc(!1,!0)}function $v(){return Gc(!0,!1)}function Gc(t,n){var e=0,r=null,i=null,o=null;function a(u){var f=u.length,c=new Array(f),s=nu(0,f),h=new Array(f*f),l=new Array(f),d=0,m;u=Float64Array.from({length:f*f},n?(g,p)=>u[p%f][p/f|0]:(g,p)=>u[p/f|0][p%f]);for(let g=0;g<f;++g){let p=0;for(let y=0;y<f;++y)p+=u[g*f+y]+t*u[y*f+g];d+=c[g]=p}d=Ps(0,Rs-e*f)/d,m=d?e:Rs/f;{let g=0;r&&s.sort((p,y)=>r(c[p],c[y]));for(const p of s){const y=g;if(t){const v=nu(~f+1,f).filter(b=>b<0?u[~b*f+p]:u[p*f+b]);i&&v.sort((b,_)=>i(b<0?-u[~b*f+p]:u[p*f+b],_<0?-u[~_*f+p]:u[p*f+_]));for(const b of v)if(b<0){const _=h[~b*f+p]||(h[~b*f+p]={source:null,target:null});_.target={index:p,startAngle:g,endAngle:g+=u[~b*f+p]*d,value:u[~b*f+p]}}else{const _=h[p*f+b]||(h[p*f+b]={source:null,target:null});_.source={index:p,startAngle:g,endAngle:g+=u[p*f+b]*d,value:u[p*f+b]}}l[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}else{const v=nu(0,f).filter(b=>u[p*f+b]||u[b*f+p]);i&&v.sort((b,_)=>i(u[p*f+b],u[p*f+_]));for(const b of v){let _;if(p<b?(_=h[p*f+b]||(h[p*f+b]={source:null,target:null}),_.source={index:p,startAngle:g,endAngle:g+=u[p*f+b]*d,value:u[p*f+b]}):(_=h[b*f+p]||(h[b*f+p]={source:null,target:null}),_.target={index:p,startAngle:g,endAngle:g+=u[p*f+b]*d,value:u[p*f+b]},p===b&&(_.source=_.target)),_.source&&_.target&&_.source.value<_.target.value){const w=_.source;_.source=_.target,_.target=w}}l[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}g+=m}}return h=Object.values(h),h.groups=l,o?h.sort(o):h}return a.padAngle=function(u){return arguments.length?(e=Ps(0,u),a):e},a.sortGroups=function(u){return arguments.length?(r=u,a):r},a.sortSubgroups=function(u){return arguments.length?(i=u,a):i},a.sortChords=function(u){return arguments.length?(u==null?o=null:(o=Tv(u))._=u,a):o&&o._},a}const Hu=Math.PI,Xu=2*Hu,ie=1e-6,kv=Xu-ie;function W0(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Nv(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return W0;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let di=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?W0:Nv(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,f=r-n,c=i-e,s=a-n,h=u-e,l=s*s+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>ie)if(!(Math.abs(h*f-c*s)>ie)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,m=i-u,g=f*f+c*c,p=d*d+m*m,y=Math.sqrt(g),v=Math.sqrt(l),b=o*Math.tan((Hu-Math.acos((g+l-p)/(2*y*v)))/2),_=b/v,w=b/y;Math.abs(_-1)>ie&&this._append`L${n+_*s},${e+_*h}`,this._append`A${o},${o},0,0,${+(h*d>s*m)},${this._x1=n+w*f},${this._y1=e+w*c}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),c=n+u,s=e+f,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>ie||Math.abs(this._y1-s)>ie)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%Xu+Xu),l>kv?this._append`A${r},${r},0,1,${h},${n-u},${e-f}A${r},${r},0,1,${h},${this._x1=c},${this._y1=s}`:l>ie&&this._append`A${r},${r},0,${+(l>=Hu)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Zc(){return new di}Zc.prototype=di.prototype;function Cv(t=3){return new di(+t)}var Rv=Array.prototype.slice;function ee(t){return function(){return t}}function Pv(t){return t.source}function Iv(t){return t.target}function Is(t){return t.radius}function zv(t){return t.startAngle}function Dv(t){return t.endAngle}function Ov(){return 0}function Lv(){return 10}function G0(t){var n=Pv,e=Iv,r=Is,i=Is,o=zv,a=Dv,u=Ov,f=null;function c(){var s,h=n.apply(this,arguments),l=e.apply(this,arguments),d=u.apply(this,arguments)/2,m=Rv.call(arguments),g=+r.apply(this,(m[0]=h,m)),p=o.apply(this,m)-Ci,y=a.apply(this,m)-Ci,v=+i.apply(this,(m[0]=l,m)),b=o.apply(this,m)-Ci,_=a.apply(this,m)-Ci;if(f||(f=s=Zc()),d>tu&&(Cs(y-p)>d*2+tu?y>p?(p+=d,y-=d):(p-=d,y+=d):p=y=(p+y)/2,Cs(_-b)>d*2+tu?_>b?(b+=d,_-=d):(b-=d,_+=d):b=_=(b+_)/2),f.moveTo(g*Pe(p),g*Ie(p)),f.arc(0,0,g,p,y),p!==b||y!==_)if(t){var w=+t.apply(this,arguments),x=v-w,E=(b+_)/2;f.quadraticCurveTo(0,0,x*Pe(b),x*Ie(b)),f.lineTo(v*Pe(E),v*Ie(E)),f.lineTo(x*Pe(_),x*Ie(_))}else f.quadraticCurveTo(0,0,v*Pe(b),v*Ie(b)),f.arc(0,0,v,b,_);if(f.quadraticCurveTo(0,0,g*Pe(p),g*Ie(p)),f.closePath(),s)return f=null,s+""||null}return t&&(c.headRadius=function(s){return arguments.length?(t=typeof s=="function"?s:ee(+s),c):t}),c.radius=function(s){return arguments.length?(r=i=typeof s=="function"?s:ee(+s),c):r},c.sourceRadius=function(s){return arguments.length?(r=typeof s=="function"?s:ee(+s),c):r},c.targetRadius=function(s){return arguments.length?(i=typeof s=="function"?s:ee(+s),c):i},c.startAngle=function(s){return arguments.length?(o=typeof s=="function"?s:ee(+s),c):o},c.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:ee(+s),c):a},c.padAngle=function(s){return arguments.length?(u=typeof s=="function"?s:ee(+s),c):u},c.source=function(s){return arguments.length?(n=s,c):n},c.target=function(s){return arguments.length?(e=s,c):e},c.context=function(s){return arguments.length?(f=s??null,c):f},c}function Fv(){return G0()}function Bv(){return G0(Lv)}var Uv=Array.prototype,Z0=Uv.slice;function qv(t,n){return t-n}function Yv(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}const Un=t=>()=>t;function Vv(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=Hv(t,n[e]))return i;return 0}function Hv(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var f=t[o],c=f[0],s=f[1],h=t[u],l=h[0],d=h[1];if(Xv(f,h,n))return 0;s>r!=d>r&&e<(l-c)*(r-s)/(d-s)+c&&(i=-i)}return i}function Xv(t,n,e){var r;return Wv(t,n,e)&&Gv(t[r=+(t[0]===n[0])],e[r],n[r])}function Wv(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function Gv(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function Zv(){}var $n=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Wu(){var t=1,n=1,e=Ec,r=f;function i(c){var s=e(c);if(Array.isArray(s))s=s.slice().sort(qv);else{const h=Fr(c,Qv);for(s=de(...Ac(h[0],h[1],s),s);s[s.length-1]>=h[1];)s.pop();for(;s[1]<h[0];)s.shift()}return s.map(h=>o(c,h))}function o(c,s){const h=s==null?NaN:+s;if(isNaN(h))throw new Error(`invalid value: ${s}`);var l=[],d=[];return a(c,h,function(m){r(m,c,h),Yv(m)>0?l.push([m]):d.push(m)}),d.forEach(function(m){for(var g=0,p=l.length,y;g<p;++g)if(Vv((y=l[g])[0],m)!==-1){y.push(m);return}}),{type:"MultiPolygon",value:s,coordinates:l}}function a(c,s,h){var l=new Array,d=new Array,m,g,p,y,v,b;for(m=g=-1,y=re(c[0],s),$n[y<<1].forEach(_);++m<t-1;)p=y,y=re(c[m+1],s),$n[p|y<<1].forEach(_);for($n[y<<0].forEach(_);++g<n-1;){for(m=-1,y=re(c[g*t+t],s),v=re(c[g*t],s),$n[y<<1|v<<2].forEach(_);++m<t-1;)p=y,y=re(c[g*t+t+m+1],s),b=v,v=re(c[g*t+m+1],s),$n[p|y<<1|v<<2|b<<3].forEach(_);$n[y|v<<3].forEach(_)}for(m=-1,v=c[g*t]>=s,$n[v<<2].forEach(_);++m<t-1;)b=v,v=re(c[g*t+m+1],s),$n[v<<2|b<<3].forEach(_);$n[v<<3].forEach(_);function _(w){var x=[w[0][0]+m,w[0][1]+g],E=[w[1][0]+m,w[1][1]+g],N=u(x),$=u(E),k,S;(k=d[N])?(S=l[$])?(delete d[k.end],delete l[S.start],k===S?(k.ring.push(E),h(k.ring)):l[k.start]=d[S.end]={start:k.start,end:S.end,ring:k.ring.concat(S.ring)}):(delete d[k.end],k.ring.push(E),d[k.end=$]=k):(k=l[$])?(S=d[N])?(delete l[k.start],delete d[S.end],k===S?(k.ring.push(E),h(k.ring)):l[S.start]=d[k.end]={start:S.start,end:k.end,ring:S.ring.concat(k.ring)}):(delete l[k.start],k.ring.unshift(x),l[k.start=N]=k):l[N]=d[$]={start:N,end:$,ring:[x,E]}}}function u(c){return c[0]*2+c[1]*(t+1)*4}function f(c,s,h){c.forEach(function(l){var d=l[0],m=l[1],g=d|0,p=m|0,y=eu(s[p*t+g]);d>0&&d<t&&g===d&&(l[0]=zs(d,eu(s[p*t+g-1]),y,h)),m>0&&m<n&&p===m&&(l[1]=zs(m,eu(s[(p-1)*t+g]),y,h))})}return i.contour=o,i.size=function(c){if(!arguments.length)return[t,n];var s=Math.floor(c[0]),h=Math.floor(c[1]);if(!(s>=0&&h>=0))throw new Error("invalid size");return t=s,n=h,i},i.thresholds=function(c){return arguments.length?(e=typeof c=="function"?c:Array.isArray(c)?Un(Z0.call(c)):Un(c),i):e},i.smooth=function(c){return arguments.length?(r=c?f:Zv,i):r===f},i}function Qv(t){return isFinite(t)?t:NaN}function re(t,n){return t==null?!1:+t>=n}function eu(t){return t==null||isNaN(t=+t)?-1/0:t}function zs(t,n,e,r){const i=r-n,o=e-n,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function Kv(t){return t[0]}function jv(t){return t[1]}function Jv(){return 1}function t3(){var t=Kv,n=jv,e=Jv,r=960,i=500,o=20,a=2,u=o*3,f=r+u*2>>a,c=i+u*2>>a,s=Un(20);function h(v){var b=new Float32Array(f*c),_=Math.pow(2,-a),w=-1;for(const R of v){var x=(t(R,++w,v)+u)*_,E=(n(R,w,v)+u)*_,N=+e(R,w,v);if(N&&x>=0&&x<f&&E>=0&&E<c){var $=Math.floor(x),k=Math.floor(E),S=x-$-.5,P=E-k-.5;b[$+k*f]+=(1-S)*(1-P)*N,b[$+1+k*f]+=S*(1-P)*N,b[$+1+(k+1)*f]+=S*P*N,b[$+(k+1)*f]+=(1-S)*P*N}}return $h({data:b,width:f,height:c},o*_),b}function l(v){var b=h(v),_=s(b),w=Math.pow(2,2*a);return Array.isArray(_)||(_=de(Number.MIN_VALUE,Wr(b)/w,_)),Wu().size([f,c]).thresholds(_.map(x=>x*w))(b).map((x,E)=>(x.value=+_[E],d(x)))}l.contours=function(v){var b=h(v),_=Wu().size([f,c]),w=Math.pow(2,2*a),x=E=>{E=+E;var N=d(_.contour(b,E*w));return N.value=E,N};return Object.defineProperty(x,"max",{get:()=>Wr(b)/w}),x};function d(v){return v.coordinates.forEach(m),v}function m(v){v.forEach(g)}function g(v){v.forEach(p)}function p(v){v[0]=v[0]*Math.pow(2,a)-u,v[1]=v[1]*Math.pow(2,a)-u}function y(){return u=o*3,f=r+u*2>>a,c=i+u*2>>a,l}return l.x=function(v){return arguments.length?(t=typeof v=="function"?v:Un(+v),l):t},l.y=function(v){return arguments.length?(n=typeof v=="function"?v:Un(+v),l):n},l.weight=function(v){return arguments.length?(e=typeof v=="function"?v:Un(+v),l):e},l.size=function(v){if(!arguments.length)return[r,i];var b=+v[0],_=+v[1];if(!(b>=0&&_>=0))throw new Error("invalid size");return r=b,i=_,y()},l.cellSize=function(v){if(!arguments.length)return 1<<a;if(!((v=+v)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(v)/Math.LN2),y()},l.thresholds=function(v){return arguments.length?(s=typeof v=="function"?v:Array.isArray(v)?Un(Z0.call(v)):Un(v),l):s},l.bandwidth=function(v){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((v=+v)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*v*v+1)-1)/2,y()},l}const zn=11102230246251565e-32,Ct=134217729,n3=(3+8*zn)*zn;function ru(t,n,e,r,i){let o,a,u,f,c=n[0],s=r[0],h=0,l=0;s>c==s>-c?(o=c,c=n[++h]):(o=s,s=r[++l]);let d=0;if(h<t&&l<e)for(s>c==s>-c?(a=c+o,u=o-(a-c),c=n[++h]):(a=s+o,u=o-(a-s),s=r[++l]),o=a,u!==0&&(i[d++]=u);h<t&&l<e;)s>c==s>-c?(a=o+c,f=a-o,u=o-(a-f)+(c-f),c=n[++h]):(a=o+s,f=a-o,u=o-(a-f)+(s-f),s=r[++l]),o=a,u!==0&&(i[d++]=u);for(;h<t;)a=o+c,f=a-o,u=o-(a-f)+(c-f),c=n[++h],o=a,u!==0&&(i[d++]=u);for(;l<e;)a=o+s,f=a-o,u=o-(a-f)+(s-f),s=r[++l],o=a,u!==0&&(i[d++]=u);return(o!==0||d===0)&&(i[d++]=o),d}function e3(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}function gi(t){return new Float64Array(t)}const r3=(3+16*zn)*zn,i3=(2+12*zn)*zn,o3=(9+64*zn)*zn*zn,ze=gi(4),Ds=gi(8),Os=gi(12),Ls=gi(16),Dt=gi(4);function a3(t,n,e,r,i,o,a){let u,f,c,s,h,l,d,m,g,p,y,v,b,_,w,x,E,N;const $=t-i,k=e-i,S=n-o,P=r-o;_=$*P,l=Ct*$,d=l-(l-$),m=$-d,l=Ct*P,g=l-(l-P),p=P-g,w=m*p-(_-d*g-m*g-d*p),x=S*k,l=Ct*S,d=l-(l-S),m=S-d,l=Ct*k,g=l-(l-k),p=k-g,E=m*p-(x-d*g-m*g-d*p),y=w-E,h=w-y,ze[0]=w-(y+h)+(h-E),v=_+y,h=v-_,b=_-(v-h)+(y-h),y=b-x,h=b-y,ze[1]=b-(y+h)+(h-x),N=v+y,h=N-v,ze[2]=v-(N-h)+(y-h),ze[3]=N;let R=e3(4,ze),M=i3*a;if(R>=M||-R>=M||(h=t-$,u=t-($+h)+(h-i),h=e-k,c=e-(k+h)+(h-i),h=n-S,f=n-(S+h)+(h-o),h=r-P,s=r-(P+h)+(h-o),u===0&&f===0&&c===0&&s===0)||(M=o3*a+n3*Math.abs(R),R+=$*s+P*u-(S*c+k*f),R>=M||-R>=M))return R;_=u*P,l=Ct*u,d=l-(l-u),m=u-d,l=Ct*P,g=l-(l-P),p=P-g,w=m*p-(_-d*g-m*g-d*p),x=f*k,l=Ct*f,d=l-(l-f),m=f-d,l=Ct*k,g=l-(l-k),p=k-g,E=m*p-(x-d*g-m*g-d*p),y=w-E,h=w-y,Dt[0]=w-(y+h)+(h-E),v=_+y,h=v-_,b=_-(v-h)+(y-h),y=b-x,h=b-y,Dt[1]=b-(y+h)+(h-x),N=v+y,h=N-v,Dt[2]=v-(N-h)+(y-h),Dt[3]=N;const A=ru(4,ze,4,Dt,Ds);_=$*s,l=Ct*$,d=l-(l-$),m=$-d,l=Ct*s,g=l-(l-s),p=s-g,w=m*p-(_-d*g-m*g-d*p),x=S*c,l=Ct*S,d=l-(l-S),m=S-d,l=Ct*c,g=l-(l-c),p=c-g,E=m*p-(x-d*g-m*g-d*p),y=w-E,h=w-y,Dt[0]=w-(y+h)+(h-E),v=_+y,h=v-_,b=_-(v-h)+(y-h),y=b-x,h=b-y,Dt[1]=b-(y+h)+(h-x),N=v+y,h=N-v,Dt[2]=v-(N-h)+(y-h),Dt[3]=N;const T=ru(A,Ds,4,Dt,Os);_=u*s,l=Ct*u,d=l-(l-u),m=u-d,l=Ct*s,g=l-(l-s),p=s-g,w=m*p-(_-d*g-m*g-d*p),x=f*c,l=Ct*f,d=l-(l-f),m=f-d,l=Ct*c,g=l-(l-c),p=c-g,E=m*p-(x-d*g-m*g-d*p),y=w-E,h=w-y,Dt[0]=w-(y+h)+(h-E),v=_+y,h=v-_,b=_-(v-h)+(y-h),y=b-x,h=b-y,Dt[1]=b-(y+h)+(h-x),N=v+y,h=N-v,Dt[2]=v-(N-h)+(y-h),Dt[3]=N;const C=ru(T,Os,4,Dt,Ls);return Ls[C-1]}function Ri(t,n,e,r,i,o){const a=(n-o)*(e-i),u=(t-i)*(r-o),f=a-u,c=Math.abs(a+u);return Math.abs(f)>=r3*c?f:-a3(t,n,e,r,i,o,c)}const Fs=Math.pow(2,-52),Pi=new Uint32Array(512);class xo{static from(n,e=l3,r=h3){const i=n.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const u=n[a];o[2*a]=e(u),o[2*a+1]=r(u)}return new xo(o)}constructor(n){const e=n.length>>1;if(e>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:n,_hullPrev:e,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=n.length>>1;let u=1/0,f=1/0,c=-1/0,s=-1/0;for(let $=0;$<a;$++){const k=n[2*$],S=n[2*$+1];k<u&&(u=k),S<f&&(f=S),k>c&&(c=k),S>s&&(s=S),this._ids[$]=$}const h=(u+c)/2,l=(f+s)/2;let d,m,g;for(let $=0,k=1/0;$<a;$++){const S=iu(h,l,n[2*$],n[2*$+1]);S<k&&(d=$,k=S)}const p=n[2*d],y=n[2*d+1];for(let $=0,k=1/0;$<a;$++){if($===d)continue;const S=iu(p,y,n[2*$],n[2*$+1]);S<k&&S>0&&(m=$,k=S)}let v=n[2*m],b=n[2*m+1],_=1/0;for(let $=0;$<a;$++){if($===d||$===m)continue;const k=f3(p,y,v,b,n[2*$],n[2*$+1]);k<_&&(g=$,_=k)}let w=n[2*g],x=n[2*g+1];if(_===1/0){for(let S=0;S<a;S++)this._dists[S]=n[2*S]-n[0]||n[2*S+1]-n[1];Be(this._ids,this._dists,0,a-1);const $=new Uint32Array(a);let k=0;for(let S=0,P=-1/0;S<a;S++){const R=this._ids[S],M=this._dists[R];M>P&&($[k++]=R,P=M)}this.hull=$.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Ri(p,y,v,b,w,x)<0){const $=m,k=v,S=b;m=g,v=w,b=x,g=$,w=k,x=S}const E=s3(p,y,v,b,w,x);this._cx=E.x,this._cy=E.y;for(let $=0;$<a;$++)this._dists[$]=iu(n[2*$],n[2*$+1],E.x,E.y);Be(this._ids,this._dists,0,a-1),this._hullStart=d;let N=3;r[d]=e[g]=m,r[m]=e[d]=g,r[g]=e[m]=d,i[d]=0,i[m]=1,i[g]=2,o.fill(-1),o[this._hashKey(p,y)]=d,o[this._hashKey(v,b)]=m,o[this._hashKey(w,x)]=g,this.trianglesLen=0,this._addTriangle(d,m,g,-1,-1,-1);for(let $=0,k,S;$<this._ids.length;$++){const P=this._ids[$],R=n[2*P],M=n[2*P+1];if($>0&&Math.abs(R-k)<=Fs&&Math.abs(M-S)<=Fs||(k=R,S=M,P===d||P===m||P===g))continue;let A=0;for(let O=0,B=this._hashKey(R,M);O<this._hashSize&&(A=o[(B+O)%this._hashSize],!(A!==-1&&A!==r[A]));O++);A=e[A];let T=A,C;for(;C=r[T],Ri(R,M,n[2*T],n[2*T+1],n[2*C],n[2*C+1])>=0;)if(T=C,T===A){T=-1;break}if(T===-1)continue;let I=this._addTriangle(T,P,r[T],-1,-1,i[T]);i[P]=this._legalize(I+2),i[T]=I,N++;let z=r[T];for(;C=r[z],Ri(R,M,n[2*z],n[2*z+1],n[2*C],n[2*C+1])<0;)I=this._addTriangle(z,P,C,i[P],-1,i[z]),i[P]=this._legalize(I+2),r[z]=z,N--,z=C;if(T===A)for(;C=e[T],Ri(R,M,n[2*C],n[2*C+1],n[2*T],n[2*T+1])<0;)I=this._addTriangle(C,P,T,-1,i[T],i[C]),this._legalize(I+2),i[C]=I,r[T]=T,N--,T=C;this._hullStart=e[P]=T,r[T]=e[z]=P,r[P]=z,o[this._hashKey(R,M)]=P,o[this._hashKey(n[2*T],n[2*T+1])]=T}this.hull=new Uint32Array(N);for(let $=0,k=this._hullStart;$<N;$++)this.hull[$]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,e){return Math.floor(u3(n-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:e,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const u=r[n],f=n-n%3;if(a=f+(n+2)%3,u===-1){if(o===0)break;n=Pi[--o];continue}const c=u-u%3,s=f+(n+1)%3,h=c+(u+2)%3,l=e[a],d=e[n],m=e[s],g=e[h];if(c3(i[2*l],i[2*l+1],i[2*d],i[2*d+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){e[n]=g,e[u]=l;const y=r[h];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===h){this._hullTri[b]=n;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(n,y),this._link(u,r[a]),this._link(a,h);const v=c+(u+1)%3;o<Pi.length&&(Pi[o++]=v)}else{if(o===0)break;n=Pi[--o]}}return a}_link(n,e){this._halfedges[n]=e,e!==-1&&(this._halfedges[e]=n)}_addTriangle(n,e,r,i,o,a){const u=this.trianglesLen;return this._triangles[u]=n,this._triangles[u+1]=e,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,o),this._link(u+2,a),this.trianglesLen+=3,u}}function u3(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}function iu(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function c3(t,n,e,r,i,o,a,u){const f=t-a,c=n-u,s=e-a,h=r-u,l=i-a,d=o-u,m=f*f+c*c,g=s*s+h*h,p=l*l+d*d;return f*(h*p-g*d)-c*(s*p-g*l)+m*(s*d-h*l)<0}function f3(t,n,e,r,i,o){const a=e-t,u=r-n,f=i-t,c=o-n,s=a*a+u*u,h=f*f+c*c,l=.5/(a*c-u*f),d=(c*s-u*h)*l,m=(a*h-f*s)*l;return d*d+m*m}function s3(t,n,e,r,i,o){const a=e-t,u=r-n,f=i-t,c=o-n,s=a*a+u*u,h=f*f+c*c,l=.5/(a*c-u*f),d=t+(c*s-u*h)*l,m=n+(a*h-f*s)*l;return{x:d,y:m}}function Be(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const o=t[i],a=n[o];let u=i-1;for(;u>=e&&n[t[u]]>a;)t[u+1]=t[u--];t[u+1]=o}else{const i=e+r>>1;let o=e+1,a=r;vr(t,i,o),n[t[e]]>n[t[r]]&&vr(t,e,r),n[t[o]]>n[t[r]]&&vr(t,o,r),n[t[e]]>n[t[o]]&&vr(t,e,o);const u=t[o],f=n[u];for(;;){do o++;while(n[t[o]]<f);do a--;while(n[t[a]]>f);if(a<o)break;vr(t,o,a)}t[e+1]=t[a],t[a]=u,r-o+1>=a-e?(Be(t,n,o,r),Be(t,n,e,a-1)):(Be(t,n,e,a-1),Be(t,n,o,r))}}function vr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function l3(t){return t[0]}function h3(t){return t[1]}const Bs=1e-6;class ce{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,e){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,e){this._+=`L${this._x1=+n},${this._y1=+e}`}arc(n,e,r){n=+n,e=+e,r=+r;const i=n+r,o=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Bs||Math.abs(this._y1-o)>Bs)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${n-r},${e}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(n,e,r,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Gu{constructor(){this._=[]}moveTo(n,e){this._.push([n,e])}closePath(){this._.push(this._[0].slice())}lineTo(n,e){this._.push([n,e])}value(){return this._.length?this._:null}}class Q0{constructor(n,[e,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(e=+e))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=e,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:e,triangles:r},vectors:i}=this;let o,a;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,p=0,y=r.length,v,b;g<y;g+=3,p+=2){const _=r[g]*2,w=r[g+1]*2,x=r[g+2]*2,E=n[_],N=n[_+1],$=n[w],k=n[w+1],S=n[x],P=n[x+1],R=$-E,M=k-N,A=S-E,T=P-N,C=(R*T-M*A)*2;if(Math.abs(C)<1e-9){if(o===void 0){o=a=0;for(const z of e)o+=n[z*2],a+=n[z*2+1];o/=e.length,a/=e.length}const I=1e9*Math.sign((o-E)*T-(a-N)*A);v=(E+S)/2-I*T,b=(N+P)/2+I*A}else{const I=1/C,z=R*R+M*M,O=A*A+T*T;v=E+(T*z-M*O)*I,b=N+(R*O-A*z)*I}u[p]=v,u[p+1]=b}let f=e[e.length-1],c,s=f*4,h,l=n[2*f],d,m=n[2*f+1];i.fill(0);for(let g=0;g<e.length;++g)f=e[g],c=s,h=l,d=m,s=f*4,l=n[2*f],m=n[2*f+1],i[c+2]=i[s]=d-m,i[c+3]=i[s+1]=l-h}render(n){const e=n==null?n=new ce:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:u}=this;if(o.length<=1)return null;for(let s=0,h=r.length;s<h;++s){const l=r[s];if(l<s)continue;const d=Math.floor(s/3)*2,m=Math.floor(l/3)*2,g=a[d],p=a[d+1],y=a[m],v=a[m+1];this._renderSegment(g,p,y,v,n)}let f,c=o[o.length-1];for(let s=0;s<o.length;++s){f=c,c=o[s];const h=Math.floor(i[c]/3)*2,l=a[h],d=a[h+1],m=f*4,g=this._project(l,d,u[m+2],u[m+3]);g&&this._renderSegment(l,d,g[0],g[1],n)}return e&&e.value()}renderBounds(n){const e=n==null?n=new ce:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(n,e){const r=e==null?e=new ce:void 0,i=this._clip(n);if(i===null||!i.length)return;e.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&e.lineTo(i[a],i[a+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let e=0,r=n.length/2;e<r;++e){const i=this.cellPolygon(e);i&&(i.index=e,yield i)}}cellPolygon(n){const e=new Gu;return this.renderCell(n,e),e.value()}_renderSegment(n,e,r,i,o){let a;const u=this._regioncode(n,e),f=this._regioncode(r,i);u===0&&f===0?(o.moveTo(n,e),o.lineTo(r,i)):(a=this._clipSegment(n,e,r,i,u,f))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(n,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(n,e,r)===n}*neighbors(n){const e=this._clip(n);if(e)for(const r of this.delaunay.neighbors(n)){const i=this._clip(r);if(i){t:for(let o=0,a=e.length;o<a;o+=2)for(let u=0,f=i.length;u<f;u+=2)if(e[o]===i[u]&&e[o+1]===i[u+1]&&e[(o+2)%a]===i[(u+f-2)%f]&&e[(o+3)%a]===i[(u+f-1)%f]){yield r;break t}}}}_cell(n){const{circumcenters:e,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[n];if(a===-1)return null;const u=[];let f=a;do{const c=Math.floor(f/3);if(u.push(e[c*2],e[c*2+1]),f=f%3===2?f-2:f+1,o[f]!==n)break;f=i[f]}while(f!==a&&f!==-1);return u}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(n);if(e===null)return null;const{vectors:r}=this,i=n*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(n,e,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(n,e))}_clipFinite(n,e){const r=e.length;let i=null,o,a,u=e[r-2],f=e[r-1],c,s=this._regioncode(u,f),h,l=0;for(let d=0;d<r;d+=2)if(o=u,a=f,u=e[d],f=e[d+1],c=s,s=this._regioncode(u,f),c===0&&s===0)h=l,l=0,i?i.push(u,f):i=[u,f];else{let m,g,p,y,v;if(c===0){if((m=this._clipSegment(o,a,u,f,c,s))===null)continue;[g,p,y,v]=m}else{if((m=this._clipSegment(u,f,o,a,s,c))===null)continue;[y,v,g,p]=m,h=l,l=this._edgecode(g,p),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(g,p):i=[g,p]}h=l,l=this._edgecode(y,v),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(y,v):i=[y,v]}if(i)h=l,l=this._edgecode(i[0],i[1]),h&&l&&this._edge(n,h,l,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,e,r,i,o,a){const u=o<a;for(u&&([n,e,r,i,o,a]=[r,i,n,e,a,o]);;){if(o===0&&a===0)return u?[r,i,n,e]:[n,e,r,i];if(o&a)return null;let f,c,s=o||a;s&8?(f=n+(r-n)*(this.ymax-e)/(i-e),c=this.ymax):s&4?(f=n+(r-n)*(this.ymin-e)/(i-e),c=this.ymin):s&2?(c=e+(i-e)*(this.xmax-n)/(r-n),f=this.xmax):(c=e+(i-e)*(this.xmin-n)/(r-n),f=this.xmin),o?(n=f,e=c,o=this._regioncode(n,e)):(r=f,i=c,a=this._regioncode(r,i))}}_clipInfinite(n,e,r,i,o,a){let u=Array.from(e),f;if((f=this._project(u[0],u[1],r,i))&&u.unshift(f[0],f[1]),(f=this._project(u[u.length-2],u[u.length-1],o,a))&&u.push(f[0],f[1]),u=this._clipFinite(n,u))for(let c=0,s=u.length,h,l=this._edgecode(u[s-2],u[s-1]);c<s;c+=2)h=l,l=this._edgecode(u[c],u[c+1]),h&&l&&(c=this._edge(n,h,l,u,c),s=u.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(n,e,r,i,o){for(;e!==r;){let a,u;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,u=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,u=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,u=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,u=this.ymin;break}(i[o]!==a||i[o+1]!==u)&&this.contains(n,a,u)&&(i.splice(o,0,a,u),o+=2)}return o}_project(n,e,r,i){let o=1/0,a,u,f;if(i<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/i)<o&&(f=this.ymin,u=n+(o=a)*r)}else if(i>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/i)<o&&(f=this.ymax,u=n+(o=a)*r)}if(r>0){if(n>=this.xmax)return null;(a=(this.xmax-n)/r)<o&&(u=this.xmax,f=e+(o=a)*i)}else if(r<0){if(n<=this.xmin)return null;(a=(this.xmin-n)/r)<o&&(u=this.xmin,f=e+(o=a)*i)}return[u,f]}_edgecode(n,e){return(n===this.xmin?1:n===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(n,e){return(n<this.xmin?1:n>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let e=0;e<n.length;e+=2){const r=(e+2)%n.length,i=(e+4)%n.length;(n[e]===n[r]&&n[r]===n[i]||n[e+1]===n[r+1]&&n[r+1]===n[i+1])&&(n.splice(r,2),e-=2)}n.length||(n=null)}return n}}const d3=2*Math.PI,De=Math.pow;function g3(t){return t[0]}function p3(t){return t[1]}function m3(t){const{triangles:n,coords:e}=t;for(let r=0;r<n.length;r+=3){const i=2*n[r],o=2*n[r+1],a=2*n[r+2];if((e[a]-e[i])*(e[o+1]-e[i+1])-(e[o]-e[i])*(e[a+1]-e[i+1])>1e-10)return!1}return!0}function y3(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Qc{static from(n,e=g3,r=p3,i){return new Qc("length"in n?_3(n,e,r,i):Float64Array.from(b3(n,e,r,i)))}constructor(n){this._delaunator=new xo(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,e=this.points;if(n.hull&&n.hull.length>2&&m3(n)){this.collinear=Int32Array.from({length:e.length/2},(l,d)=>d).sort((l,d)=>e[2*l]-e[2*d]||e[2*l+1]-e[2*d+1]);const f=this.collinear[0],c=this.collinear[this.collinear.length-1],s=[e[2*f],e[2*f+1],e[2*c],e[2*c+1]],h=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let l=0,d=e.length/2;l<d;++l){const m=y3(e[2*l],e[2*l+1],h);e[2*l]=m[0],e[2*l+1]=m[1]}this._delaunator=new xo(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let f=0,c=r.length;f<c;++f){const s=o[f%3===2?f-2:f+1];(r[f]===-1||a[s]===-1)&&(a[s]=f)}for(let f=0,c=i.length;f<c;++f)u[i[f]]=f;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new Q0(this,n)}*neighbors(n){const{inedges:e,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:u}=this;if(u){const h=u.indexOf(n);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const f=e[n];if(f===-1)return;let c=f,s=-1;do{if(yield s=a[c],c=c%3===2?c-2:c+1,a[c]!==n)return;if(c=o[c],c===-1){const h=r[(i[n]+1)%r.length];h!==s&&(yield h);return}}while(c!==f)}find(n,e,r=0){if(n=+n,n!==n||(e=+e,e!==e))return-1;const i=r;let o;for(;(o=this._step(r,n,e))>=0&&o!==r&&o!==i;)r=o;return o}_step(n,e,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:u,triangles:f,points:c}=this;if(i[n]===-1||!c.length)return(n+1)%(c.length>>1);let s=n,h=De(e-c[n*2],2)+De(r-c[n*2+1],2);const l=i[n];let d=l;do{let m=f[d];const g=De(e-c[m*2],2)+De(r-c[m*2+1],2);if(g<h&&(h=g,s=m),d=d%3===2?d-2:d+1,f[d]!==n)break;if(d=u[d],d===-1){if(d=o[(a[n]+1)%o.length],d!==m&&De(e-c[d*2],2)+De(r-c[d*2+1],2)<h)return d;break}}while(d!==l);return s}render(n){const e=n==null?n=new ce:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,u=i.length;a<u;++a){const f=i[a];if(f<a)continue;const c=o[a]*2,s=o[f]*2;n.moveTo(r[c],r[c+1]),n.lineTo(r[s],r[s+1])}return this.renderHull(n),e&&e.value()}renderPoints(n,e){e===void 0&&(!n||typeof n.moveTo!="function")&&(e=n,n=null),e=e==null?2:+e;const r=n==null?n=new ce:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const u=i[o],f=i[o+1];n.moveTo(u+e,f),n.arc(u,f,e,0,d3)}return r&&r.value()}renderHull(n){const e=n==null?n=new ce:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;n.moveTo(i[o],i[o+1]);for(let u=1;u<a;++u){const f=2*r[u];n.lineTo(i[f],i[f+1])}return n.closePath(),e&&e.value()}hullPolygon(){const n=new Gu;return this.renderHull(n),n.value()}renderTriangle(n,e){const r=e==null?e=new ce:void 0,{points:i,triangles:o}=this,a=o[n*=3]*2,u=o[n+1]*2,f=o[n+2]*2;return e.moveTo(i[a],i[a+1]),e.lineTo(i[u],i[u+1]),e.lineTo(i[f],i[f+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:n}=this;for(let e=0,r=n.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(n){const e=new Gu;return this.renderTriangle(n,e),e.value()}}function _3(t,n,e,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const u=t[a];o[a*2]=n.call(r,u,a,t),o[a*2+1]=e.call(r,u,a,t)}return o}function*b3(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}var Us={},ou={},au=34,wr=10,uu=13;function K0(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function v3(t,n){var e=K0(t);return function(r,i){return n(e(r),i,t)}}function qs(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function Wt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function w3(t){return t<0?"-"+Wt(-t,6):t>9999?"+"+Wt(t,6):Wt(t,4)}function x3(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":w3(t.getUTCFullYear())+"-"+Wt(t.getUTCMonth()+1,2)+"-"+Wt(t.getUTCDate(),2)+(i?"T"+Wt(n,2)+":"+Wt(e,2)+":"+Wt(r,2)+"."+Wt(i,3)+"Z":r?"T"+Wt(n,2)+":"+Wt(e,2)+":"+Wt(r,2)+"Z":e||n?"T"+Wt(n,2)+":"+Wt(e,2)+"Z":"")}function ma(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(h,l){var d,m,g=i(h,function(p,y){if(d)return d(p,y-1);m=p,d=l?v3(p,l):K0(p)});return g.columns=m||[],g}function i(h,l){var d=[],m=h.length,g=0,p=0,y,v=m<=0,b=!1;h.charCodeAt(m-1)===wr&&--m,h.charCodeAt(m-1)===uu&&--m;function _(){if(v)return ou;if(b)return b=!1,Us;var x,E=g,N;if(h.charCodeAt(E)===au){for(;g++<m&&h.charCodeAt(g)!==au||h.charCodeAt(++g)===au;);return(x=g)>=m?v=!0:(N=h.charCodeAt(g++))===wr?b=!0:N===uu&&(b=!0,h.charCodeAt(g)===wr&&++g),h.slice(E+1,x-1).replace(/""/g,'"')}for(;g<m;){if((N=h.charCodeAt(x=g++))===wr)b=!0;else if(N===uu)b=!0,h.charCodeAt(g)===wr&&++g;else if(N!==e)continue;return h.slice(E,x)}return v=!0,h.slice(E,m)}for(;(y=_())!==ou;){for(var w=[];y!==Us&&y!==ou;)w.push(y),y=_();l&&(w=l(w,p++))==null||d.push(w)}return d}function o(h,l){return h.map(function(d){return l.map(function(m){return s(d[m])}).join(t)})}function a(h,l){return l==null&&(l=qs(h)),[l.map(s).join(t)].concat(o(h,l)).join(`
`)}function u(h,l){return l==null&&(l=qs(h)),o(h,l).join(`
`)}function f(h){return h.map(c).join(`
`)}function c(h){return h.map(s).join(t)}function s(h){return h==null?"":h instanceof Date?x3(h):n.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:f,formatRow:c,formatValue:s}}var Te=ma(","),j0=Te.parse,M3=Te.parseRows,S3=Te.format,T3=Te.formatBody,A3=Te.formatRows,E3=Te.formatRow,$3=Te.formatValue,Ae=ma("	"),J0=Ae.parse,k3=Ae.parseRows,N3=Ae.format,C3=Ae.formatBody,R3=Ae.formatRows,P3=Ae.formatRow,I3=Ae.formatValue;function z3(t){for(var n in t){var e=t[n].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))D3&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;t[n]=e}return t}const D3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function O3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function L3(t,n){return fetch(t,n).then(O3)}function F3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function B3(t,n){return fetch(t,n).then(F3)}function U3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ya(t,n){return fetch(t,n).then(U3)}function td(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),ya(n,e).then(function(i){return t(i,r)})}}function q3(t,n,e,r){arguments.length===3&&typeof e=="function"&&(r=e,e=void 0);var i=ma(t);return ya(n,e).then(function(o){return i.parse(o,r)})}var Y3=td(j0),V3=td(J0);function H3(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})}function X3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function W3(t,n){return fetch(t,n).then(X3)}function Kc(t){return(n,e)=>ya(n,e).then(r=>new DOMParser().parseFromString(r,t))}const G3=Kc("application/xml");var Z3=Kc("text/html"),Q3=Kc("image/svg+xml");function K3(t,n){var e,r=1;t==null&&(t=0),n==null&&(n=0);function i(){var o,a=e.length,u,f=0,c=0;for(o=0;o<a;++o)u=e[o],f+=u.x,c+=u.y;for(f=(f/a-t)*r,c=(c/a-n)*r,o=0;o<a;++o)u=e[o],u.x-=f,u.y-=c}return i.initialize=function(o){e=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(n=+o,i):n},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function j3(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return nd(this.cover(n,e),n,e,t)}function nd(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,a={data:r},u=t._x0,f=t._y0,c=t._x1,s=t._y1,h,l,d,m,g,p,y,v;if(!o)return t._root=a,t;for(;o.length;)if((g=n>=(h=(u+c)/2))?u=h:c=h,(p=e>=(l=(f+s)/2))?f=l:s=l,i=o,!(o=o[y=p<<1|g]))return i[y]=a,t;if(d=+t._x.call(null,o.data),m=+t._y.call(null,o.data),n===d&&e===m)return a.next=o,i?i[y]=a:t._root=a,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(g=n>=(h=(u+c)/2))?u=h:c=h,(p=e>=(l=(f+s)/2))?f=l:s=l;while((y=p<<1|g)===(v=(m>=l)<<1|d>=h));return i[v]=o,i[y]=a,t}function J3(t){var n,e,r=t.length,i,o,a=new Array(r),u=new Array(r),f=1/0,c=1/0,s=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(a[e]=i,u[e]=o,i<f&&(f=i),i>s&&(s=i),o<c&&(c=o),o>h&&(h=o));if(f>s||c>h)return this;for(this.cover(f,c).cover(s,h),e=0;e<r;++e)nd(this,a[e],u[e],t[e]);return this}function tw(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a=i-e||1,u=this._root,f,c;e>t||t>=i||r>n||n>=o;)switch(c=(n<r)<<1|t<e,f=new Array(4),f[c]=u,u=f,a*=2,c){case 0:i=e+a,o=r+a;break;case 1:e=i-a,o=r+a;break;case 2:i=e+a,r=o-a;break;case 3:e=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function nw(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function ew(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Bt(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function rw(t,n,e){var r,i=this._x0,o=this._y0,a,u,f,c,s=this._x1,h=this._y1,l=[],d=this._root,m,g;for(d&&l.push(new Bt(d,i,o,s,h)),e==null?e=1/0:(i=t-e,o=n-e,s=t+e,h=n+e,e*=e);m=l.pop();)if(!(!(d=m.node)||(a=m.x0)>s||(u=m.y0)>h||(f=m.x1)<i||(c=m.y1)<o))if(d.length){var p=(a+f)/2,y=(u+c)/2;l.push(new Bt(d[3],p,y,f,c),new Bt(d[2],a,y,p,c),new Bt(d[1],p,u,f,y),new Bt(d[0],a,u,p,y)),(g=(n>=y)<<1|t>=p)&&(m=l[l.length-1],l[l.length-1]=l[l.length-1-g],l[l.length-1-g]=m)}else{var v=t-+this._x.call(null,d.data),b=n-+this._y.call(null,d.data),_=v*v+b*b;if(_<e){var w=Math.sqrt(e=_);i=t-w,o=n-w,s=t+w,h=n+w,r=d.data}}return r}function iw(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,a=this._x0,u=this._y0,f=this._x1,c=this._y1,s,h,l,d,m,g,p,y;if(!e)return this;if(e.length)for(;;){if((m=s>=(l=(a+f)/2))?a=l:f=l,(g=h>=(d=(u+c)/2))?u=d:c=d,n=e,!(e=e[p=g<<1|m]))return this;if(!e.length)break;(n[p+1&3]||n[p+2&3]||n[p+3&3])&&(r=n,y=p)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[p]=o:delete n[p],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[y]=e:this._root=e),this):(this._root=o,this)}function ow(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function aw(){return this._root}function uw(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function cw(t){var n=[],e,r=this._root,i,o,a,u,f;for(r&&n.push(new Bt(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,a=e.y0,u=e.x1,f=e.y1)&&r.length){var c=(o+u)/2,s=(a+f)/2;(i=r[3])&&n.push(new Bt(i,c,s,u,f)),(i=r[2])&&n.push(new Bt(i,o,s,c,f)),(i=r[1])&&n.push(new Bt(i,c,a,u,s)),(i=r[0])&&n.push(new Bt(i,o,a,c,s))}return this}function fw(t){var n=[],e=[],r;for(this._root&&n.push(new Bt(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,a=r.x0,u=r.y0,f=r.x1,c=r.y1,s=(a+f)/2,h=(u+c)/2;(o=i[0])&&n.push(new Bt(o,a,u,s,h)),(o=i[1])&&n.push(new Bt(o,s,u,f,h)),(o=i[2])&&n.push(new Bt(o,a,h,s,c)),(o=i[3])&&n.push(new Bt(o,s,h,f,c))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function sw(t){return t[0]}function lw(t){return arguments.length?(this._x=t,this):this._x}function hw(t){return t[1]}function dw(t){return arguments.length?(this._y=t,this):this._y}function _a(t,n,e){var r=new jc(n??sw,e??hw,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function jc(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ys(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Xt=_a.prototype=jc.prototype;Xt.copy=function(){var t=new jc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Ys(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=Ys(r));return t};Xt.add=j3;Xt.addAll=J3;Xt.cover=tw;Xt.data=nw;Xt.extent=ew;Xt.find=rw;Xt.remove=iw;Xt.removeAll=ow;Xt.root=aw;Xt.size=uw;Xt.visit=cw;Xt.visitAfter=fw;Xt.x=lw;Xt.y=dw;function wt(t){return function(){return t}}function Vn(t){return(t()-.5)*1e-6}function gw(t){return t.x+t.vx}function pw(t){return t.y+t.vy}function mw(t){var n,e,r,i=1,o=1;typeof t!="function"&&(t=wt(t==null?1:+t));function a(){for(var c,s=n.length,h,l,d,m,g,p,y=0;y<o;++y)for(h=_a(n,gw,pw).visitAfter(u),c=0;c<s;++c)l=n[c],g=e[l.index],p=g*g,d=l.x+l.vx,m=l.y+l.vy,h.visit(v);function v(b,_,w,x,E){var N=b.data,$=b.r,k=g+$;if(N){if(N.index>l.index){var S=d-N.x-N.vx,P=m-N.y-N.vy,R=S*S+P*P;R<k*k&&(S===0&&(S=Vn(r),R+=S*S),P===0&&(P=Vn(r),R+=P*P),R=(k-(R=Math.sqrt(R)))/R*i,l.vx+=(S*=R)*(k=($*=$)/(p+$)),l.vy+=(P*=R)*k,N.vx-=S*(k=1-k),N.vy-=P*k)}return}return _>d+k||x<d-k||w>m+k||E<m-k}}function u(c){if(c.data)return c.r=e[c.data.index];for(var s=c.r=0;s<4;++s)c[s]&&c[s].r>c.r&&(c.r=c[s].r)}function f(){if(n){var c,s=n.length,h;for(e=new Array(s),c=0;c<s;++c)h=n[c],e[h.index]=+t(h,c,n)}}return a.initialize=function(c,s){n=c,r=s,f()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),f(),a):t},a}function yw(t){return t.index}function Vs(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function _w(t){var n=yw,e=h,r,i=wt(30),o,a,u,f,c,s=1;t==null&&(t=[]);function h(p){return 1/Math.min(u[p.source.index],u[p.target.index])}function l(p){for(var y=0,v=t.length;y<s;++y)for(var b=0,_,w,x,E,N,$,k;b<v;++b)_=t[b],w=_.source,x=_.target,E=x.x+x.vx-w.x-w.vx||Vn(c),N=x.y+x.vy-w.y-w.vy||Vn(c),$=Math.sqrt(E*E+N*N),$=($-o[b])/$*p*r[b],E*=$,N*=$,x.vx-=E*(k=f[b]),x.vy-=N*k,w.vx+=E*(k=1-k),w.vy+=N*k}function d(){if(a){var p,y=a.length,v=t.length,b=new Map(a.map((w,x)=>[n(w,x,a),w])),_;for(p=0,u=new Array(y);p<v;++p)_=t[p],_.index=p,typeof _.source!="object"&&(_.source=Vs(b,_.source)),typeof _.target!="object"&&(_.target=Vs(b,_.target)),u[_.source.index]=(u[_.source.index]||0)+1,u[_.target.index]=(u[_.target.index]||0)+1;for(p=0,f=new Array(v);p<v;++p)_=t[p],f[p]=u[_.source.index]/(u[_.source.index]+u[_.target.index]);r=new Array(v),m(),o=new Array(v),g()}}function m(){if(a)for(var p=0,y=t.length;p<y;++p)r[p]=+e(t[p],p,t)}function g(){if(a)for(var p=0,y=t.length;p<y;++p)o[p]=+i(t[p],p,t)}return l.initialize=function(p,y){a=p,c=y,d()},l.links=function(p){return arguments.length?(t=p,d(),l):t},l.id=function(p){return arguments.length?(n=p,l):n},l.iterations=function(p){return arguments.length?(s=+p,l):s},l.strength=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),m(),l):e},l.distance=function(p){return arguments.length?(i=typeof p=="function"?p:wt(+p),g(),l):i},l}const bw=1664525,vw=1013904223,Hs=4294967296;function ww(){let t=1;return()=>(t=(bw*t+vw)%Hs)/Hs}function xw(t){return t.x}function Mw(t){return t.y}var Sw=10,Tw=Math.PI*(3-Math.sqrt(5));function Aw(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,f=ga(h),c=Me("tick","end"),s=ww();t==null&&(t=[]);function h(){l(),c.call("tick",n),e<r&&(f.stop(),c.call("end",n))}function l(g){var p,y=t.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(e+=(o-e)*i,u.forEach(function(_){_(e)}),p=0;p<y;++p)v=t[p],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return n}function d(){for(var g=0,p=t.length,y;g<p;++g){if(y=t[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=Sw*Math.sqrt(.5+g),b=g*Tw;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(t,s),g}return d(),n={tick:l,restart:function(){return f.restart(h),n},stop:function(){return f.stop(),n},nodes:function(g){return arguments.length?(t=g,d(),u.forEach(m),n):t},alpha:function(g){return arguments.length?(e=+g,n):e},alphaMin:function(g){return arguments.length?(r=+g,n):r},alphaDecay:function(g){return arguments.length?(i=+g,n):+i},alphaTarget:function(g){return arguments.length?(o=+g,n):o},velocityDecay:function(g){return arguments.length?(a=1-g,n):1-a},randomSource:function(g){return arguments.length?(s=g,u.forEach(m),n):s},force:function(g,p){return arguments.length>1?(p==null?u.delete(g):u.set(g,m(p)),n):u.get(g)},find:function(g,p,y){var v=0,b=t.length,_,w,x,E,N;for(y==null?y=1/0:y*=y,v=0;v<b;++v)E=t[v],_=g-E.x,w=p-E.y,x=_*_+w*w,x<y&&(N=E,y=x);return N},on:function(g,p){return arguments.length>1?(c.on(g,p),n):c.on(g)}}}function Ew(){var t,n,e,r,i=wt(-30),o,a=1,u=1/0,f=.81;function c(d){var m,g=t.length,p=_a(t,xw,Mw).visitAfter(h);for(r=d,m=0;m<g;++m)n=t[m],p.visit(l)}function s(){if(t){var d,m=t.length,g;for(o=new Array(m),d=0;d<m;++d)g=t[d],o[g.index]=+i(g,d,t)}}function h(d){var m=0,g,p,y=0,v,b,_;if(d.length){for(v=b=_=0;_<4;++_)(g=d[_])&&(p=Math.abs(g.value))&&(m+=g.value,y+=p,v+=p*g.x,b+=p*g.y);d.x=v/y,d.y=b/y}else{g=d,g.x=g.data.x,g.y=g.data.y;do m+=o[g.data.index];while(g=g.next)}d.value=m}function l(d,m,g,p){if(!d.value)return!0;var y=d.x-n.x,v=d.y-n.y,b=p-m,_=y*y+v*v;if(b*b/f<_)return _<u&&(y===0&&(y=Vn(e),_+=y*y),v===0&&(v=Vn(e),_+=v*v),_<a&&(_=Math.sqrt(a*_)),n.vx+=y*d.value*r/_,n.vy+=v*d.value*r/_),!0;if(d.length||_>=u)return;(d.data!==n||d.next)&&(y===0&&(y=Vn(e),_+=y*y),v===0&&(v=Vn(e),_+=v*v),_<a&&(_=Math.sqrt(a*_)));do d.data!==n&&(b=o[d.data.index]*r/_,n.vx+=y*b,n.vy+=v*b);while(d=d.next)}return c.initialize=function(d,m){t=d,e=m,s()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:wt(+d),s(),c):i},c.distanceMin=function(d){return arguments.length?(a=d*d,c):Math.sqrt(a)},c.distanceMax=function(d){return arguments.length?(u=d*d,c):Math.sqrt(u)},c.theta=function(d){return arguments.length?(f=d*d,c):Math.sqrt(f)},c}function $w(t,n,e){var r,i=wt(.1),o,a;typeof t!="function"&&(t=wt(+t)),n==null&&(n=0),e==null&&(e=0);function u(c){for(var s=0,h=r.length;s<h;++s){var l=r[s],d=l.x-n||1e-6,m=l.y-e||1e-6,g=Math.sqrt(d*d+m*m),p=(a[s]-g)*o[s]*c/g;l.vx+=d*p,l.vy+=m*p}}function f(){if(r){var c,s=r.length;for(o=new Array(s),a=new Array(s),c=0;c<s;++c)a[c]=+t(r[c],c,r),o[c]=isNaN(a[c])?0:+i(r[c],c,r)}}return u.initialize=function(c){r=c,f()},u.strength=function(c){return arguments.length?(i=typeof c=="function"?c:wt(+c),f(),u):i},u.radius=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),f(),u):t},u.x=function(c){return arguments.length?(n=+c,u):n},u.y=function(c){return arguments.length?(e=+c,u):e},u}function kw(t){var n=wt(.1),e,r,i;typeof t!="function"&&(t=wt(t==null?0:+t));function o(u){for(var f=0,c=e.length,s;f<c;++f)s=e[f],s.vx+=(i[f]-s.x)*r[f]*u}function a(){if(e){var u,f=e.length;for(r=new Array(f),i=new Array(f),u=0;u<f;++u)r[u]=isNaN(i[u]=+t(e[u],u,e))?0:+n(e[u],u,e)}}return o.initialize=function(u){e=u,a()},o.strength=function(u){return arguments.length?(n=typeof u=="function"?u:wt(+u),a(),o):n},o.x=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),a(),o):t},o}function Nw(t){var n=wt(.1),e,r,i;typeof t!="function"&&(t=wt(t==null?0:+t));function o(u){for(var f=0,c=e.length,s;f<c;++f)s=e[f],s.vy+=(i[f]-s.y)*r[f]*u}function a(){if(e){var u,f=e.length;for(r=new Array(f),i=new Array(f),u=0;u<f;++u)r[u]=isNaN(i[u]=+t(e[u],u,e))?0:+n(e[u],u,e)}}return o.initialize=function(u){e=u,a()},o.strength=function(u){return arguments.length?(n=typeof u=="function"?u:wt(+u),a(),o):n},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),a(),o):t},o}function Cw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mo(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function er(t){return t=Mo(Math.abs(t)),t?t[1]:NaN}function Rw(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(e.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Pw(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Iw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rr(t){if(!(n=Iw.exec(t)))throw new Error("invalid format: "+t);var n;return new ba({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}rr.prototype=ba.prototype;function ba(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ba.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zw(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ed;function Dw(t,n){var e=Mo(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ed=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mo(t,Math.max(0,n+o-1))[0]}function Xs(t,n){var e=Mo(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ws={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cw,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Xs(t*100,n),r:Xs,s:Dw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gs(t){return t}var Zs=Array.prototype.map,Qs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rd(t){var n=t.grouping===void 0||t.thousands===void 0?Gs:Rw(Zs.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Gs:Pw(Zs.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(h){h=rr(h);var l=h.fill,d=h.align,m=h.sign,g=h.symbol,p=h.zero,y=h.width,v=h.comma,b=h.precision,_=h.trim,w=h.type;w==="n"?(v=!0,w="g"):Ws[w]||(b===void 0&&(b=12),_=!0,w="g"),(p||l==="0"&&d==="=")&&(p=!0,l="0",d="=");var x=g==="$"?e:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=g==="$"?r:/[%p]/.test(w)?a:"",N=Ws[w],$=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(S){var P=x,R=E,M,A,T;if(w==="c")R=N(S)+R,S="";else{S=+S;var C=S<0||1/S<0;if(S=isNaN(S)?f:N(Math.abs(S),b),_&&(S=zw(S)),C&&+S==0&&m!=="+"&&(C=!1),P=(C?m==="("?m:u:m==="-"||m==="("?"":m)+P,R=(w==="s"?Qs[8+ed/3]:"")+R+(C&&m==="("?")":""),$){for(M=-1,A=S.length;++M<A;)if(T=S.charCodeAt(M),48>T||T>57){R=(T===46?i+S.slice(M+1):S.slice(M))+R,S=S.slice(0,M);break}}}v&&!p&&(S=n(S,1/0));var I=P.length+S.length+R.length,z=I<y?new Array(y-I+1).join(l):"";switch(v&&p&&(S=n(z+S,z.length?y-R.length:1/0),z=""),d){case"<":S=P+S+R+z;break;case"=":S=P+z+S+R;break;case"^":S=z.slice(0,I=z.length>>1)+P+S+R+z.slice(I);break;default:S=z+P+S+R;break}return o(S)}return k.toString=function(){return h+""},k}function s(h,l){var d=c((h=rr(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(er(l)/3)))*3,g=Math.pow(10,-m),p=Qs[8+m/3];return function(y){return d(g*y)+p}}return{format:c,formatPrefix:s}}var Ii,va,Jc;id({thousands:",",grouping:[3],currency:["$",""]});function id(t){return Ii=rd(t),va=Ii.format,Jc=Ii.formatPrefix,Ii}function od(t){return Math.max(0,-er(Math.abs(t)))}function ad(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(er(n)/3)))*3-er(Math.abs(t)))}function ud(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,er(n)-er(t))+1}var Y=1e-6,ri=1e-12,Q=Math.PI,yt=Q/2,So=Q/4,Yt=Q*2,ot=180/Q,V=Q/180,K=Math.abs,gr=Math.atan,Vt=Math.atan2,U=Math.cos,zi=Math.ceil,cd=Math.exp,Zu=Math.hypot,To=Math.log,cu=Math.pow,F=Math.sin,rn=Math.sign||function(t){return t>0?1:t<0?-1:0},At=Math.sqrt,tf=Math.tan;function fd(t){return t>1?0:t<-1?Q:Math.acos(t)}function Ht(t){return t>1?yt:t<-1?-yt:Math.asin(t)}function Ks(t){return(t=F(t/2))*t}function ht(){}function Ao(t,n){t&&Js.hasOwnProperty(t.type)&&Js[t.type](t,n)}var js={Feature:function(t,n){Ao(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ao(e[r].geometry,n)}},Js={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Qu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Qu(e[r],n,0)},Polygon:function(t,n){tl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)tl(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ao(e[r],n)}};function Qu(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function tl(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Qu(t[e],n,1);n.polygonEnd()}function cn(t,n){t&&js.hasOwnProperty(t.type)?js[t.type](t,n):Ao(t,n)}var Eo=new xt,$o=new xt,sd,ld,Ku,ju,Ju,wn={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){Eo=new xt,wn.lineStart=Ow,wn.lineEnd=Lw},polygonEnd:function(){var t=+Eo;$o.add(t<0?Yt+t:t),this.lineStart=this.lineEnd=this.point=ht},sphere:function(){$o.add(Yt)}};function Ow(){wn.point=Fw}function Lw(){hd(sd,ld)}function Fw(t,n){wn.point=hd,sd=t,ld=n,t*=V,n*=V,Ku=t,ju=U(n=n/2+So),Ju=F(n)}function hd(t,n){t*=V,n*=V,n=n/2+So;var e=t-Ku,r=e>=0?1:-1,i=r*e,o=U(n),a=F(n),u=Ju*a,f=ju*o+u*U(i),c=u*r*F(i);Eo.add(Vt(c,f)),Ku=t,ju=o,Ju=a}function Bw(t){return $o=new xt,cn(t,wn),$o*2}function ko(t){return[Vt(t[1],t[0]),Ht(t[2])]}function _e(t){var n=t[0],e=t[1],r=U(e);return[r*U(n),r*F(n),F(e)]}function Di(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ir(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function fu(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Oi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function No(t){var n=At(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var ft,Zt,mt,jt,oe,dd,gd,We,Br,qn,Dn,Nn={point:tc,lineStart:nl,lineEnd:el,polygonStart:function(){Nn.point=md,Nn.lineStart=Uw,Nn.lineEnd=qw,Br=new xt,wn.polygonStart()},polygonEnd:function(){wn.polygonEnd(),Nn.point=tc,Nn.lineStart=nl,Nn.lineEnd=el,Eo<0?(ft=-(mt=180),Zt=-(jt=90)):Br>Y?jt=90:Br<-Y&&(Zt=-90),Dn[0]=ft,Dn[1]=mt},sphere:function(){ft=-(mt=180),Zt=-(jt=90)}};function tc(t,n){qn.push(Dn=[ft=t,mt=t]),n<Zt&&(Zt=n),n>jt&&(jt=n)}function pd(t,n){var e=_e([t*V,n*V]);if(We){var r=ir(We,e),i=[r[1],-r[0],0],o=ir(i,r);No(o),o=ko(o);var a=t-oe,u=a>0?1:-1,f=o[0]*ot*u,c,s=K(a)>180;s^(u*oe<f&&f<u*t)?(c=o[1]*ot,c>jt&&(jt=c)):(f=(f+360)%360-180,s^(u*oe<f&&f<u*t)?(c=-o[1]*ot,c<Zt&&(Zt=c)):(n<Zt&&(Zt=n),n>jt&&(jt=n))),s?t<oe?Qt(ft,t)>Qt(ft,mt)&&(mt=t):Qt(t,mt)>Qt(ft,mt)&&(ft=t):mt>=ft?(t<ft&&(ft=t),t>mt&&(mt=t)):t>oe?Qt(ft,t)>Qt(ft,mt)&&(mt=t):Qt(t,mt)>Qt(ft,mt)&&(ft=t)}else qn.push(Dn=[ft=t,mt=t]);n<Zt&&(Zt=n),n>jt&&(jt=n),We=e,oe=t}function nl(){Nn.point=pd}function el(){Dn[0]=ft,Dn[1]=mt,Nn.point=tc,We=null}function md(t,n){if(We){var e=t-oe;Br.add(K(e)>180?e+(e>0?360:-360):e)}else dd=t,gd=n;wn.point(t,n),pd(t,n)}function Uw(){wn.lineStart()}function qw(){md(dd,gd),wn.lineEnd(),K(Br)>Y&&(ft=-(mt=180)),Dn[0]=ft,Dn[1]=mt,We=null}function Qt(t,n){return(n-=t)<0?n+360:n}function Yw(t,n){return t[0]-n[0]}function rl(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function Vw(t){var n,e,r,i,o,a,u;if(jt=mt=-(ft=Zt=1/0),qn=[],cn(t,Nn),e=qn.length){for(qn.sort(Yw),n=1,r=qn[0],o=[r];n<e;++n)i=qn[n],rl(r,i[0])||rl(r,i[1])?(Qt(r[0],i[1])>Qt(r[0],r[1])&&(r[1]=i[1]),Qt(i[0],r[1])>Qt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(u=Qt(r[1],i[0]))>a&&(a=u,ft=i[0],mt=r[1])}return qn=Dn=null,ft===1/0||Zt===1/0?[[NaN,NaN],[NaN,NaN]]:[[ft,Zt],[mt,jt]]}var kr,Co,Ro,Po,Io,zo,Do,Oo,nc,ec,rc,yd,_d,Ot,Lt,Ft,fn={sphere:ht,point:nf,lineStart:il,lineEnd:ol,polygonStart:function(){fn.lineStart=Ww,fn.lineEnd=Gw},polygonEnd:function(){fn.lineStart=il,fn.lineEnd=ol}};function nf(t,n){t*=V,n*=V;var e=U(n);pi(e*U(t),e*F(t),F(n))}function pi(t,n,e){++kr,Ro+=(t-Ro)/kr,Po+=(n-Po)/kr,Io+=(e-Io)/kr}function il(){fn.point=Hw}function Hw(t,n){t*=V,n*=V;var e=U(n);Ot=e*U(t),Lt=e*F(t),Ft=F(n),fn.point=Xw,pi(Ot,Lt,Ft)}function Xw(t,n){t*=V,n*=V;var e=U(n),r=e*U(t),i=e*F(t),o=F(n),a=Vt(At((a=Lt*o-Ft*i)*a+(a=Ft*r-Ot*o)*a+(a=Ot*i-Lt*r)*a),Ot*r+Lt*i+Ft*o);Co+=a,zo+=a*(Ot+(Ot=r)),Do+=a*(Lt+(Lt=i)),Oo+=a*(Ft+(Ft=o)),pi(Ot,Lt,Ft)}function ol(){fn.point=nf}function Ww(){fn.point=Zw}function Gw(){bd(yd,_d),fn.point=nf}function Zw(t,n){yd=t,_d=n,t*=V,n*=V,fn.point=bd;var e=U(n);Ot=e*U(t),Lt=e*F(t),Ft=F(n),pi(Ot,Lt,Ft)}function bd(t,n){t*=V,n*=V;var e=U(n),r=e*U(t),i=e*F(t),o=F(n),a=Lt*o-Ft*i,u=Ft*r-Ot*o,f=Ot*i-Lt*r,c=Zu(a,u,f),s=Ht(c),h=c&&-s/c;nc.add(h*a),ec.add(h*u),rc.add(h*f),Co+=s,zo+=s*(Ot+(Ot=r)),Do+=s*(Lt+(Lt=i)),Oo+=s*(Ft+(Ft=o)),pi(Ot,Lt,Ft)}function Qw(t){kr=Co=Ro=Po=Io=zo=Do=Oo=0,nc=new xt,ec=new xt,rc=new xt,cn(t,fn);var n=+nc,e=+ec,r=+rc,i=Zu(n,e,r);return i<ri&&(n=zo,e=Do,r=Oo,Co<Y&&(n=Ro,e=Po,r=Io),i=Zu(n,e,r),i<ri)?[NaN,NaN]:[Vt(e,n)*ot,Ht(r/i)*ot]}function Oe(t){return function(){return t}}function ic(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function oc(t,n){return K(t)>Q&&(t-=Math.round(t/Yt)*Yt),[t,n]}oc.invert=oc;function ef(t,n,e){return(t%=Yt)?n||e?ic(ul(t),cl(n,e)):ul(t):n||e?cl(n,e):oc}function al(t){return function(n,e){return n+=t,K(n)>Q&&(n-=Math.round(n/Yt)*Yt),[n,e]}}function ul(t){var n=al(t);return n.invert=al(-t),n}function cl(t,n){var e=U(t),r=F(t),i=U(n),o=F(n);function a(u,f){var c=U(f),s=U(u)*c,h=F(u)*c,l=F(f),d=l*e+s*r;return[Vt(h*i-d*o,s*e-l*r),Ht(d*i+h*o)]}return a.invert=function(u,f){var c=U(f),s=U(u)*c,h=F(u)*c,l=F(f),d=l*i-h*o;return[Vt(h*i+l*o,s*e+d*r),Ht(d*e-s*r)]},a}function vd(t){t=ef(t[0]*V,t[1]*V,t.length>2?t[2]*V:0);function n(e){return e=t(e[0]*V,e[1]*V),e[0]*=ot,e[1]*=ot,e}return n.invert=function(e){return e=t.invert(e[0]*V,e[1]*V),e[0]*=ot,e[1]*=ot,e},n}function wd(t,n,e,r,i,o){if(e){var a=U(n),u=F(n),f=r*e;i==null?(i=n+r*Yt,o=n-f/2):(i=fl(a,i),o=fl(a,o),(r>0?i<o:i>o)&&(i+=r*Yt));for(var c,s=i;r>0?s>o:s<o;s-=f)c=ko([a,-u*U(s),-u*F(s)]),t.point(c[0],c[1])}}function fl(t,n){n=_e(n),n[0]-=t,No(n);var e=fd(-n[1]);return((-n[2]<0?-e:e)+Yt-Y)%Yt}function Kw(){var t=Oe([0,0]),n=Oe(90),e=Oe(2),r,i,o={point:a};function a(f,c){r.push(f=i(f,c)),f[0]*=ot,f[1]*=ot}function u(){var f=t.apply(this,arguments),c=n.apply(this,arguments)*V,s=e.apply(this,arguments)*V;return r=[],i=ef(-f[0]*V,-f[1]*V,0).invert,wd(o,c,s,1),f={type:"Polygon",coordinates:[r]},r=i=null,f}return u.center=function(f){return arguments.length?(t=typeof f=="function"?f:Oe([+f[0],+f[1]]),u):t},u.radius=function(f){return arguments.length?(n=typeof f=="function"?f:Oe(+f),u):n},u.precision=function(f){return arguments.length?(e=typeof f=="function"?f:Oe(+f),u):e},u}function xd(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:ht,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function no(t,n){return K(t[0]-n[0])<Y&&K(t[1]-n[1])<Y}function Li(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Md(t,n,e,r,i){var o=[],a=[],u,f;if(t.forEach(function(m){if(!((g=m.length-1)<=0)){var g,p=m[0],y=m[g],v;if(no(p,y)){if(!p[2]&&!y[2]){for(i.lineStart(),u=0;u<g;++u)i.point((p=m[u])[0],p[1]);i.lineEnd();return}y[0]+=2*Y}o.push(v=new Li(p,m,null,!0)),a.push(v.o=new Li(p,null,v,!1)),o.push(v=new Li(y,m,null,!1)),a.push(v.o=new Li(y,null,v,!0))}}),!!o.length){for(a.sort(n),sl(o),sl(a),u=0,f=a.length;u<f;++u)a[u].e=e=!e;for(var c=o[0],s,h;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,f=s.length;u<f;++u)i.point((h=s[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(s=l.p.z,u=s.length-1;u>=0;--u)i.point((h=s[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,d=!d}while(!l.v);i.lineEnd()}}}function sl(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function su(t){return K(t[0])<=Q?t[0]:rn(t[0])*((K(t[0])+Q)%Yt-Q)}function Sd(t,n){var e=su(n),r=n[1],i=F(r),o=[F(e),-U(e),0],a=0,u=0,f=new xt;i===1?r=yt+Y:i===-1&&(r=-yt-Y);for(var c=0,s=t.length;c<s;++c)if(l=(h=t[c]).length)for(var h,l,d=h[l-1],m=su(d),g=d[1]/2+So,p=F(g),y=U(g),v=0;v<l;++v,m=_,p=x,y=E,d=b){var b=h[v],_=su(b),w=b[1]/2+So,x=F(w),E=U(w),N=_-m,$=N>=0?1:-1,k=$*N,S=k>Q,P=p*x;if(f.add(Vt(P*$*F(k),y*E+P*U(k))),a+=S?N+$*Yt:N,S^m>=e^_>=e){var R=ir(_e(d),_e(b));No(R);var M=ir(o,R);No(M);var A=(S^N>=0?-1:1)*Ht(M[2]);(r>A||r===A&&(R[0]||R[1]))&&(u+=S^N>=0?1:-1)}}return(a<-Y||a<Y&&f<-ri)^u&1}function Td(t,n,e,r){return function(i){var o=n(i),a=xd(),u=n(a),f=!1,c,s,h,l={point:d,lineStart:g,lineEnd:p,polygonStart:function(){l.point=y,l.lineStart=v,l.lineEnd=b,s=[],c=[]},polygonEnd:function(){l.point=d,l.lineStart=g,l.lineEnd=p,s=Nc(s);var _=Sd(c,r);s.length?(f||(i.polygonStart(),f=!0),Md(s,Jw,_,e,i)):_&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,w){t(_,w)&&i.point(_,w)}function m(_,w){o.point(_,w)}function g(){l.point=m,o.lineStart()}function p(){l.point=d,o.lineEnd()}function y(_,w){h.push([_,w]),u.point(_,w)}function v(){u.lineStart(),h=[]}function b(){y(h[0][0],h[0][1]),u.lineEnd();var _=u.clean(),w=a.result(),x,E=w.length,N,$,k;if(h.pop(),c.push(h),h=null,!!E){if(_&1){if($=w[0],(N=$.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),x=0;x<N;++x)i.point((k=$[x])[0],k[1]);i.lineEnd()}return}E>1&&_&2&&w.push(w.pop().concat(w.shift())),s.push(w.filter(jw))}}return l}}function jw(t){return t.length>1}function Jw(t,n){return((t=t.x)[0]<0?t[1]-yt-Y:yt-t[1])-((n=n.x)[0]<0?n[1]-yt-Y:yt-n[1])}const ac=Td(function(){return!0},t6,e6,[-Q,-yt]);function t6(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var u=o>0?Q:-Q,f=K(o-n);K(f-Q)<Y?(t.point(n,e=(e+a)/2>0?yt:-yt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),i=0):r!==u&&f>=Q&&(K(n-r)<Y&&(n-=r*Y),K(o-u)<Y&&(o-=u*Y),e=n6(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),i=0),t.point(n=o,e=a),r=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function n6(t,n,e,r){var i,o,a=F(t-e);return K(a)>Y?gr((F(n)*(o=U(r))*F(e)-F(r)*(i=U(n))*F(t))/(i*o*a)):(n+r)/2}function e6(t,n,e,r){var i;if(t==null)i=e*yt,r.point(-Q,i),r.point(0,i),r.point(Q,i),r.point(Q,0),r.point(Q,-i),r.point(0,-i),r.point(-Q,-i),r.point(-Q,0),r.point(-Q,i);else if(K(t[0]-n[0])>Y){var o=t[0]<n[0]?Q:-Q;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Ad(t){var n=U(t),e=2*V,r=n>0,i=K(n)>Y;function o(s,h,l,d){wd(d,t,e,l,s,h)}function a(s,h){return U(s)*U(h)>n}function u(s){var h,l,d,m,g;return{lineStart:function(){m=d=!1,g=1},point:function(p,y){var v=[p,y],b,_=a(p,y),w=r?_?0:c(p,y):_?c(p+(p<0?Q:-Q),y):0;if(!h&&(m=d=_)&&s.lineStart(),_!==d&&(b=f(h,v),(!b||no(h,b)||no(v,b))&&(v[2]=1)),_!==d)g=0,_?(s.lineStart(),b=f(v,h),s.point(b[0],b[1])):(b=f(h,v),s.point(b[0],b[1],2),s.lineEnd()),h=b;else if(i&&h&&r^_){var x;!(w&l)&&(x=f(v,h,!0))&&(g=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}_&&(!h||!no(h,v))&&s.point(v[0],v[1]),h=v,d=_,l=w},lineEnd:function(){d&&s.lineEnd(),h=null},clean:function(){return g|(m&&d)<<1}}}function f(s,h,l){var d=_e(s),m=_e(h),g=[1,0,0],p=ir(d,m),y=Di(p,p),v=p[0],b=y-v*v;if(!b)return!l&&s;var _=n*y/b,w=-n*v/b,x=ir(g,p),E=Oi(g,_),N=Oi(p,w);fu(E,N);var $=x,k=Di(E,$),S=Di($,$),P=k*k-S*(Di(E,E)-1);if(!(P<0)){var R=At(P),M=Oi($,(-k-R)/S);if(fu(M,E),M=ko(M),!l)return M;var A=s[0],T=h[0],C=s[1],I=h[1],z;T<A&&(z=A,A=T,T=z);var O=T-A,B=K(O-Q)<Y,q=B||O<Y;if(!B&&I<C&&(z=C,C=I,I=z),q?B?C+I>0^M[1]<(K(M[0]-A)<Y?C:I):C<=M[1]&&M[1]<=I:O>Q^(A<=M[0]&&M[0]<=T)){var et=Oi($,(-k+R)/S);return fu(et,E),[M,ko(et)]}}}function c(s,h){var l=r?t:Q-t,d=0;return s<-l?d|=1:s>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return Td(a,u,o,r?[0,-t]:[-Q,t-Q])}function r6(t,n,e,r,i,o){var a=t[0],u=t[1],f=n[0],c=n[1],s=0,h=1,l=f-a,d=c-u,m;if(m=e-a,!(!l&&m>0)){if(m/=l,l<0){if(m<s)return;m<h&&(h=m)}else if(l>0){if(m>h)return;m>s&&(s=m)}if(m=i-a,!(!l&&m<0)){if(m/=l,l<0){if(m>h)return;m>s&&(s=m)}else if(l>0){if(m<s)return;m<h&&(h=m)}if(m=r-u,!(!d&&m>0)){if(m/=d,d<0){if(m<s)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>s&&(s=m)}if(m=o-u,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>s&&(s=m)}else if(d>0){if(m<s)return;m<h&&(h=m)}return s>0&&(t[0]=a+s*l,t[1]=u+s*d),h<1&&(n[0]=a+h*l,n[1]=u+h*d),!0}}}}}var Nr=1e9,Fi=-Nr;function wa(t,n,e,r){function i(c,s){return t<=c&&c<=e&&n<=s&&s<=r}function o(c,s,h,l){var d=0,m=0;if(c==null||(d=a(c,h))!==(m=a(s,h))||f(c,s)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==m);else l.point(s[0],s[1])}function a(c,s){return K(c[0]-t)<Y?s>0?0:3:K(c[0]-e)<Y?s>0?2:1:K(c[1]-n)<Y?s>0?1:0:s>0?3:2}function u(c,s){return f(c.x,s.x)}function f(c,s){var h=a(c,1),l=a(s,1);return h!==l?h-l:h===0?s[1]-c[1]:h===1?c[0]-s[0]:h===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,h=xd(),l,d,m,g,p,y,v,b,_,w,x,E={point:N,lineStart:P,lineEnd:R,polygonStart:k,polygonEnd:S};function N(A,T){i(A,T)&&s.point(A,T)}function $(){for(var A=0,T=0,C=d.length;T<C;++T)for(var I=d[T],z=1,O=I.length,B=I[0],q,et,J=B[0],j=B[1];z<O;++z)q=J,et=j,B=I[z],J=B[0],j=B[1],et<=r?j>r&&(J-q)*(r-et)>(j-et)*(t-q)&&++A:j<=r&&(J-q)*(r-et)<(j-et)*(t-q)&&--A;return A}function k(){s=h,l=[],d=[],x=!0}function S(){var A=$(),T=x&&A,C=(l=Nc(l)).length;(T||C)&&(c.polygonStart(),T&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),C&&Md(l,u,A,o,c),c.polygonEnd()),s=c,l=d=m=null}function P(){E.point=M,d&&d.push(m=[]),w=!0,_=!1,v=b=NaN}function R(){l&&(M(g,p),y&&_&&h.rejoin(),l.push(h.result())),E.point=N,_&&s.lineEnd()}function M(A,T){var C=i(A,T);if(d&&m.push([A,T]),w)g=A,p=T,y=C,w=!1,C&&(s.lineStart(),s.point(A,T));else if(C&&_)s.point(A,T);else{var I=[v=Math.max(Fi,Math.min(Nr,v)),b=Math.max(Fi,Math.min(Nr,b))],z=[A=Math.max(Fi,Math.min(Nr,A)),T=Math.max(Fi,Math.min(Nr,T))];r6(I,z,t,n,e,r)?(_||(s.lineStart(),s.point(I[0],I[1])),s.point(z[0],z[1]),C||s.lineEnd(),x=!1):C&&(s.lineStart(),s.point(A,T),x=!1)}v=A,b=T,_=C}return E}}function i6(){var t=0,n=0,e=960,r=500,i,o,a;return a={stream:function(u){return i&&o===u?i:i=wa(t,n,e,r)(o=u)},extent:function(u){return arguments.length?(t=+u[0][0],n=+u[0][1],e=+u[1][0],r=+u[1][1],i=o=null,a):[[t,n],[e,r]]}}}var uc,cc,eo,ro,or={sphere:ht,point:ht,lineStart:o6,lineEnd:ht,polygonStart:ht,polygonEnd:ht};function o6(){or.point=u6,or.lineEnd=a6}function a6(){or.point=or.lineEnd=ht}function u6(t,n){t*=V,n*=V,cc=t,eo=F(n),ro=U(n),or.point=c6}function c6(t,n){t*=V,n*=V;var e=F(n),r=U(n),i=K(t-cc),o=U(i),a=F(i),u=r*a,f=ro*e-eo*r*o,c=eo*e+ro*r*o;uc.add(Vt(At(u*u+f*f),c)),cc=t,eo=e,ro=r}function Ed(t){return uc=new xt,cn(t,or),+uc}var fc=[null,null],f6={type:"LineString",coordinates:fc};function Lo(t,n){return fc[0]=t,fc[1]=n,Ed(f6)}var ll={Feature:function(t,n){return Fo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Fo(e[r].geometry,n))return!0;return!1}},hl={Sphere:function(){return!0},Point:function(t,n){return dl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(dl(e[r],n))return!0;return!1},LineString:function(t,n){return gl(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(gl(e[r],n))return!0;return!1},Polygon:function(t,n){return pl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(pl(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Fo(e[r],n))return!0;return!1}};function Fo(t,n){return t&&hl.hasOwnProperty(t.type)?hl[t.type](t,n):!1}function dl(t,n){return Lo(t,n)===0}function gl(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(r=Lo(t[o],n),r===0||o>0&&(i=Lo(t[o],t[o-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<ri*i))return!0;e=r}return!1}function pl(t,n){return!!Sd(t.map(s6),$d(n))}function s6(t){return t=t.map($d),t.pop(),t}function $d(t){return[t[0]*V,t[1]*V]}function l6(t,n){return(t&&ll.hasOwnProperty(t.type)?ll[t.type]:Fo)(t,n)}function ml(t,n,e){var r=Yn(t,n-Y,e).concat(n);return function(i){return r.map(function(o){return[i,o]})}}function yl(t,n,e){var r=Yn(t,n-Y,e).concat(n);return function(i){return r.map(function(o){return[o,i]})}}function kd(){var t,n,e,r,i,o,a,u,f=10,c=f,s=90,h=360,l,d,m,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Yn(zi(r/s)*s,e,s).map(m).concat(Yn(zi(u/h)*h,a,h).map(g)).concat(Yn(zi(n/f)*f,t,f).filter(function(b){return K(b%s)>Y}).map(l)).concat(Yn(zi(o/c)*c,i,c).filter(function(b){return K(b%h)>Y}).map(d))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(a).slice(1),m(e).reverse().slice(1),g(u).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],e=+b[1][0],u=+b[0][1],a=+b[1][1],r>e&&(b=r,r=e,e=b),u>a&&(b=u,u=a,a=b),y.precision(p)):[[r,u],[e,a]]},y.extentMinor=function(b){return arguments.length?(n=+b[0][0],t=+b[1][0],o=+b[0][1],i=+b[1][1],n>t&&(b=n,n=t,t=b),o>i&&(b=o,o=i,i=b),y.precision(p)):[[n,o],[t,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(s=+b[0],h=+b[1],y):[s,h]},y.stepMinor=function(b){return arguments.length?(f=+b[0],c=+b[1],y):[f,c]},y.precision=function(b){return arguments.length?(p=+b,l=ml(o,i,90),d=yl(n,t,p),m=ml(u,a,90),g=yl(r,e,p),y):p},y.extentMajor([[-180,-90+Y],[180,90-Y]]).extentMinor([[-180,-80-Y],[180,80+Y]])}function h6(){return kd()()}function d6(t,n){var e=t[0]*V,r=t[1]*V,i=n[0]*V,o=n[1]*V,a=U(r),u=F(r),f=U(o),c=F(o),s=a*U(e),h=a*F(e),l=f*U(i),d=f*F(i),m=2*Ht(At(Ks(o-r)+a*f*Ks(i-e))),g=F(m),p=m?function(y){var v=F(y*=m)/g,b=F(m-y)/g,_=b*s+v*l,w=b*h+v*d,x=b*u+v*c;return[Vt(w,_)*ot,Vt(x,At(_*_+w*w))*ot]}:function(){return[e*ot,r*ot]};return p.distance=m,p}const ii=t=>t;var lu=new xt,sc=new xt,Nd,Cd,lc,hc,Cn={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){Cn.lineStart=g6,Cn.lineEnd=m6},polygonEnd:function(){Cn.lineStart=Cn.lineEnd=Cn.point=ht,lu.add(K(sc)),sc=new xt},result:function(){var t=lu/2;return lu=new xt,t}};function g6(){Cn.point=p6}function p6(t,n){Cn.point=Rd,Nd=lc=t,Cd=hc=n}function Rd(t,n){sc.add(hc*t-lc*n),lc=t,hc=n}function m6(){Rd(Nd,Cd)}var ar=1/0,Bo=ar,oi=-ar,Uo=oi,qo={point:y6,lineStart:ht,lineEnd:ht,polygonStart:ht,polygonEnd:ht,result:function(){var t=[[ar,Bo],[oi,Uo]];return oi=Uo=-(Bo=ar=1/0),t}};function y6(t,n){t<ar&&(ar=t),t>oi&&(oi=t),n<Bo&&(Bo=n),n>Uo&&(Uo=n)}var dc=0,gc=0,Cr=0,Yo=0,Vo=0,Ue=0,pc=0,mc=0,Rr=0,Pd,Id,gn,pn,en={point:be,lineStart:_l,lineEnd:bl,polygonStart:function(){en.lineStart=v6,en.lineEnd=w6},polygonEnd:function(){en.point=be,en.lineStart=_l,en.lineEnd=bl},result:function(){var t=Rr?[pc/Rr,mc/Rr]:Ue?[Yo/Ue,Vo/Ue]:Cr?[dc/Cr,gc/Cr]:[NaN,NaN];return dc=gc=Cr=Yo=Vo=Ue=pc=mc=Rr=0,t}};function be(t,n){dc+=t,gc+=n,++Cr}function _l(){en.point=_6}function _6(t,n){en.point=b6,be(gn=t,pn=n)}function b6(t,n){var e=t-gn,r=n-pn,i=At(e*e+r*r);Yo+=i*(gn+t)/2,Vo+=i*(pn+n)/2,Ue+=i,be(gn=t,pn=n)}function bl(){en.point=be}function v6(){en.point=x6}function w6(){zd(Pd,Id)}function x6(t,n){en.point=zd,be(Pd=gn=t,Id=pn=n)}function zd(t,n){var e=t-gn,r=n-pn,i=At(e*e+r*r);Yo+=i*(gn+t)/2,Vo+=i*(pn+n)/2,Ue+=i,i=pn*t-gn*n,pc+=i*(gn+t),mc+=i*(pn+n),Rr+=i*3,be(gn=t,pn=n)}function Dd(t){this._context=t}Dd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Yt);break}}},result:ht};var yc=new xt,hu,Od,Ld,Pr,Ir,ai={point:ht,lineStart:function(){ai.point=M6},lineEnd:function(){hu&&Fd(Od,Ld),ai.point=ht},polygonStart:function(){hu=!0},polygonEnd:function(){hu=null},result:function(){var t=+yc;return yc=new xt,t}};function M6(t,n){ai.point=Fd,Od=Pr=t,Ld=Ir=n}function Fd(t,n){Pr-=t,Ir-=n,yc.add(At(Pr*Pr+Ir*Ir)),Pr=t,Ir=n}let vl,Ho,wl,xl;class Ml{constructor(n){this._append=n==null?Bd:S6(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==wl||this._append!==Ho){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,wl=r,Ho=this._append,xl=this._,this._=i}this._+=xl;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Bd(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function S6(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Bd;if(n!==vl){const e=10**n;vl=n,Ho=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Ho}function T6(t,n){let e=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),cn(u,i(o))),o.result()}return a.area=function(u){return cn(u,i(Cn)),Cn.result()},a.measure=function(u){return cn(u,i(ai)),ai.result()},a.bounds=function(u){return cn(u,i(qo)),qo.result()},a.centroid=function(u){return cn(u,i(en)),en.result()},a.projection=function(u){return arguments.length?(i=u==null?(t=null,ii):(t=u).stream,a):t},a.context=function(u){return arguments.length?(o=u==null?(n=null,new Ml(e)):new Dd(n=u),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const f=Math.floor(u);if(!(f>=0))throw new RangeError(`invalid digits: ${u}`);e=f}return n===null&&(o=new Ml(e)),a},a.projection(t).digits(e).context(n)}function A6(t){return{stream:mi(t)}}function mi(t){return function(n){var e=new _c;for(var r in t)e[r]=t[r];return e.stream=n,e}}function _c(){}_c.prototype={constructor:_c,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),cn(e,t.stream(qo)),n(qo.result()),r!=null&&t.clipExtent(r),t}function xa(t,n,e){return rf(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([u,f])},e)}function of(t,n,e){return xa(t,[[0,0],n],e)}function af(t,n,e){return rf(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];t.scale(150*o).translate([a,u])},e)}function uf(t,n,e){return rf(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,u])},e)}var Sl=16,E6=U(30*V);function Tl(t,n){return+n?k6(t,n):$6(t)}function $6(t){return mi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function k6(t,n){function e(r,i,o,a,u,f,c,s,h,l,d,m,g,p){var y=c-r,v=s-i,b=y*y+v*v;if(b>4*n&&g--){var _=a+l,w=u+d,x=f+m,E=At(_*_+w*w+x*x),N=Ht(x/=E),$=K(K(x)-1)<Y||K(o-h)<Y?(o+h)/2:Vt(w,_),k=t($,N),S=k[0],P=k[1],R=S-r,M=P-i,A=v*R-y*M;(A*A/b>n||K((y*R+v*M)/b-.5)>.3||a*l+u*d+f*m<E6)&&(e(r,i,o,a,u,f,S,P,$,_/=E,w/=E,x,g,p),p.point(S,P),e(S,P,$,_,w,x,c,s,h,l,d,m,g,p))}}return function(r){var i,o,a,u,f,c,s,h,l,d,m,g,p={point:y,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),p.lineStart=w},polygonEnd:function(){r.polygonEnd(),p.lineStart=v}};function y(N,$){N=t(N,$),r.point(N[0],N[1])}function v(){h=NaN,p.point=b,r.lineStart()}function b(N,$){var k=_e([N,$]),S=t(N,$);e(h,l,s,d,m,g,h=S[0],l=S[1],s=N,d=k[0],m=k[1],g=k[2],Sl,r),r.point(h,l)}function _(){p.point=y,r.lineEnd()}function w(){v(),p.point=x,p.lineEnd=E}function x(N,$){b(i=N,$),o=h,a=l,u=d,f=m,c=g,p.point=b}function E(){e(h,l,s,d,m,g,o,a,i,u,f,c,Sl,r),p.lineEnd=_,_()}return p}}var N6=mi({point:function(t,n){this.stream.point(t*V,n*V)}});function C6(t){return mi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function R6(t,n,e,r,i){function o(a,u){return a*=r,u*=i,[n+t*a,e-t*u]}return o.invert=function(a,u){return[(a-n)/t*r,(e-u)/t*i]},o}function Al(t,n,e,r,i,o){if(!o)return R6(t,n,e,r,i);var a=U(o),u=F(o),f=a*t,c=u*t,s=a/t,h=u/t,l=(u*e-a*n)/t,d=(u*n+a*e)/t;function m(g,p){return g*=r,p*=i,[f*g-c*p+n,e-c*g-f*p]}return m.invert=function(g,p){return[r*(s*g-h*p+l),i*(d-h*g-s*p)]},m}function Tn(t){return cf(function(){return t})()}function cf(t){var n,e=150,r=480,i=250,o=0,a=0,u=0,f=0,c=0,s,h=0,l=1,d=1,m=null,g=ac,p=null,y,v,b,_=ii,w=.5,x,E,N,$,k;function S(A){return N(A[0]*V,A[1]*V)}function P(A){return A=N.invert(A[0],A[1]),A&&[A[0]*ot,A[1]*ot]}S.stream=function(A){return $&&k===A?$:$=N6(C6(s)(g(x(_(k=A)))))},S.preclip=function(A){return arguments.length?(g=A,m=void 0,M()):g},S.postclip=function(A){return arguments.length?(_=A,p=y=v=b=null,M()):_},S.clipAngle=function(A){return arguments.length?(g=+A?Ad(m=A*V):(m=null,ac),M()):m*ot},S.clipExtent=function(A){return arguments.length?(_=A==null?(p=y=v=b=null,ii):wa(p=+A[0][0],y=+A[0][1],v=+A[1][0],b=+A[1][1]),M()):p==null?null:[[p,y],[v,b]]},S.scale=function(A){return arguments.length?(e=+A,R()):e},S.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],R()):[r,i]},S.center=function(A){return arguments.length?(o=A[0]%360*V,a=A[1]%360*V,R()):[o*ot,a*ot]},S.rotate=function(A){return arguments.length?(u=A[0]%360*V,f=A[1]%360*V,c=A.length>2?A[2]%360*V:0,R()):[u*ot,f*ot,c*ot]},S.angle=function(A){return arguments.length?(h=A%360*V,R()):h*ot},S.reflectX=function(A){return arguments.length?(l=A?-1:1,R()):l<0},S.reflectY=function(A){return arguments.length?(d=A?-1:1,R()):d<0},S.precision=function(A){return arguments.length?(x=Tl(E,w=A*A),M()):At(w)},S.fitExtent=function(A,T){return xa(S,A,T)},S.fitSize=function(A,T){return of(S,A,T)},S.fitWidth=function(A,T){return af(S,A,T)},S.fitHeight=function(A,T){return uf(S,A,T)};function R(){var A=Al(e,0,0,l,d,h).apply(null,n(o,a)),T=Al(e,r-A[0],i-A[1],l,d,h);return s=ef(u,f,c),E=ic(n,T),N=ic(s,E),x=Tl(E,w),M()}function M(){return $=k=null,S}return function(){return n=t.apply(this,arguments),S.invert=n.invert&&P,R()}}function ff(t){var n=0,e=Q/3,r=cf(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*V,e=o[1]*V):[n*ot,e*ot]},i}function P6(t){var n=U(t);function e(r,i){return[r*n,F(i)/n]}return e.invert=function(r,i){return[r/n,Ht(i*n)]},e}function Ud(t,n){var e=F(t),r=(e+F(n))/2;if(K(r)<Y)return P6(t);var i=1+e*(2*r-e),o=At(i)/r;function a(u,f){var c=At(i-2*r*F(f))/r;return[c*F(u*=r),o-c*U(u)]}return a.invert=function(u,f){var c=o-f,s=Vt(u,K(c))*rn(c);return c*r<0&&(s-=Q*rn(u)*rn(c)),[s/r,Ht((i-(u*u+c*c)*r*r)/(2*r))]},a}function Xo(){return ff(Ud).scale(155.424).center([0,33.6442])}function qd(){return Xo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function I6(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function z6(){var t,n,e=qd(),r,i=Xo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Xo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,f,c={point:function(l,d){f=[l,d]}};function s(l){var d=l[0],m=l[1];return f=null,r.point(d,m),f||(o.point(d,m),f)||(u.point(d,m),f)}s.invert=function(l){var d=e.scale(),m=e.translate(),g=(l[0]-m[0])/d,p=(l[1]-m[1])/d;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?i:p>=.166&&p<.234&&g>=-.214&&g<-.115?a:e).invert(l)},s.stream=function(l){return t&&n===l?t:t=I6([e.stream(n=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),h()):e.precision()},s.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),s.translate(e.translate())):e.scale()},s.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),m=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[m-.455*d,g-.238*d],[m+.455*d,g+.238*d]]).stream(c),o=i.translate([m-.307*d,g+.201*d]).clipExtent([[m-.425*d+Y,g+.12*d+Y],[m-.214*d-Y,g+.234*d-Y]]).stream(c),u=a.translate([m-.205*d,g+.212*d]).clipExtent([[m-.214*d+Y,g+.166*d+Y],[m-.115*d-Y,g+.234*d-Y]]).stream(c),h()},s.fitExtent=function(l,d){return xa(s,l,d)},s.fitSize=function(l,d){return of(s,l,d)},s.fitWidth=function(l,d){return af(s,l,d)},s.fitHeight=function(l,d){return uf(s,l,d)};function h(){return t=n=null,s}return s.scale(1070)}function Yd(t){return function(n,e){var r=U(n),i=U(e),o=t(r*i);return o===1/0?[2,0]:[o*i*F(n),o*F(e)]}}function yi(t){return function(n,e){var r=At(n*n+e*e),i=t(r),o=F(i),a=U(i);return[Vt(n*o,r*a),Ht(r&&e*o/r)]}}var sf=Yd(function(t){return At(2/(1+t))});sf.invert=yi(function(t){return 2*Ht(t/2)});function D6(){return Tn(sf).scale(124.75).clipAngle(180-.001)}var lf=Yd(function(t){return(t=fd(t))&&t/F(t)});lf.invert=yi(function(t){return t});function O6(){return Tn(lf).scale(79.4188).clipAngle(180-.001)}function _i(t,n){return[t,To(tf((yt+n)/2))]}_i.invert=function(t,n){return[t,2*gr(cd(n))-yt]};function L6(){return Vd(_i).scale(961/Yt)}function Vd(t){var n=Tn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,u,f,c;n.scale=function(h){return arguments.length?(r(h),s()):r()},n.translate=function(h){return arguments.length?(i(h),s()):i()},n.center=function(h){return arguments.length?(e(h),s()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=u=f=c=null:(a=+h[0][0],u=+h[0][1],f=+h[1][0],c=+h[1][1]),s()):a==null?null:[[a,u],[f,c]]};function s(){var h=Q*r(),l=n(vd(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===_i?[[Math.max(l[0]-h,a),u],[Math.min(l[0]+h,f),c]]:[[a,Math.max(l[1]-h,u)],[f,Math.min(l[1]+h,c)]])}return s()}function Bi(t){return tf((yt+t)/2)}function Hd(t,n){var e=U(t),r=t===n?F(t):To(e/U(n))/To(Bi(n)/Bi(t)),i=e*cu(Bi(t),r)/r;if(!r)return _i;function o(a,u){i>0?u<-yt+Y&&(u=-yt+Y):u>yt-Y&&(u=yt-Y);var f=i/cu(Bi(u),r);return[f*F(r*a),i-f*U(r*a)]}return o.invert=function(a,u){var f=i-u,c=rn(r)*At(a*a+f*f),s=Vt(a,K(f))*rn(f);return f*r<0&&(s-=Q*rn(a)*rn(f)),[s/r,2*gr(cu(i/c,1/r))-yt]},o}function F6(){return ff(Hd).scale(109.5).parallels([30,30])}function ui(t,n){return[t,n]}ui.invert=ui;function B6(){return Tn(ui).scale(152.63)}function Xd(t,n){var e=U(t),r=t===n?F(t):(e-U(n))/(n-t),i=e/r+t;if(K(r)<Y)return ui;function o(a,u){var f=i-u,c=r*a;return[f*F(c),i-f*U(c)]}return o.invert=function(a,u){var f=i-u,c=Vt(a,K(f))*rn(f);return f*r<0&&(c-=Q*rn(a)*rn(f)),[c/r,i-rn(r)*At(a*a+f*f)]},o}function U6(){return ff(Xd).scale(131.154).center([0,13.9389])}var Ur=1.340264,qr=-.081106,Yr=893e-6,Vr=.003796,Wo=At(3)/2,q6=12;function hf(t,n){var e=Ht(Wo*F(n)),r=e*e,i=r*r*r;return[t*U(e)/(Wo*(Ur+3*qr*r+i*(7*Yr+9*Vr*r))),e*(Ur+qr*r+i*(Yr+Vr*r))]}hf.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,u,f;o<q6&&(u=e*(Ur+qr*r+i*(Yr+Vr*r))-n,f=Ur+3*qr*r+i*(7*Yr+9*Vr*r),e-=a=u/f,r=e*e,i=r*r*r,!(K(a)<ri));++o);return[Wo*t*(Ur+3*qr*r+i*(7*Yr+9*Vr*r))/U(e),Ht(F(e)/Wo)]};function Y6(){return Tn(hf).scale(177.158)}function df(t,n){var e=U(n),r=U(t)*e;return[e*F(t)/r,F(n)/r]}df.invert=yi(gr);function V6(){return Tn(df).scale(144.049).clipAngle(60)}function H6(){var t=1,n=0,e=0,r=1,i=1,o=0,a,u,f=null,c,s,h,l=1,d=1,m=mi({point:function(_,w){var x=b([_,w]);this.stream.point(x[0],x[1])}}),g=ii,p,y;function v(){return l=t*r,d=t*i,p=y=null,b}function b(_){var w=_[0]*l,x=_[1]*d;if(o){var E=x*a-w*u;w=w*a+x*u,x=E}return[w+n,x+e]}return b.invert=function(_){var w=_[0]-n,x=_[1]-e;if(o){var E=x*a+w*u;w=w*a-x*u,x=E}return[w/l,x/d]},b.stream=function(_){return p&&y===_?p:p=m(g(y=_))},b.postclip=function(_){return arguments.length?(g=_,f=c=s=h=null,v()):g},b.clipExtent=function(_){return arguments.length?(g=_==null?(f=c=s=h=null,ii):wa(f=+_[0][0],c=+_[0][1],s=+_[1][0],h=+_[1][1]),v()):f==null?null:[[f,c],[s,h]]},b.scale=function(_){return arguments.length?(t=+_,v()):t},b.translate=function(_){return arguments.length?(n=+_[0],e=+_[1],v()):[n,e]},b.angle=function(_){return arguments.length?(o=_%360*V,u=F(o),a=U(o),v()):o*ot},b.reflectX=function(_){return arguments.length?(r=_?-1:1,v()):r<0},b.reflectY=function(_){return arguments.length?(i=_?-1:1,v()):i<0},b.fitExtent=function(_,w){return xa(b,_,w)},b.fitSize=function(_,w){return of(b,_,w)},b.fitWidth=function(_,w){return af(b,_,w)},b.fitHeight=function(_,w){return uf(b,_,w)},b}function gf(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),n*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}gf.invert=function(t,n){var e=n,r=25,i;do{var o=e*e,a=o*o;e-=i=(e*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-n)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(K(i)>Y&&--r>0);return[t/(.8707+(o=e*e)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),e]};function X6(){return Tn(gf).scale(175.295)}function pf(t,n){return[U(n)*F(t),F(n)]}pf.invert=yi(Ht);function W6(){return Tn(pf).scale(249.5).clipAngle(90+Y)}function mf(t,n){var e=U(n),r=1+U(t)*e;return[e*F(t)/r,F(n)/r]}mf.invert=yi(function(t){return 2*gr(t)});function G6(){return Tn(mf).scale(250).clipAngle(142)}function yf(t,n){return[To(tf((yt+n)/2)),-t]}yf.invert=function(t,n){return[-n,2*gr(cd(t))-yt]};function Z6(){var t=Vd(yf),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function Q6(t,n){return t.parent===n.parent?1:2}function K6(t){return t.reduce(j6,0)/t.length}function j6(t,n){return t+n.x}function J6(t){return 1+t.reduce(t8,0)}function t8(t,n){return Math.max(t,n.y)}function n8(t){for(var n;n=t.children;)t=n[0];return t}function e8(t){for(var n;n=t.children;)t=n[n.length-1];return t}function r8(){var t=Q6,n=1,e=1,r=!1;function i(o){var a,u=0;o.eachAfter(function(l){var d=l.children;d?(l.x=K6(d),l.y=J6(d)):(l.x=a?u+=t(l,a):0,l.y=0,a=l)});var f=n8(o),c=e8(o),s=f.x-t(f,c)/2,h=c.x+t(c,f)/2;return o.eachAfter(r?function(l){l.x=(l.x-o.x)*n,l.y=(o.y-l.y)*e}:function(l){l.x=(l.x-s)/(h-s)*n,l.y=(1-(o.y?l.y/o.y:1))*e})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,n=+o[0],e=+o[1],i):r?null:[n,e]},i.nodeSize=function(o){return arguments.length?(r=!0,n=+o[0],e=+o[1],i):r?[n,e]:null},i}function i8(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function o8(){return this.eachAfter(i8)}function a8(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function u8(t,n){for(var e=this,r=[e],i,o,a=-1;e=r.pop();)if(t.call(n,e,++a,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function c8(t,n){for(var e=this,r=[e],i=[],o,a,u,f=-1;e=r.pop();)if(i.push(e),o=e.children)for(a=0,u=o.length;a<u;++a)r.push(o[a]);for(;e=i.pop();)t.call(n,e,++f,this);return this}function f8(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function s8(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function l8(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function h8(t){for(var n=this,e=d8(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function d8(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function g8(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function p8(){return Array.from(this)}function m8(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function y8(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*_8(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function _f(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=w8)):n===void 0&&(n=v8);for(var e=new ve(t),r,i=[e],o,a,u,f;r=i.pop();)if((a=n(r.data))&&(f=(a=Array.from(a)).length))for(r.children=a,u=f-1;u>=0;--u)i.push(o=a[u]=new ve(a[u])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(Wd)}function b8(){return _f(this).eachBefore(x8)}function v8(t){return t.children}function w8(t){return Array.isArray(t)?t[1]:null}function x8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Wd(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function ve(t){this.data=t,this.depth=this.height=0,this.parent=null}ve.prototype=_f.prototype={constructor:ve,count:o8,each:a8,eachAfter:c8,eachBefore:u8,find:f8,sum:s8,sort:l8,path:h8,ancestors:g8,descendants:p8,leaves:m8,links:y8,copy:b8,[Symbol.iterator]:_8};function io(t){return t==null?null:Gd(t)}function Gd(t){if(typeof t!="function")throw new Error;return t}function ae(){return 0}function Fe(t){return function(){return t}}const M8=1664525,S8=1013904223,El=4294967296;function bf(){let t=1;return()=>(t=(M8*t+S8)%El)/El}function T8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A8(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function E8(t){return Zd(t,bf())}function Zd(t,n){for(var e=0,r=(t=A8(Array.from(t),n)).length,i=[],o,a;e<r;)o=t[e],a&&Qd(a,o)?++e:(a=k8(i=$8(i,o)),e=0);return a}function $8(t,n){var e,r;if(du(n,t))return[n];for(e=0;e<t.length;++e)if(Ui(n,t[e])&&du(zr(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Ui(zr(t[e],t[r]),n)&&Ui(zr(t[e],n),t[r])&&Ui(zr(t[r],n),t[e])&&du(Kd(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Ui(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Qd(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function du(t,n){for(var e=0;e<n.length;++e)if(!Qd(t,n[e]))return!1;return!0}function k8(t){switch(t.length){case 1:return N8(t[0]);case 2:return zr(t[0],t[1]);case 3:return Kd(t[0],t[1],t[2])}}function N8(t){return{x:t.x,y:t.y,r:t.r}}function zr(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,f=o-e,c=a-r,s=u-i,h=Math.sqrt(f*f+c*c);return{x:(e+o+f/h*s)/2,y:(r+a+c/h*s)/2,r:(h+i+u)/2}}function Kd(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,f=n.r,c=e.x,s=e.y,h=e.r,l=r-a,d=r-c,m=i-u,g=i-s,p=f-o,y=h-o,v=r*r+i*i-o*o,b=v-a*a-u*u+f*f,_=v-c*c-s*s+h*h,w=d*m-l*g,x=(m*_-g*b)/(w*2)-r,E=(g*p-m*y)/w,N=(d*b-l*_)/(w*2)-i,$=(l*y-d*p)/w,k=E*E+$*$-1,S=2*(o+x*E+N*$),P=x*x+N*N-o*o,R=-(Math.abs(k)>1e-6?(S+Math.sqrt(S*S-4*k*P))/(2*k):P/S);return{x:r+x+E*R,y:i+N+$*R,r:R}}function $l(t,n,e){var r=t.x-n.x,i,o,a=t.y-n.y,u,f,c=r*r+a*a;c?(o=n.r+e.r,o*=o,f=t.r+e.r,f*=f,o>f?(i=(c+f-o)/(2*c),u=Math.sqrt(Math.max(0,f/c-i*i)),e.x=t.x-i*r-u*a,e.y=t.y-i*a+u*r):(i=(c+o-f)/(2*c),u=Math.sqrt(Math.max(0,o/c-i*i)),e.x=n.x+i*r-u*a,e.y=n.y+i*a+u*r)):(e.x=n.x+e.r,e.y=n.y)}function kl(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Nl(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function qi(t){this._=t,this.next=null,this.previous=null}function jd(t,n){if(!(o=(t=T8(t)).length))return 0;var e,r,i,o,a,u,f,c,s,h,l;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;$l(r,e,i=t[2]),e=new qi(e),r=new qi(r),i=new qi(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(f=3;f<o;++f){$l(e._,r._,i=t[f]),i=new qi(i),c=r.next,s=e.previous,h=r._.r,l=e._.r;do if(h<=l){if(kl(c._,i._)){r=c,e.next=r,r.previous=e,--f;continue t}h+=c._.r,c=c.next}else{if(kl(s._,i._)){e=s,e.next=r,r.previous=e,--f;continue t}l+=s._.r,s=s.previous}while(c!==s.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,a=Nl(e);(i=i.next)!==r;)(u=Nl(i))<a&&(e=i,a=u);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=Zd(e,n),f=0;f<o;++f)e=t[f],e.x-=i.x,e.y-=i.y;return i.r}function C8(t){return jd(t,bf()),t}function R8(t){return Math.sqrt(t.value)}function P8(){var t=null,n=1,e=1,r=ae;function i(o){const a=bf();return o.x=n/2,o.y=e/2,t?o.eachBefore(Cl(t)).eachAfter(gu(r,.5,a)).eachBefore(Rl(1)):o.eachBefore(Cl(R8)).eachAfter(gu(ae,1,a)).eachAfter(gu(r,o.r/Math.min(n,e),a)).eachBefore(Rl(Math.min(n,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=io(o),i):t},i.size=function(o){return arguments.length?(n=+o[0],e=+o[1],i):[n,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Fe(+o),i):r},i}function Cl(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function gu(t,n,e){return function(r){if(i=r.children){var i,o,a=i.length,u=t(r)*n||0,f;if(u)for(o=0;o<a;++o)i[o].r+=u;if(f=jd(i,e),u)for(o=0;o<a;++o)i[o].r-=u;r.r=f+u}}}function Rl(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Jd(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function bi(t,n,e,r,i){for(var o=t.children,a,u=-1,f=o.length,c=t.value&&(r-n)/t.value;++u<f;)a=o[u],a.y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*c}function I8(){var t=1,n=1,e=0,r=!1;function i(a){var u=a.height+1;return a.x0=a.y0=e,a.x1=t,a.y1=n/u,a.eachBefore(o(n,u)),r&&a.eachBefore(Jd),a}function o(a,u){return function(f){f.children&&bi(f,f.x0,a*(f.depth+1)/u,f.x1,a*(f.depth+2)/u);var c=f.x0,s=f.y0,h=f.x1-e,l=f.y1-e;h<c&&(c=h=(c+h)/2),l<s&&(s=l=(s+l)/2),f.x0=c,f.y0=s,f.x1=h,f.y1=l}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(e=+a,i):e},i}var z8={depth:-1},Pl={},pu={};function D8(t){return t.id}function O8(t){return t.parentId}function L8(){var t=D8,n=O8,e;function r(i){var o=Array.from(i),a=t,u=n,f,c,s,h,l,d,m,g,p=new Map;if(e!=null){const y=o.map((_,w)=>F8(e(_,w,i))),v=y.map(Il),b=new Set(y).add("");for(const _ of v)b.has(_)||(b.add(_),y.push(_),v.push(Il(_)),o.push(pu));a=(_,w)=>y[w],u=(_,w)=>v[w]}for(s=0,f=o.length;s<f;++s)c=o[s],d=o[s]=new ve(c),(m=a(c,s,i))!=null&&(m+="")&&(g=d.id=m,p.set(g,p.has(g)?Pl:d)),(m=u(c,s,i))!=null&&(m+="")&&(d.parent=m);for(s=0;s<f;++s)if(d=o[s],m=d.parent){if(l=p.get(m),!l)throw new Error("missing: "+m);if(l===Pl)throw new Error("ambiguous: "+m);l.children?l.children.push(d):l.children=[d],d.parent=l}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===pu&&h.children.length===1;)h=h.children[0],--f;for(let y=o.length-1;y>=0&&(d=o[y],d.data===pu);--y)d.data=null}if(h.parent=z8,h.eachBefore(function(y){y.depth=y.parent.depth+1,--f}).eachBefore(Wd),h.parent=null,f>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=io(i),r):t},r.parentId=function(i){return arguments.length?(n=io(i),r):n},r.path=function(i){return arguments.length?(e=io(i),r):e},r}function F8(t){t=`${t}`;let n=t.length;return bc(t,n-1)&&!bc(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Il(t){let n=t.length;if(n<2)return"";for(;--n>1&&!bc(t,n););return t.slice(0,n)}function bc(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}function B8(t,n){return t.parent===n.parent?1:2}function mu(t){var n=t.children;return n?n[0]:t.t}function yu(t){var n=t.children;return n?n[n.length-1]:t.t}function U8(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function q8(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function Y8(t,n,e){return t.a.parent===n.parent?t.a:e}function oo(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}oo.prototype=Object.create(ve.prototype);function V8(t){for(var n=new oo(t,0),e,r=[n],i,o,a,u;e=r.pop();)if(o=e._.children)for(e.children=new Array(u=o.length),a=u-1;a>=0;--a)r.push(i=e.children[a]=new oo(o[a],a)),i.parent=e;return(n.parent=new oo(null,0)).children=[n],n}function H8(){var t=B8,n=1,e=1,r=null;function i(c){var s=V8(c);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)c.eachBefore(f);else{var h=c,l=c,d=c;c.eachBefore(function(v){v.x<h.x&&(h=v),v.x>l.x&&(l=v),v.depth>d.depth&&(d=v)});var m=h===l?1:t(h,l)/2,g=m-h.x,p=n/(l.x+m+g),y=e/(d.depth||1);c.eachBefore(function(v){v.x=(v.x+g)*p,v.y=v.depth*y})}return c}function o(c){var s=c.children,h=c.parent.children,l=c.i?h[c.i-1]:null;if(s){q8(c);var d=(s[0].z+s[s.length-1].z)/2;l?(c.z=l.z+t(c._,l._),c.m=c.z-d):c.z=d}else l&&(c.z=l.z+t(c._,l._));c.parent.A=u(c,l,c.parent.A||h[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c,s,h){if(s){for(var l=c,d=c,m=s,g=l.parent.children[0],p=l.m,y=d.m,v=m.m,b=g.m,_;m=yu(m),l=mu(l),m&&l;)g=mu(g),d=yu(d),d.a=c,_=m.z+v-l.z-p+t(m._,l._),_>0&&(U8(Y8(m,c,h),c,_),p+=_,y+=_),v+=m.m,p+=l.m,b+=g.m,y+=d.m;m&&!yu(d)&&(d.t=m,d.m+=v-y),l&&!mu(g)&&(g.t=l,g.m+=p-b,h=c)}return h}function f(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,n=+c[0],e=+c[1],i):r?null:[n,e]},i.nodeSize=function(c){return arguments.length?(r=!0,n=+c[0],e=+c[1],i):r?[n,e]:null},i}function Ma(t,n,e,r,i){for(var o=t.children,a,u=-1,f=o.length,c=t.value&&(i-e)/t.value;++u<f;)a=o[u],a.x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*c}var t1=(1+Math.sqrt(5))/2;function n1(t,n,e,r,i,o){for(var a=[],u=n.children,f,c,s=0,h=0,l=u.length,d,m,g=n.value,p,y,v,b,_,w,x;s<l;){d=i-e,m=o-r;do p=u[h++].value;while(!p&&h<l);for(y=v=p,w=Math.max(m/d,d/m)/(g*t),x=p*p*w,_=Math.max(v/x,x/y);h<l;++h){if(p+=c=u[h].value,c<y&&(y=c),c>v&&(v=c),x=p*p*w,b=Math.max(v/x,x/y),b>_){p-=c;break}_=b}a.push(f={value:p,dice:d<m,children:u.slice(s,h)}),f.dice?bi(f,e,r,i,g?r+=m*p/g:o):Ma(f,e,r,g?e+=d*p/g:i,o),g-=p,s=h}return a}const e1=function t(n){function e(r,i,o,a,u){n1(n,r,i,o,a,u)}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(t1);function X8(){var t=e1,n=!1,e=1,r=1,i=[0],o=ae,a=ae,u=ae,f=ae,c=ae;function s(l){return l.x0=l.y0=0,l.x1=e,l.y1=r,l.eachBefore(h),i=[0],n&&l.eachBefore(Jd),l}function h(l){var d=i[l.depth],m=l.x0+d,g=l.y0+d,p=l.x1-d,y=l.y1-d;p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),l.x0=m,l.y0=g,l.x1=p,l.y1=y,l.children&&(d=i[l.depth+1]=o(l)/2,m+=c(l)-d,g+=a(l)-d,p-=u(l)-d,y-=f(l)-d,p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),t(l,m,g,p,y))}return s.round=function(l){return arguments.length?(n=!!l,s):n},s.size=function(l){return arguments.length?(e=+l[0],r=+l[1],s):[e,r]},s.tile=function(l){return arguments.length?(t=Gd(l),s):t},s.padding=function(l){return arguments.length?s.paddingInner(l).paddingOuter(l):s.paddingInner()},s.paddingInner=function(l){return arguments.length?(o=typeof l=="function"?l:Fe(+l),s):o},s.paddingOuter=function(l){return arguments.length?s.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):s.paddingTop()},s.paddingTop=function(l){return arguments.length?(a=typeof l=="function"?l:Fe(+l),s):a},s.paddingRight=function(l){return arguments.length?(u=typeof l=="function"?l:Fe(+l),s):u},s.paddingBottom=function(l){return arguments.length?(f=typeof l=="function"?l:Fe(+l),s):f},s.paddingLeft=function(l){return arguments.length?(c=typeof l=="function"?l:Fe(+l),s):c},s}function W8(t,n,e,r,i){var o=t.children,a,u=o.length,f,c=new Array(u+1);for(c[0]=f=a=0;a<u;++a)c[a+1]=f+=o[a].value;s(0,u,t.value,n,e,r,i);function s(h,l,d,m,g,p,y){if(h>=l-1){var v=o[h];v.x0=m,v.y0=g,v.x1=p,v.y1=y;return}for(var b=c[h],_=d/2+b,w=h+1,x=l-1;w<x;){var E=w+x>>>1;c[E]<_?w=E+1:x=E}_-c[w-1]<c[w]-_&&h+1<w&&--w;var N=c[w]-b,$=d-N;if(p-m>y-g){var k=d?(m*$+p*N)/d:p;s(h,w,N,m,g,k,y),s(w,l,$,k,g,p,y)}else{var S=d?(g*$+y*N)/d:y;s(h,w,N,m,g,p,S),s(w,l,$,m,S,p,y)}}}function G8(t,n,e,r,i){(t.depth&1?Ma:bi)(t,n,e,r,i)}const Z8=function t(n){function e(r,i,o,a,u){if((f=r._squarify)&&f.ratio===n)for(var f,c,s,h,l=-1,d,m=f.length,g=r.value;++l<m;){for(c=f[l],s=c.children,h=c.value=0,d=s.length;h<d;++h)c.value+=s[h].value;c.dice?bi(c,i,o,a,g?o+=(u-o)*c.value/g:u):Ma(c,i,o,g?i+=(a-i)*c.value/g:a,u),g-=c.value}else r._squarify=f=n1(n,r,i,o,a,u),f.ratio=n}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(t1);function Q8(t){for(var n=-1,e=t.length,r,i=t[e-1],o=0;++n<e;)r=i,i=t[n],o+=r[1]*i[0]-r[0]*i[1];return o/2}function K8(t){for(var n=-1,e=t.length,r=0,i=0,o,a=t[e-1],u,f=0;++n<e;)o=a,a=t[n],f+=u=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*u,i+=(o[1]+a[1])*u;return f*=3,[r/f,i/f]}function j8(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function J8(t,n){return t[0]-n[0]||t[1]-n[1]}function zl(t){const n=t.length,e=[0,1];let r=2,i;for(i=2;i<n;++i){for(;r>1&&j8(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function t5(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(J8),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=zl(r),a=zl(i),u=a[0]===o[0],f=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-f;++n)c.push(t[r[a[n]][2]]);return c}function n5(t,n){for(var e=t.length,r=t[e-1],i=n[0],o=n[1],a=r[0],u=r[1],f,c,s=!1,h=0;h<e;++h)r=t[h],f=r[0],c=r[1],c>o!=u>o&&i<(a-f)*(o-c)/(u-c)+f&&(s=!s),a=f,u=c;return s}function e5(t){for(var n=-1,e=t.length,r=t[e-1],i,o,a=r[0],u=r[1],f=0;++n<e;)i=a,o=u,r=t[n],a=r[0],u=r[1],i-=a,o-=u,f+=Math.hypot(i,o);return f}const $t=Math.random,r5=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e}($t),i5=function t(n){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(n()*i+r)}}return e.source=t,e}($t),vf=function t(n){function e(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var u;if(o!=null)u=o,o=null;else do o=n()*2-1,u=n()*2-1,a=o*o+u*u;while(!a||a>1);return r+i*u*Math.sqrt(-2*Math.log(a)/a)}}return e.source=t,e}($t),o5=function t(n){var e=vf.source(n);function r(){var i=e.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}($t),r1=function t(n){function e(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=n();return i+o*n()}}return e.source=t,e}($t),a5=function t(n){var e=r1.source(n);function r(i){if((i=+i)==0)return n;var o=e(i);return function(){return o()/i}}return r.source=t,r}($t),u5=function t(n){function e(r){return function(){return-Math.log1p(-n())/r}}return e.source=t,e}($t),c5=function t(n){function e(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-n(),r)}}return e.source=t,e}($t),f5=function t(n){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+r)}}return e.source=t,e}($t),i1=function t(n){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-n())/r)})}return e.source=t,e}($t),wf=function t(n){var e=vf.source(n)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-n())*o;var a=(i<1?i+1:i)-1/3,u=1/(3*Math.sqrt(a)),f=i<1?()=>Math.pow(n(),1/i):()=>1;return function(){do{do var c=e(),s=1+u*c;while(s<=0);s*=s*s;var h=1-n()}while(h>=1-.0331*c*c*c*c&&Math.log(h)>=.5*c*c+a*(1-s+Math.log(s)));return a*s*f()*o}}return r.source=t,r}($t),o1=function t(n){var e=wf.source(n);function r(i,o){var a=e(i),u=e(o);return function(){var f=a();return f===0?0:f/(f+u())}}return r.source=t,r}($t),a1=function t(n){var e=i1.source(n),r=o1.source(n);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var u=0,f=o,c=a;f*c>16&&f*(1-c)>16;){var s=Math.floor((f+1)*c),h=r(s,f-s+1)();h<=c?(u+=s,f-=s,c=(c-h)/(1-h)):(f=s-1,c/=h)}for(var l=c<.5,d=l?c:1-c,m=e(d),g=m(),p=0;g<=f;++p)g+=m();return u+(l?p:f-p)}}return i.source=t,i}($t),s5=function t(n){function e(r,i,o){var a;return(r=+r)==0?a=u=>-Math.log(u):(r=1/r,a=u=>Math.pow(u,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-n()))}}return e.source=t,e}($t),l5=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*n())}}return e.source=t,e}($t),h5=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=n();return r+i*Math.log(o/(1-o))}}return e.source=t,e}($t),d5=function t(n){var e=wf.source(n),r=a1.source(n);function i(o){return function(){for(var a=0,u=o;u>16;){var f=Math.floor(.875*u),c=e(f)();if(c>u)return a+r(f-1,u/c)();a+=f,u-=c}for(var s=-Math.log1p(-n()),h=0;s<=u;++h)s-=Math.log1p(-n());return a+h}}return i.source=t,i}($t),g5=1664525,p5=1013904223,Dl=1/4294967296;function m5(t=Math.random()){let n=(0<=t&&t<1?t/Dl:Math.abs(t))|0;return()=>(n=g5*n+p5|0,Dl*(n>>>0))}function an(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Ln(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const vc=Symbol("implicit");function xf(){var t=new Xr,n=[],e=[],r=vc;function i(o){let a=t.get(o);if(a===void 0){if(r!==vc)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Xr;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xf(n,e).unknown(r)},an.apply(i,arguments),i}function Mf(){var t=xf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,u=!1,f=0,c=0,s=.5;delete t.unknown;function h(){var l=n().length,d=i<r,m=d?i:r,g=d?r:i;o=(g-m)/Math.max(1,l-f+c*2),u&&(o=Math.floor(o)),m+=(g-m-o*(l-f))*s,a=o*(1-f),u&&(m=Math.round(m),a=Math.round(a));var p=Yn(l).map(function(y){return m+o*y});return e(d?p.reverse():p)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,u=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(u=!!l,h()):u},t.padding=function(l){return arguments.length?(f=Math.min(1,c=+l),h()):f},t.paddingInner=function(l){return arguments.length?(f=Math.min(1,l),h()):f},t.paddingOuter=function(l){return arguments.length?(c=+l,h()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),h()):s},t.copy=function(){return Mf(n(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(s)},an.apply(h(),arguments)}function u1(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return u1(n())},t}function y5(){return u1(Mf.apply(null,arguments).paddingInner(1))}function _5(t){return function(){return t}}function Go(t){return+t}var Ol=[0,1];function Ut(t){return t}function wc(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:_5(isNaN(n)?NaN:.5)}function b5(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function v5(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=wc(i,r),o=e(a,o)):(r=wc(r,i),o=e(o,a)),function(u){return o(r(u))}}function w5(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=wc(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(u){var f=Wn(t,u,1,r)-1;return o[f](i[f](u))}}function vi(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sa(){var t=Ol,n=Ol,e=Jn,r,i,o,a=Ut,u,f,c;function s(){var l=Math.min(t.length,n.length);return a!==Ut&&(a=b5(t[0],t[l-1])),u=l>2?w5:v5,f=c=null,h}function h(l){return l==null||isNaN(l=+l)?o:(f||(f=u(t.map(r),n,e)))(r(a(l)))}return h.invert=function(l){return a(i((c||(c=u(n,t.map(r),nn)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,Go),s()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=la,s()},h.clamp=function(l){return arguments.length?(a=l?!0:Ut,s()):a!==Ut},h.interpolate=function(l){return arguments.length?(e=l,s()):e},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,s()}}function Sf(){return Sa()(Ut,Ut)}function c1(t,n,e,r){var i=lo(t,n,e),o;switch(r=rr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=ad(i,a))&&(r.precision=o),Jc(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ud(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=od(i))&&(r.precision=o-(r.type==="%")*2);break}}return va(r)}function te(t){var n=t.domain;return t.ticks=function(e){var r=n();return de(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return c1(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],u=r[o],f,c,s=10;for(u<a&&(c=a,a=u,u=c,c=i,i=o,o=c);s-- >0;){if(c=ge(a,u,e),c===f)return r[i]=a,r[o]=u,n(r);if(c>0)a=Math.floor(a/c)*c,u=Math.ceil(u/c)*c;else if(c<0)a=Math.ceil(a*c)/c,u=Math.floor(u*c)/c;else break;f=c}return t},t}function f1(){var t=Sf();return t.copy=function(){return vi(t,f1())},an.apply(t,arguments),te(t)}function s1(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Go),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return s1(t).unknown(n)},t=arguments.length?Array.from(t,Go):[0,1],te(e)}function l1(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Ll(t){return Math.log(t)}function Fl(t){return Math.exp(t)}function x5(t){return-Math.log(-t)}function M5(t){return-Math.exp(-t)}function S5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T5(t){return t===10?S5:t===Math.E?Math.exp:n=>Math.pow(t,n)}function A5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Bl(t){return(n,e)=>-t(-n,e)}function Tf(t){const n=t(Ll,Fl),e=n.domain;let r=10,i,o;function a(){return i=A5(r),o=T5(r),e()[0]<0?(i=Bl(i),o=Bl(o),t(x5,M5)):t(Ll,Fl),n}return n.base=function(u){return arguments.length?(r=+u,a()):r},n.domain=function(u){return arguments.length?(e(u),a()):e()},n.ticks=u=>{const f=e();let c=f[0],s=f[f.length-1];const h=s<c;h&&([c,s]=[s,c]);let l=i(c),d=i(s),m,g;const p=u==null?10:+u;let y=[];if(!(r%1)&&d-l<p){if(l=Math.floor(l),d=Math.ceil(d),c>0){for(;l<=d;++l)for(m=1;m<r;++m)if(g=l<0?m/o(-l):m*o(l),!(g<c)){if(g>s)break;y.push(g)}}else for(;l<=d;++l)for(m=r-1;m>=1;--m)if(g=l>0?m/o(-l):m*o(l),!(g<c)){if(g>s)break;y.push(g)}y.length*2<p&&(y=de(c,s,p))}else y=de(l,d,Math.min(d-l,p)).map(o);return h?y.reverse():y},n.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=rr(f)).precision==null&&(f.trim=!0),f=va(f)),u===1/0)return f;const c=Math.max(1,r*u/n.ticks().length);return s=>{let h=s/o(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=c?f(s):""}},n.nice=()=>e(l1(e(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),n}function h1(){const t=Tf(Sa()).domain([1,10]);return t.copy=()=>vi(t,h1()).base(t.base()),an.apply(t,arguments),t}function Ul(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function ql(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Af(t){var n=1,e=t(Ul(n),ql(n));return e.constant=function(r){return arguments.length?t(Ul(n=+r),ql(n)):n},te(e)}function d1(){var t=Af(Sa());return t.copy=function(){return vi(t,d1()).constant(t.constant())},an.apply(t,arguments)}function Yl(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function E5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $5(t){return t<0?-t*t:t*t}function Ef(t){var n=t(Ut,Ut),e=1;function r(){return e===1?t(Ut,Ut):e===.5?t(E5,$5):t(Yl(e),Yl(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},te(n)}function $f(){var t=Ef(Sa());return t.copy=function(){return vi(t,$f()).exponent(t.exponent())},an.apply(t,arguments),t}function k5(){return $f.apply(null,arguments).exponent(.5)}function Vl(t){return Math.sign(t)*t*t}function N5(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g1(){var t=Sf(),n=[0,1],e=!1,r;function i(o){var a=N5(t(o));return isNaN(a)?r:e?Math.round(a):a}return i.invert=function(o){return t.invert(Vl(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((n=Array.from(o,Go)).map(Vl)),i):n.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(e=!!o,i):e},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return g1(t.domain(),n).round(e).clamp(t.clamp()).unknown(r)},an.apply(i,arguments),te(i)}function p1(){var t=[],n=[],e=[],r;function i(){var a=0,u=Math.max(1,n.length);for(e=new Array(u-1);++a<u;)e[a-1]=Yh(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Wn(e,a)]}return o.invertExtent=function(a){var u=n.indexOf(a);return u<0?[NaN,NaN]:[u>0?e[u-1]:t[0],u<e.length?e[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(dt),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return p1().domain(t).range(n).unknown(r)},an.apply(o,arguments)}function m1(){var t=0,n=1,e=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[Wn(r,f,0,e)]:o}function u(){var f=-1;for(r=new Array(e);++f<e;)r[f]=((f+1)*n-(f-e)*t)/(e+1);return a}return a.domain=function(f){return arguments.length?([t,n]=f,t=+t,n=+n,u()):[t,n]},a.range=function(f){return arguments.length?(e=(i=Array.from(f)).length-1,u()):i.slice()},a.invertExtent=function(f){var c=i.indexOf(f);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=e?[r[e-1],n]:[r[c-1],r[c]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return m1().domain([t,n]).range(i).unknown(o)},an.apply(te(a),arguments)}function y1(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Wn(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return y1().domain(t).range(n).unknown(e)},an.apply(i,arguments)}const _u=new Date,bu=new Date;function vt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;let c;do f.push(c=new Date(+o)),n(o,u),t(o);while(c<o&&o<a);return f},i.filter=o=>vt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;n(a,-1),!o(a););else for(;--u>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(_u.setTime(+o),bu.setTime(+a),t(_u),t(bu),Math.floor(e(_u,bu))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ur=vt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);ur.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):ur);const Hl=ur.range,Rn=1e3,on=Rn*60,Pn=on*60,On=Pn*24,kf=On*7,Xl=On*30,vu=On*365,In=vt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Rn)},(t,n)=>(n-t)/Rn,t=>t.getUTCSeconds()),Wl=In.range,Ta=vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rn)},(t,n)=>{t.setTime(+t+n*on)},(t,n)=>(n-t)/on,t=>t.getMinutes()),C5=Ta.range,Aa=vt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*on)},(t,n)=>(n-t)/on,t=>t.getUTCMinutes()),R5=Aa.range,Ea=vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rn-t.getMinutes()*on)},(t,n)=>{t.setTime(+t+n*Pn)},(t,n)=>(n-t)/Pn,t=>t.getHours()),P5=Ea.range,$a=vt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Pn)},(t,n)=>(n-t)/Pn,t=>t.getUTCHours()),I5=$a.range,pr=vt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*on)/On,t=>t.getDate()-1),z5=pr.range,wi=vt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>t.getUTCDate()-1),D5=wi.range,Nf=vt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>Math.floor(t/On)),O5=Nf.range;function Ee(t){return vt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*on)/kf)}const cr=Ee(0),ci=Ee(1),_1=Ee(2),b1=Ee(3),we=Ee(4),v1=Ee(5),w1=Ee(6),Gl=cr.range,L5=ci.range,F5=_1.range,B5=b1.range,U5=we.range,q5=v1.range,Y5=w1.range;function $e(t){return vt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/kf)}const fr=$e(0),fi=$e(1),x1=$e(2),M1=$e(3),xe=$e(4),S1=$e(5),T1=$e(6),Zl=fr.range,V5=fi.range,H5=x1.range,X5=M1.range,W5=xe.range,G5=S1.range,Z5=T1.range,ka=vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Q5=ka.range,Na=vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),K5=Na.range,xn=vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());xn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});const j5=xn.range,Mn=vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});const J5=Mn.range;function A1(t,n,e,r,i,o){const a=[[In,1,Rn],[In,5,5*Rn],[In,15,15*Rn],[In,30,30*Rn],[o,1,on],[o,5,5*on],[o,15,15*on],[o,30,30*on],[i,1,Pn],[i,3,3*Pn],[i,6,6*Pn],[i,12,12*Pn],[r,1,On],[r,2,2*On],[e,1,kf],[n,1,Xl],[n,3,3*Xl],[t,1,vu]];function u(c,s,h){const l=s<c;l&&([c,s]=[s,c]);const d=h&&typeof h.range=="function"?h:f(c,s,h),m=d?d.range(c,+s+1):[];return l?m.reverse():m}function f(c,s,h){const l=Math.abs(s-c)/h,d=ta(([,,p])=>p).right(a,l);if(d===a.length)return t.every(lo(c/vu,s/vu,h));if(d===0)return ur.every(Math.max(lo(c,s,h),1));const[m,g]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return m.every(g)}return[u,f]}const[E1,$1]=A1(Mn,Na,fr,Nf,$a,Aa),[k1,N1]=A1(xn,ka,cr,pr,Ea,Ta);function wu(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function C1(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=Mr(i),s=Sr(i),h=Mr(o),l=Sr(o),d=Mr(a),m=Sr(a),g=Mr(u),p=Sr(u),y=Mr(f),v=Sr(f),b={a:C,A:I,b:z,B:O,c:null,d:nh,e:nh,f:x4,g:R4,G:I4,H:b4,I:v4,j:w4,L:R1,m:M4,M:S4,p:B,q,Q:ih,s:oh,S:T4,u:A4,U:E4,V:$4,w:k4,W:N4,x:null,X:null,y:C4,Y:P4,Z:z4,"%":rh},_={a:et,A:J,b:j,B:bt,c:null,d:eh,e:eh,f:F4,g:Z4,G:K4,H:D4,I:O4,j:L4,L:I1,m:B4,M:U4,p:tt,q:_t,Q:ih,s:oh,S:q4,u:Y4,U:V4,V:H4,w:X4,W:W4,x:null,X:null,y:G4,Y:Q4,Z:j4,"%":rh},w={a:k,A:S,b:P,B:R,c:M,d:Jl,e:Jl,f:p4,g:jl,G:Kl,H:th,I:th,j:l4,L:g4,m:s4,M:h4,p:$,q:f4,Q:y4,s:_4,S:d4,u:i4,U:o4,V:a4,w:r4,W:u4,x:A,X:T,y:jl,Y:Kl,Z:c4,"%":m4};b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_);function x(L,X){return function(Z){var D=[],gt=-1,it=0,It=L.length,zt,H,pt;for(Z instanceof Date||(Z=new Date(+Z));++gt<It;)L.charCodeAt(gt)===37&&(D.push(L.slice(it,gt)),(H=Ql[zt=L.charAt(++gt)])!=null?zt=L.charAt(++gt):H=zt==="e"?" ":"0",(pt=X[zt])&&(zt=pt(Z,H)),D.push(zt),it=gt+1);return D.push(L.slice(it,gt)),D.join("")}}function E(L,X){return function(Z){var D=xr(1900,void 0,1),gt=N(D,L,Z+="",0),it,It;if(gt!=Z.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(X&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(it=xu(xr(D.y,0,1)),It=it.getUTCDay(),it=It>4||It===0?fi.ceil(it):fi(it),it=wi.offset(it,(D.V-1)*7),D.y=it.getUTCFullYear(),D.m=it.getUTCMonth(),D.d=it.getUTCDate()+(D.w+6)%7):(it=wu(xr(D.y,0,1)),It=it.getDay(),it=It>4||It===0?ci.ceil(it):ci(it),it=pr.offset(it,(D.V-1)*7),D.y=it.getFullYear(),D.m=it.getMonth(),D.d=it.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),It="Z"in D?xu(xr(D.y,0,1)).getUTCDay():wu(xr(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(It+5)%7:D.w+D.U*7-(It+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,xu(D)):wu(D)}}function N(L,X,Z,D){for(var gt=0,it=X.length,It=Z.length,zt,H;gt<it;){if(D>=It)return-1;if(zt=X.charCodeAt(gt++),zt===37){if(zt=X.charAt(gt++),H=w[zt in Ql?X.charAt(gt++):zt],!H||(D=H(L,Z,D))<0)return-1}else if(zt!=Z.charCodeAt(D++))return-1}return D}function $(L,X,Z){var D=c.exec(X.slice(Z));return D?(L.p=s.get(D[0].toLowerCase()),Z+D[0].length):-1}function k(L,X,Z){var D=d.exec(X.slice(Z));return D?(L.w=m.get(D[0].toLowerCase()),Z+D[0].length):-1}function S(L,X,Z){var D=h.exec(X.slice(Z));return D?(L.w=l.get(D[0].toLowerCase()),Z+D[0].length):-1}function P(L,X,Z){var D=y.exec(X.slice(Z));return D?(L.m=v.get(D[0].toLowerCase()),Z+D[0].length):-1}function R(L,X,Z){var D=g.exec(X.slice(Z));return D?(L.m=p.get(D[0].toLowerCase()),Z+D[0].length):-1}function M(L,X,Z){return N(L,n,X,Z)}function A(L,X,Z){return N(L,e,X,Z)}function T(L,X,Z){return N(L,r,X,Z)}function C(L){return a[L.getDay()]}function I(L){return o[L.getDay()]}function z(L){return f[L.getMonth()]}function O(L){return u[L.getMonth()]}function B(L){return i[+(L.getHours()>=12)]}function q(L){return 1+~~(L.getMonth()/3)}function et(L){return a[L.getUTCDay()]}function J(L){return o[L.getUTCDay()]}function j(L){return f[L.getUTCMonth()]}function bt(L){return u[L.getUTCMonth()]}function tt(L){return i[+(L.getUTCHours()>=12)]}function _t(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var X=x(L+="",b);return X.toString=function(){return L},X},parse:function(L){var X=E(L+="",!1);return X.toString=function(){return L},X},utcFormat:function(L){var X=x(L+="",_);return X.toString=function(){return L},X},utcParse:function(L){var X=E(L+="",!0);return X.toString=function(){return L},X}}}var Ql={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,t4=/^%/,n4=/[\\^$*+?|[\]().{}]/g;function nt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function e4(t){return t.replace(n4,"\\$&")}function Mr(t){return new RegExp("^(?:"+t.map(e4).join("|")+")","i")}function Sr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function r4(t,n,e){var r=Et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function i4(t,n,e){var r=Et.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function o4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function a4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function u4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Kl(t,n,e){var r=Et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function jl(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function c4(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function f4(t,n,e){var r=Et.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function s4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Jl(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function l4(t,n,e){var r=Et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function th(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function h4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function d4(t,n,e){var r=Et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function g4(t,n,e){var r=Et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function p4(t,n,e){var r=Et.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function m4(t,n,e){var r=t4.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function y4(t,n,e){var r=Et.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function _4(t,n,e){var r=Et.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function nh(t,n){return nt(t.getDate(),n,2)}function b4(t,n){return nt(t.getHours(),n,2)}function v4(t,n){return nt(t.getHours()%12||12,n,2)}function w4(t,n){return nt(1+pr.count(xn(t),t),n,3)}function R1(t,n){return nt(t.getMilliseconds(),n,3)}function x4(t,n){return R1(t,n)+"000"}function M4(t,n){return nt(t.getMonth()+1,n,2)}function S4(t,n){return nt(t.getMinutes(),n,2)}function T4(t,n){return nt(t.getSeconds(),n,2)}function A4(t){var n=t.getDay();return n===0?7:n}function E4(t,n){return nt(cr.count(xn(t)-1,t),n,2)}function P1(t){var n=t.getDay();return n>=4||n===0?we(t):we.ceil(t)}function $4(t,n){return t=P1(t),nt(we.count(xn(t),t)+(xn(t).getDay()===4),n,2)}function k4(t){return t.getDay()}function N4(t,n){return nt(ci.count(xn(t)-1,t),n,2)}function C4(t,n){return nt(t.getFullYear()%100,n,2)}function R4(t,n){return t=P1(t),nt(t.getFullYear()%100,n,2)}function P4(t,n){return nt(t.getFullYear()%1e4,n,4)}function I4(t,n){var e=t.getDay();return t=e>=4||e===0?we(t):we.ceil(t),nt(t.getFullYear()%1e4,n,4)}function z4(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+nt(n/60|0,"0",2)+nt(n%60,"0",2)}function eh(t,n){return nt(t.getUTCDate(),n,2)}function D4(t,n){return nt(t.getUTCHours(),n,2)}function O4(t,n){return nt(t.getUTCHours()%12||12,n,2)}function L4(t,n){return nt(1+wi.count(Mn(t),t),n,3)}function I1(t,n){return nt(t.getUTCMilliseconds(),n,3)}function F4(t,n){return I1(t,n)+"000"}function B4(t,n){return nt(t.getUTCMonth()+1,n,2)}function U4(t,n){return nt(t.getUTCMinutes(),n,2)}function q4(t,n){return nt(t.getUTCSeconds(),n,2)}function Y4(t){var n=t.getUTCDay();return n===0?7:n}function V4(t,n){return nt(fr.count(Mn(t)-1,t),n,2)}function z1(t){var n=t.getUTCDay();return n>=4||n===0?xe(t):xe.ceil(t)}function H4(t,n){return t=z1(t),nt(xe.count(Mn(t),t)+(Mn(t).getUTCDay()===4),n,2)}function X4(t){return t.getUTCDay()}function W4(t,n){return nt(fi.count(Mn(t)-1,t),n,2)}function G4(t,n){return nt(t.getUTCFullYear()%100,n,2)}function Z4(t,n){return t=z1(t),nt(t.getUTCFullYear()%100,n,2)}function Q4(t,n){return nt(t.getUTCFullYear()%1e4,n,4)}function K4(t,n){var e=t.getUTCDay();return t=e>=4||e===0?xe(t):xe.ceil(t),nt(t.getUTCFullYear()%1e4,n,4)}function j4(){return"+0000"}function rh(){return"%"}function ih(t){return+t}function oh(t){return Math.floor(+t/1e3)}var Le,Cf,D1,Ca,Rf;O1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O1(t){return Le=C1(t),Cf=Le.format,D1=Le.parse,Ca=Le.utcFormat,Rf=Le.utcParse,Le}var L1="%Y-%m-%dT%H:%M:%S.%LZ";function J4(t){return t.toISOString()}var t7=Date.prototype.toISOString?J4:Ca(L1);function n7(t){var n=new Date(t);return isNaN(n)?null:n}var e7=+new Date("2000-01-01T00:00:00.000Z")?n7:Rf(L1);function r7(t){return new Date(t)}function i7(t){return t instanceof Date?+t:+new Date(+t)}function Pf(t,n,e,r,i,o,a,u,f,c){var s=Sf(),h=s.invert,l=s.domain,d=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),_=c("%Y");function w(x){return(f(x)<x?d:u(x)<x?m:a(x)<x?g:o(x)<x?p:r(x)<x?i(x)<x?y:v:e(x)<x?b:_)(x)}return s.invert=function(x){return new Date(h(x))},s.domain=function(x){return arguments.length?l(Array.from(x,i7)):l().map(r7)},s.ticks=function(x){var E=l();return t(E[0],E[E.length-1],x??10)},s.tickFormat=function(x,E){return E==null?w:c(E)},s.nice=function(x){var E=l();return(!x||typeof x.range!="function")&&(x=n(E[0],E[E.length-1],x??10)),x?l(l1(E,x)):s},s.copy=function(){return vi(s,Pf(t,n,e,r,i,o,a,u,f,c))},s}function o7(){return an.apply(Pf(k1,N1,xn,ka,cr,pr,Ea,Ta,In,Cf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function a7(){return an.apply(Pf(E1,$1,Mn,Na,fr,wi,$a,Aa,In,Ca).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ra(){var t=0,n=1,e,r,i,o,a=Ut,u=!1,f;function c(h){return h==null||isNaN(h=+h)?f:a(i===0?.5:(h=(o(h)-e)*i,u?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),c):[t,n]},c.clamp=function(h){return arguments.length?(u=!!h,c):u},c.interpolator=function(h){return arguments.length?(a=h,c):a};function s(h){return function(l){var d,m;return arguments.length?([d,m]=l,a=h(d,m),c):[a(0),a(1)]}}return c.range=s(Jn),c.rangeRound=s(la),c.unknown=function(h){return arguments.length?(f=h,c):f},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),c}}function ne(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function F1(){var t=te(Ra()(Ut));return t.copy=function(){return ne(t,F1())},Ln.apply(t,arguments)}function B1(){var t=Tf(Ra()).domain([1,10]);return t.copy=function(){return ne(t,B1()).base(t.base())},Ln.apply(t,arguments)}function U1(){var t=Af(Ra());return t.copy=function(){return ne(t,U1()).constant(t.constant())},Ln.apply(t,arguments)}function If(){var t=Ef(Ra());return t.copy=function(){return ne(t,If()).exponent(t.exponent())},Ln.apply(t,arguments)}function u7(){return If.apply(null,arguments).exponent(.5)}function q1(){var t=[],n=Ut;function e(r){if(r!=null&&!isNaN(r=+r))return n((Wn(t,r,1)-1)/(t.length-1))}return e.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(dt),e},e.interpolator=function(r){return arguments.length?(n=r,e):n},e.range=function(){return t.map((r,i)=>n(i/(t.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Gr(t,o/r))},e.copy=function(){return q1(n).domain(t)},Ln.apply(e,arguments)}function Pa(){var t=0,n=.5,e=1,r=1,i,o,a,u,f,c=Ut,s,h=!1,l;function d(g){return isNaN(g=+g)?l:(g=.5+((g=+s(g))-o)*(r*g<r*o?u:f),c(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=s(t=+t),o=s(n=+n),a=s(e=+e),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(c=g,d):c};function m(g){return function(p){var y,v,b;return arguments.length?([y,v,b]=p,c=z0(g,[y,v,b]),d):[c(0),c(.5),c(1)]}}return d.range=m(Jn),d.rangeRound=m(la),d.unknown=function(g){return arguments.length?(l=g,d):l},function(g){return s=g,i=g(t),o=g(n),a=g(e),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Y1(){var t=te(Pa()(Ut));return t.copy=function(){return ne(t,Y1())},Ln.apply(t,arguments)}function V1(){var t=Tf(Pa()).domain([.1,1,10]);return t.copy=function(){return ne(t,V1()).base(t.base())},Ln.apply(t,arguments)}function H1(){var t=Af(Pa());return t.copy=function(){return ne(t,H1()).constant(t.constant())},Ln.apply(t,arguments)}function zf(){var t=Ef(Pa());return t.copy=function(){return ne(t,zf()).exponent(t.exponent())},Ln.apply(t,arguments)}function c7(){return zf.apply(null,arguments).exponent(.5)}function G(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const f7=G("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),s7=G("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),l7=G("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),h7=G("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d7=G("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g7=G("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p7=G("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),m7=G("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),y7=G("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_7=G("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),b7=G("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),at=t=>x0(t[t.length-1]);var X1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(G);const v7=at(X1);var W1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(G);const w7=at(W1);var G1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(G);const x7=at(G1);var Z1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(G);const M7=at(Z1);var Q1=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(G);const S7=at(Q1);var K1=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(G);const T7=at(K1);var j1=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(G);const A7=at(j1);var J1=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(G);const E7=at(J1);var tg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(G);const $7=at(tg);var ng=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(G);const k7=at(ng);var eg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(G);const N7=at(eg);var rg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(G);const C7=at(rg);var ig=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(G);const R7=at(ig);var og=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(G);const P7=at(og);var ag=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(G);const I7=at(ag);var ug=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(G);const z7=at(ug);var cg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(G);const D7=at(cg);var fg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(G);const O7=at(fg);var sg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(G);const L7=at(sg);var lg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(G);const F7=at(lg);var hg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(G);const B7=at(hg);var dg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(G);const U7=at(dg);var gg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(G);const q7=at(gg);var pg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(G);const Y7=at(pg);var mg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(G);const V7=at(mg);var yg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(G);const H7=at(yg);var _g=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(G);const X7=at(_g);function W7(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const G7=ha(ln(300,.5,0),ln(-240,.5,1));var Z7=ha(ln(-100,.75,.35),ln(80,1.5,.8)),Q7=ha(ln(260,.75,.35),ln(80,1.5,.8)),Yi=ln();function K7(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Yi.h=360*t-100,Yi.s=1.5-1.5*n,Yi.l=.8-.9*n,Yi+""}var Vi=Je(),j7=Math.PI/3,J7=Math.PI*2/3;function tx(t){var n;return t=(.5-t)*Math.PI,Vi.r=255*(n=Math.sin(t))*n,Vi.g=255*(n=Math.sin(t+j7))*n,Vi.b=255*(n=Math.sin(t+J7))*n,Vi+""}function nx(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ia(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const ex=Ia(G("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var rx=Ia(G("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ix=Ia(G("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ox=Ia(G("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function W(t){return function(){return t}}const ah=Math.abs,Rt=Math.atan2,kn=Math.cos,ax=Math.max,Ge=Math.min,Gt=Math.sin,ct=Math.sqrt,Pt=1e-12,Qn=Math.PI,Zo=Qn/2,Xn=2*Qn;function ux(t){return t>1?0:t<-1?Qn:Math.acos(t)}function uh(t){return t>=1?Zo:t<=-1?-Zo:Math.asin(t)}function xi(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new di(n)}function cx(t){return t.innerRadius}function fx(t){return t.outerRadius}function sx(t){return t.startAngle}function lx(t){return t.endAngle}function hx(t){return t&&t.padAngle}function dx(t,n,e,r,i,o,a,u){var f=e-t,c=r-n,s=a-i,h=u-o,l=h*f-s*c;if(!(l*l<Pt))return l=(s*(n-o)-h*(t-i))/l,[t+l*f,n+l*c]}function Hi(t,n,e,r,i,o,a){var u=t-e,f=n-r,c=(a?o:-o)/ct(u*u+f*f),s=c*f,h=-c*u,l=t+s,d=n+h,m=e+s,g=r+h,p=(l+m)/2,y=(d+g)/2,v=m-l,b=g-d,_=v*v+b*b,w=i-o,x=l*g-m*d,E=(b<0?-1:1)*ct(ax(0,w*w*_-x*x)),N=(x*b-v*E)/_,$=(-x*v-b*E)/_,k=(x*b+v*E)/_,S=(-x*v+b*E)/_,P=N-p,R=$-y,M=k-p,A=S-y;return P*P+R*R>M*M+A*A&&(N=k,$=S),{cx:N,cy:$,x01:-s,y01:-h,x11:N*(i/w-1),y11:$*(i/w-1)}}function gx(){var t=cx,n=fx,e=W(0),r=null,i=sx,o=lx,a=hx,u=null,f=xi(c);function c(){var s,h,l=+t.apply(this,arguments),d=+n.apply(this,arguments),m=i.apply(this,arguments)-Zo,g=o.apply(this,arguments)-Zo,p=ah(g-m),y=g>m;if(u||(u=s=f()),d<l&&(h=d,d=l,l=h),!(d>Pt))u.moveTo(0,0);else if(p>Xn-Pt)u.moveTo(d*kn(m),d*Gt(m)),u.arc(0,0,d,m,g,!y),l>Pt&&(u.moveTo(l*kn(g),l*Gt(g)),u.arc(0,0,l,g,m,y));else{var v=m,b=g,_=m,w=g,x=p,E=p,N=a.apply(this,arguments)/2,$=N>Pt&&(r?+r.apply(this,arguments):ct(l*l+d*d)),k=Ge(ah(d-l)/2,+e.apply(this,arguments)),S=k,P=k,R,M;if($>Pt){var A=uh($/l*Gt(N)),T=uh($/d*Gt(N));(x-=A*2)>Pt?(A*=y?1:-1,_+=A,w-=A):(x=0,_=w=(m+g)/2),(E-=T*2)>Pt?(T*=y?1:-1,v+=T,b-=T):(E=0,v=b=(m+g)/2)}var C=d*kn(v),I=d*Gt(v),z=l*kn(w),O=l*Gt(w);if(k>Pt){var B=d*kn(b),q=d*Gt(b),et=l*kn(_),J=l*Gt(_),j;if(p<Qn)if(j=dx(C,I,et,J,B,q,z,O)){var bt=C-j[0],tt=I-j[1],_t=B-j[0],L=q-j[1],X=1/Gt(ux((bt*_t+tt*L)/(ct(bt*bt+tt*tt)*ct(_t*_t+L*L)))/2),Z=ct(j[0]*j[0]+j[1]*j[1]);S=Ge(k,(l-Z)/(X-1)),P=Ge(k,(d-Z)/(X+1))}else S=P=0}E>Pt?P>Pt?(R=Hi(et,J,C,I,d,P,y),M=Hi(B,q,z,O,d,P,y),u.moveTo(R.cx+R.x01,R.cy+R.y01),P<k?u.arc(R.cx,R.cy,P,Rt(R.y01,R.x01),Rt(M.y01,M.x01),!y):(u.arc(R.cx,R.cy,P,Rt(R.y01,R.x01),Rt(R.y11,R.x11),!y),u.arc(0,0,d,Rt(R.cy+R.y11,R.cx+R.x11),Rt(M.cy+M.y11,M.cx+M.x11),!y),u.arc(M.cx,M.cy,P,Rt(M.y11,M.x11),Rt(M.y01,M.x01),!y))):(u.moveTo(C,I),u.arc(0,0,d,v,b,!y)):u.moveTo(C,I),!(l>Pt)||!(x>Pt)?u.lineTo(z,O):S>Pt?(R=Hi(z,O,B,q,l,-S,y),M=Hi(C,I,et,J,l,-S,y),u.lineTo(R.cx+R.x01,R.cy+R.y01),S<k?u.arc(R.cx,R.cy,S,Rt(R.y01,R.x01),Rt(M.y01,M.x01),!y):(u.arc(R.cx,R.cy,S,Rt(R.y01,R.x01),Rt(R.y11,R.x11),!y),u.arc(0,0,l,Rt(R.cy+R.y11,R.cx+R.x11),Rt(M.cy+M.y11,M.cx+M.x11),y),u.arc(M.cx,M.cy,S,Rt(M.y11,M.x11),Rt(M.y01,M.x01),!y))):u.arc(0,0,l,w,_,y)}if(u.closePath(),s)return u=null,s+""||null}return c.centroid=function(){var s=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Qn/2;return[kn(h)*s,Gt(h)*s]},c.innerRadius=function(s){return arguments.length?(t=typeof s=="function"?s:W(+s),c):t},c.outerRadius=function(s){return arguments.length?(n=typeof s=="function"?s:W(+s),c):n},c.cornerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:W(+s),c):e},c.padRadius=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:W(+s),c):r},c.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:W(+s),c):i},c.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:W(+s),c):o},c.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:W(+s),c):a},c.context=function(s){return arguments.length?(u=s??null,c):u},c}var px=Array.prototype.slice;function za(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bg(t){this._context=t}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Da(t){return new bg(t)}function Df(t){return t[0]}function Of(t){return t[1]}function Lf(t,n){var e=W(!0),r=null,i=Da,o=null,a=xi(u);t=typeof t=="function"?t:t===void 0?Df:W(t),n=typeof n=="function"?n:n===void 0?Of:W(n);function u(f){var c,s=(f=za(f)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=s;++c)!(c<s&&e(h=f[c],c,f))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,c,f),+n(h,c,f));if(d)return o=null,d+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:W(+f),u):t},u.y=function(f){return arguments.length?(n=typeof f=="function"?f:W(+f),u):n},u.defined=function(f){return arguments.length?(e=typeof f=="function"?f:W(!!f),u):e},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function vg(t,n,e){var r=null,i=W(!0),o=null,a=Da,u=null,f=xi(c);t=typeof t=="function"?t:t===void 0?Df:W(+t),n=typeof n=="function"?n:W(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?Of:W(+e);function c(h){var l,d,m,g=(h=za(h)).length,p,y=!1,v,b=new Array(g),_=new Array(g);for(o==null&&(u=a(v=f())),l=0;l<=g;++l){if(!(l<g&&i(p=h[l],l,h))===y)if(y=!y)d=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),m=l-1;m>=d;--m)u.point(b[m],_[m]);u.lineEnd(),u.areaEnd()}y&&(b[l]=+t(p,l,h),_[l]=+n(p,l,h),u.point(r?+r(p,l,h):b[l],e?+e(p,l,h):_[l]))}if(v)return u=null,v+""||null}function s(){return Lf().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:W(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:W(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:W(+h),c):r},c.y=function(h){return arguments.length?(n=typeof h=="function"?h:W(+h),e=null,c):n},c.y0=function(h){return arguments.length?(n=typeof h=="function"?h:W(+h),c):n},c.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:W(+h),c):e},c.lineX0=c.lineY0=function(){return s().x(t).y(n)},c.lineY1=function(){return s().x(t).y(e)},c.lineX1=function(){return s().x(r).y(n)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:W(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(u=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=u=null:u=a(o=h),c):o},c}function mx(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function yx(t){return t}function _x(){var t=yx,n=mx,e=null,r=W(0),i=W(Xn),o=W(0);function a(u){var f,c=(u=za(u)).length,s,h,l=0,d=new Array(c),m=new Array(c),g=+r.apply(this,arguments),p=Math.min(Xn,Math.max(-Xn,i.apply(this,arguments)-g)),y,v=Math.min(Math.abs(p)/c,o.apply(this,arguments)),b=v*(p<0?-1:1),_;for(f=0;f<c;++f)(_=m[d[f]=f]=+t(u[f],f,u))>0&&(l+=_);for(n!=null?d.sort(function(w,x){return n(m[w],m[x])}):e!=null&&d.sort(function(w,x){return e(u[w],u[x])}),f=0,h=l?(p-c*b)/l:0;f<c;++f,g=y)s=d[f],_=m[s],y=g+(_>0?_*h:0)+b,m[s]={data:u[s],index:f,value:_,startAngle:g,endAngle:y,padAngle:v};return m}return a.value=function(u){return arguments.length?(t=typeof u=="function"?u:W(+u),a):t},a.sortValues=function(u){return arguments.length?(n=u,e=null,a):n},a.sort=function(u){return arguments.length?(e=u,n=null,a):e},a.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:W(+u),a):r},a.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:W(+u),a):i},a.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:W(+u),a):o},a}var wg=Ff(Da);function xg(t){this._curve=t}xg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function Ff(t){function n(e){return new xg(t(e))}return n._curve=t,n}function Dr(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?n(Ff(e)):n()._curve},t}function ch(){return Dr(Lf().curve(wg))}function fh(){var t=vg().curve(wg),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Dr(e())},delete t.lineX0,t.lineEndAngle=function(){return Dr(r())},delete t.lineX1,t.lineInnerRadius=function(){return Dr(i())},delete t.lineY0,t.lineOuterRadius=function(){return Dr(o())},delete t.lineY1,t.curve=function(a){return arguments.length?n(Ff(a)):n()._curve},t}function Or(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class Mg{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}class bx{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,e){if(n=+n,e=+e,this._point===0)this._point=1;else{const r=Or(this._x0,this._y0),i=Or(this._x0,this._y0=(this._y0+e)/2),o=Or(n,this._y0),a=Or(n,e);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=n,this._y0=e}}function Sg(t){return new Mg(t,!0)}function Tg(t){return new Mg(t,!1)}function vx(t){return new bx(t)}function wx(t){return t.source}function xx(t){return t.target}function Oa(t){let n=wx,e=xx,r=Df,i=Of,o=null,a=null,u=xi(f);function f(){let c;const s=px.call(arguments),h=n.apply(this,s),l=e.apply(this,s);if(o==null&&(a=t(c=u())),a.lineStart(),s[0]=h,a.point(+r.apply(this,s),+i.apply(this,s)),s[0]=l,a.point(+r.apply(this,s),+i.apply(this,s)),a.lineEnd(),c)return a=null,c+""||null}return f.source=function(c){return arguments.length?(n=c,f):n},f.target=function(c){return arguments.length?(e=c,f):e},f.x=function(c){return arguments.length?(r=typeof c=="function"?c:W(+c),f):r},f.y=function(c){return arguments.length?(i=typeof c=="function"?c:W(+c),f):i},f.context=function(c){return arguments.length?(c==null?o=a=null:a=t(o=c),f):o},f}function Mx(){return Oa(Sg)}function Sx(){return Oa(Tg)}function Tx(){const t=Oa(vx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Ax=ct(3),Ag={draw(t,n){const e=ct(n+Ge(n/28,.75))*.59436,r=e/2,i=r*Ax;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},La={draw(t,n){const e=ct(n/Qn);t.moveTo(e,0),t.arc(0,0,e,0,Xn)}},Eg={draw(t,n){const e=ct(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},$g=ct(1/3),Ex=$g*2,kg={draw(t,n){const e=ct(n/Ex),r=e*$g;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Ng={draw(t,n){const e=ct(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},Cg={draw(t,n){const e=ct(n-Ge(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},Rg={draw(t,n){const e=ct(n),r=-e/2;t.rect(r,r,e,e)}},Pg={draw(t,n){const e=ct(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},$x=.8908130915292852,Ig=Gt(Qn/10)/Gt(7*Qn/10),kx=Gt(Xn/10)*Ig,Nx=-kn(Xn/10)*Ig,zg={draw(t,n){const e=ct(n*$x),r=kx*e,i=Nx*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Xn*o/5,u=kn(a),f=Gt(a);t.lineTo(f*e,-u*e),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Mu=ct(3),Dg={draw(t,n){const e=-ct(n/(Mu*3));t.moveTo(0,e*2),t.lineTo(-Mu*e,-e),t.lineTo(Mu*e,-e),t.closePath()}},Cx=ct(3),Og={draw(t,n){const e=ct(n)*.6824,r=e/2,i=e*Cx/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Jt=-.5,tn=ct(3)/2,xc=1/ct(12),Rx=(xc/2+1)*3,Lg={draw(t,n){const e=ct(n/Rx),r=e/2,i=e*xc,o=r,a=e*xc+e,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(Jt*r-tn*i,tn*r+Jt*i),t.lineTo(Jt*o-tn*a,tn*o+Jt*a),t.lineTo(Jt*u-tn*f,tn*u+Jt*f),t.lineTo(Jt*r+tn*i,Jt*i-tn*r),t.lineTo(Jt*o+tn*a,Jt*a-tn*o),t.lineTo(Jt*u+tn*f,Jt*f-tn*u),t.closePath()}},Mc={draw(t,n){const e=ct(n-Ge(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},sh=[La,Eg,kg,Rg,zg,Dg,Lg],Px=[La,Cg,Mc,Og,Ag,Pg,Ng];function Ix(t,n){let e=null,r=xi(i);t=typeof t=="function"?t:W(t||La),n=typeof n=="function"?n:W(n===void 0?64:+n);function i(){let o;if(e||(e=o=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:W(o),i):t},i.size=function(o){return arguments.length?(n=typeof o=="function"?o:W(+o),i):n},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Kn(){}function Qo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Fa(t){this._context=t}Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function zx(t){return new Fa(t)}function Fg(t){this._context=t}Fg.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Qo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Dx(t){return new Fg(t)}function Bg(t){this._context=t}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Qo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Ox(t){return new Bg(t)}function Ug(t,n){this._basis=new Fa(t),this._beta=n}Ug.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,u=-1,f;++u<=e;)f=u/e,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+f*o),this._beta*n[u]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const Lx=function t(n){function e(r){return n===1?new Fa(r):new Ug(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function Ko(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Bf(t,n){this._context=t,this._k=(1-n)/6}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ko(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ko(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Fx=function t(n){function e(r){return new Bf(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Uf(t,n){this._context=t,this._k=(1-n)/6}Uf.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ko(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Bx=function t(n){function e(r){return new Uf(r,n)}return e.tension=function(r){return t(+r)},e}(0);function qf(t,n){this._context=t,this._k=(1-n)/6}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ko(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Ux=function t(n){function e(r){return new qf(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Yf(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Pt){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Pt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function qg(t,n){this._context=t,this._alpha=n}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Yf(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const qx=function t(n){function e(r){return n?new qg(r,n):new Bf(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Yg(t,n){this._context=t,this._alpha=n}Yg.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Yf(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Yx=function t(n){function e(r){return n?new Yg(r,n):new Uf(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Vg(t,n){this._context=t,this._alpha=n}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yf(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Vx=function t(n){function e(r){return n?new Vg(r,n):new qf(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Hg(t){this._context=t}Hg.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Hx(t){return new Hg(t)}function lh(t){return t<0?-1:1}function hh(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(lh(o)+lh(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function dh(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Su(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function jo(t){this._context=t}jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Su(this,this._t0,dh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Su(this,dh(this,e=hh(this,t,n)),e);break;default:Su(this,this._t0,e=hh(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function Xg(t){this._context=new Wg(t)}(Xg.prototype=Object.create(jo.prototype)).point=function(t,n){jo.prototype.point.call(this,n,t)};function Wg(t){this._context=t}Wg.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function Xx(t){return new jo(t)}function Wx(t){return new Xg(t)}function Gg(t){this._context=t}Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=gh(t),i=gh(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function gh(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Gx(t){return new Gg(t)}function Ba(t,n){this._context=t,this._t=n}Ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function Zx(t){return new Ba(t,.5)}function Qx(t){return new Ba(t,0)}function Kx(t){return new Ba(t,1)}function sr(t,n){if((a=t.length)>1)for(var e=1,r,i,o=t[n[0]],a,u=o.length;e<a;++e)for(i=o,o=t[n[e]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lr(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function jx(t,n){return t[n]}function Jx(t){const n=[];return n.key=t,n}function t9(){var t=W([]),n=lr,e=sr,r=jx;function i(o){var a=Array.from(t.apply(this,arguments),Jx),u,f=a.length,c=-1,s;for(const h of o)for(u=0,++c;u<f;++u)(a[u][c]=[0,+r(h,a[u].key,c,o)]).data=h;for(u=0,s=za(n(a));u<f;++u)a[s[u]].index=u;return e(a,s),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:W(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:W(+o),i):r},i.order=function(o){return arguments.length?(n=o==null?lr:typeof o=="function"?o:W(Array.from(o)),i):n},i.offset=function(o){return arguments.length?(e=o??sr,i):e},i}function n9(t,n){if((r=t.length)>0){for(var e,r,i=0,o=t[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=t[e][i][1]||0;if(a)for(e=0;e<r;++e)t[e][i][1]/=a}sr(t,n)}}function e9(t,n){if((f=t.length)>0)for(var e,r=0,i,o,a,u,f,c=t[n[0]].length;r<c;++r)for(a=u=0,e=0;e<f;++e)(o=(i=t[n[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=u,i[0]=u+=o):(i[0]=0,i[1]=o)}function r9(t,n){if((i=t.length)>0){for(var e=0,r=t[n[0]],i,o=r.length;e<o;++e){for(var a=0,u=0;a<i;++a)u+=t[a][e][1]||0;r[e][1]+=r[e][0]=-u/2}sr(t,n)}}function i9(t,n){if(!(!((a=t.length)>0)||!((o=(i=t[n[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var u=0,f=0,c=0;u<a;++u){for(var s=t[n[u]],h=s[r][1]||0,l=s[r-1][1]||0,d=(h-l)/2,m=0;m<u;++m){var g=t[n[m]],p=g[r][1]||0,y=g[r-1][1]||0;d+=p-y}f+=h,c+=d*h}i[r-1][1]+=i[r-1][0]=e,f&&(e-=c/f)}i[r-1][1]+=i[r-1][0]=e,sr(t,n)}}function Zg(t){var n=t.map(o9);return lr(t).sort(function(e,r){return n[e]-n[r]})}function o9(t){for(var n=-1,e=0,r=t.length,i,o=-1/0;++n<r;)(i=+t[n][1])>o&&(o=i,e=n);return e}function Qg(t){var n=t.map(Kg);return lr(t).sort(function(e,r){return n[e]-n[r]})}function Kg(t){for(var n=0,e=-1,r=t.length,i;++e<r;)(i=+t[e][1])&&(n+=i);return n}function a9(t){return Qg(t).reverse()}function u9(t){var n=t.length,e,r,i=t.map(Kg),o=Zg(t),a=0,u=0,f=[],c=[];for(e=0;e<n;++e)r=o[e],a<u?(a+=i[r],f.push(r)):(u+=i[r],c.push(r));return c.reverse().concat(f)}function c9(t){return lr(t).reverse()}const Xi=t=>()=>t;function f9(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _n(t,n,e){this.k=t,this.x=n,this.y=e}_n.prototype={constructor:_n,scale:function(t){return t===1?this:new _n(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new _n(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mr=new _n(1,0,0);jg.prototype=_n.prototype;function jg(t){for(;!t.__zoom;)if(!(t=t.parentNode))return mr;return t.__zoom}function Tu(t){t.stopImmediatePropagation()}function Tr(t){t.preventDefault(),t.stopImmediatePropagation()}function s9(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function l9(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ph(){return this.__zoom||mr}function h9(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function d9(){return navigator.maxTouchPoints||"ontouchstart"in this}function g9(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Jg(){var t=s9,n=l9,e=g9,r=h9,i=d9,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,f=C0,c=Me("start","zoom","end"),s,h,l,d=500,m=150,g=0,p=10;function y(M){M.property("__zoom",ph).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,A,T,C){var I=M.selection?M.selection():M;I.property("__zoom",ph),M!==I?w(M,A,T,C):I.interrupt().each(function(){x(this,arguments).event(C).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(M,A,T,C){y.scaleTo(M,function(){var I=this.__zoom.k,z=typeof A=="function"?A.apply(this,arguments):A;return I*z},T,C)},y.scaleTo=function(M,A,T,C){y.transform(M,function(){var I=n.apply(this,arguments),z=this.__zoom,O=T==null?_(I):typeof T=="function"?T.apply(this,arguments):T,B=z.invert(O),q=typeof A=="function"?A.apply(this,arguments):A;return e(b(v(z,q),O,B),I,a)},T,C)},y.translateBy=function(M,A,T,C){y.transform(M,function(){return e(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof T=="function"?T.apply(this,arguments):T),n.apply(this,arguments),a)},null,C)},y.translateTo=function(M,A,T,C,I){y.transform(M,function(){var z=n.apply(this,arguments),O=this.__zoom,B=C==null?_(z):typeof C=="function"?C.apply(this,arguments):C;return e(mr.translate(B[0],B[1]).scale(O.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof T=="function"?-T.apply(this,arguments):-T),z,a)},C,I)};function v(M,A){return A=Math.max(o[0],Math.min(o[1],A)),A===M.k?M:new _n(A,M.x,M.y)}function b(M,A,T){var C=A[0]-T[0]*M.k,I=A[1]-T[1]*M.k;return C===M.x&&I===M.y?M:new _n(M.k,C,I)}function _(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,A,T,C){M.on("start.zoom",function(){x(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(C).end()}).tween("zoom",function(){var I=this,z=arguments,O=x(I,z).event(C),B=n.apply(I,z),q=T==null?_(B):typeof T=="function"?T.apply(I,z):T,et=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),J=I.__zoom,j=typeof A=="function"?A.apply(I,z):A,bt=f(J.invert(q).concat(et/J.k),j.invert(q).concat(et/j.k));return function(tt){if(tt===1)tt=j;else{var _t=bt(tt),L=et/_t[2];tt=new _n(L,q[0]-_t[0]*L,q[1]-_t[1]*L)}O.zoom(null,tt)}})}function x(M,A,T){return!T&&M.__zooming||new E(M,A)}function E(M,A){this.that=M,this.args=A,this.active=0,this.sourceEvent=null,this.extent=n.apply(M,A),this.taps=0}E.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,A){return this.mouse&&M!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var A=lt(this.that).datum();c.call(M,this.that,new f9(M,{sourceEvent:this.sourceEvent,target:y,type:M,transform:this.that.__zoom,dispatch:c}),A)}};function N(M,...A){if(!t.apply(this,arguments))return;var T=x(this,A).event(M),C=this.__zoom,I=Math.max(o[0],Math.min(o[1],C.k*Math.pow(2,r.apply(this,arguments)))),z=Kt(M);if(T.wheel)(T.mouse[0][0]!==z[0]||T.mouse[0][1]!==z[1])&&(T.mouse[1]=C.invert(T.mouse[0]=z)),clearTimeout(T.wheel);else{if(C.k===I)return;T.mouse=[z,C.invert(z)],le(this),T.start()}Tr(M),T.wheel=setTimeout(O,m),T.zoom("mouse",e(b(v(C,I),T.mouse[0],T.mouse[1]),T.extent,a));function O(){T.wheel=null,T.end()}}function $(M,...A){if(l||!t.apply(this,arguments))return;var T=M.currentTarget,C=x(this,A,!0).event(M),I=lt(M.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",et,!0),z=Kt(M,T),O=M.clientX,B=M.clientY;aa(M.view),Tu(M),C.mouse=[z,this.__zoom.invert(z)],le(this),C.start();function q(J){if(Tr(J),!C.moved){var j=J.clientX-O,bt=J.clientY-B;C.moved=j*j+bt*bt>g}C.event(J).zoom("mouse",e(b(C.that.__zoom,C.mouse[0]=Kt(J,T),C.mouse[1]),C.extent,a))}function et(J){I.on("mousemove.zoom mouseup.zoom",null),ua(J.view,C.moved),Tr(J),C.event(J).end()}}function k(M,...A){if(t.apply(this,arguments)){var T=this.__zoom,C=Kt(M.changedTouches?M.changedTouches[0]:M,this),I=T.invert(C),z=T.k*(M.shiftKey?.5:2),O=e(b(v(T,z),C,I),n.apply(this,A),a);Tr(M),u>0?lt(this).transition().duration(u).call(w,O,C,M):lt(this).call(y.transform,O,C,M)}}function S(M,...A){if(t.apply(this,arguments)){var T=M.touches,C=T.length,I=x(this,A,M.changedTouches.length===C).event(M),z,O,B,q;for(Tu(M),O=0;O<C;++O)B=T[O],q=Kt(B,this),q=[q,this.__zoom.invert(q),B.identifier],I.touch0?!I.touch1&&I.touch0[2]!==q[2]&&(I.touch1=q,I.taps=0):(I.touch0=q,z=!0,I.taps=1+!!s);s&&(s=clearTimeout(s)),z&&(I.taps<2&&(h=q[0],s=setTimeout(function(){s=null},d)),le(this),I.start())}}function P(M,...A){if(this.__zooming){var T=x(this,A).event(M),C=M.changedTouches,I=C.length,z,O,B,q;for(Tr(M),z=0;z<I;++z)O=C[z],B=Kt(O,this),T.touch0&&T.touch0[2]===O.identifier?T.touch0[0]=B:T.touch1&&T.touch1[2]===O.identifier&&(T.touch1[0]=B);if(O=T.that.__zoom,T.touch1){var et=T.touch0[0],J=T.touch0[1],j=T.touch1[0],bt=T.touch1[1],tt=(tt=j[0]-et[0])*tt+(tt=j[1]-et[1])*tt,_t=(_t=bt[0]-J[0])*_t+(_t=bt[1]-J[1])*_t;O=v(O,Math.sqrt(tt/_t)),B=[(et[0]+j[0])/2,(et[1]+j[1])/2],q=[(J[0]+bt[0])/2,(J[1]+bt[1])/2]}else if(T.touch0)B=T.touch0[0],q=T.touch0[1];else return;T.zoom("touch",e(b(O,B,q),T.extent,a))}}function R(M,...A){if(this.__zooming){var T=x(this,A).event(M),C=M.changedTouches,I=C.length,z,O;for(Tu(M),l&&clearTimeout(l),l=setTimeout(function(){l=null},d),z=0;z<I;++z)O=C[z],T.touch0&&T.touch0[2]===O.identifier?delete T.touch0:T.touch1&&T.touch1[2]===O.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(O=Kt(O,this),Math.hypot(h[0]-O[0],h[1]-O[1])<p)){var B=lt(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Xi(+M),y):r},y.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Xi(!!M),y):t},y.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Xi(!!M),y):i},y.extent=function(M){return arguments.length?(n=typeof M=="function"?M:Xi([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):n},y.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],y):[o[0],o[1]]},y.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(M){return arguments.length?(e=M,y):e},y.duration=function(M){return arguments.length?(u=+M,y):u},y.interpolate=function(M){return arguments.length?(f=M,y):f},y.on=function(){var M=c.on.apply(c,arguments);return M===c?y:M},y.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,y):Math.sqrt(g)},y.tapDistance=function(M){return arguments.length?(p=+M,y):p},y}const p9=Object.freeze(Object.defineProperty({__proto__:null,Adder:xt,Delaunay:Qc,FormatSpecifier:ba,InternMap:Xr,InternSet:he,Node:ve,Path:di,Voronoi:Q0,ZoomTransform:_n,active:lv,arc:gx,area:vg,areaRadial:fh,ascending:dt,autoType:z3,axisBottom:n2,axisLeft:e2,axisRight:t2,axisTop:Jm,bin:ts,bisect:Wn,bisectCenter:Zp,bisectLeft:Gp,bisectRight:Wn,bisector:ta,blob:L3,blur:Qp,blur2:$h,blurImage:Kp,brush:Sv,brushSelection:wv,brushX:xv,brushY:Mv,buffer:B3,chord:Av,chordDirected:$v,chordTranspose:Ev,cluster:r8,color:Gn,contourDensity:t3,contours:Wu,count:na,create:Oy,creator:ia,cross:im,csv:Y3,csvFormat:S3,csvFormatBody:T3,csvFormatRow:E3,csvFormatRows:A3,csvFormatValue:$3,csvParse:j0,csvParseRows:M3,cubehelix:ln,cumsum:om,curveBasis:zx,curveBasisClosed:Dx,curveBasisOpen:Ox,curveBumpX:Sg,curveBumpY:Tg,curveBundle:Lx,curveCardinal:Fx,curveCardinalClosed:Bx,curveCardinalOpen:Ux,curveCatmullRom:qx,curveCatmullRomClosed:Yx,curveCatmullRomOpen:Vx,curveLinear:Da,curveLinearClosed:Hx,curveMonotoneX:Xx,curveMonotoneY:Wx,curveNatural:Gx,curveStep:Zx,curveStepAfter:Kx,curveStepBefore:Qx,descending:Ah,deviation:Ch,difference:Um,disjoint:qm,dispatch:Me,drag:Xy,dragDisable:aa,dragEnable:ua,dsv:q3,dsvFormat:ma,easeBack:Ss,easeBackIn:rv,easeBackInOut:Ss,easeBackOut:iv,easeBounce:ni,easeBounceIn:nv,easeBounceInOut:ev,easeBounceOut:ni,easeCircle:Ms,easeCircleIn:Hb,easeCircleInOut:Ms,easeCircleOut:Xb,easeCubic:qu,easeCubicIn:Ob,easeCubicInOut:qu,easeCubicOut:Lb,easeElastic:Ts,easeElasticIn:ov,easeElasticInOut:av,easeElasticOut:Ts,easeExp:xs,easeExpIn:Yb,easeExpInOut:xs,easeExpOut:Vb,easeLinear:Ib,easePoly:vs,easePolyIn:Fb,easePolyInOut:vs,easePolyOut:Bb,easeQuad:bs,easeQuadIn:zb,easeQuadInOut:bs,easeQuadOut:Db,easeSin:ws,easeSinIn:Ub,easeSinInOut:ws,easeSinOut:qb,every:zm,extent:Fr,fcumsum:um,filter:Om,flatGroup:cm,flatRollup:fm,forceCenter:K3,forceCollide:mw,forceLink:_w,forceManyBody:Ew,forceRadial:$w,forceSimulation:Aw,forceX:kw,forceY:Nw,get format(){return va},formatDefaultLocale:id,formatLocale:rd,get formatPrefix(){return Jc},formatSpecifier:rr,fsum:am,geoAlbers:qd,geoAlbersUsa:z6,geoArea:Bw,geoAzimuthalEqualArea:D6,geoAzimuthalEqualAreaRaw:sf,geoAzimuthalEquidistant:O6,geoAzimuthalEquidistantRaw:lf,geoBounds:Vw,geoCentroid:Qw,geoCircle:Kw,geoClipAntimeridian:ac,geoClipCircle:Ad,geoClipExtent:i6,geoClipRectangle:wa,geoConicConformal:F6,geoConicConformalRaw:Hd,geoConicEqualArea:Xo,geoConicEqualAreaRaw:Ud,geoConicEquidistant:U6,geoConicEquidistantRaw:Xd,geoContains:l6,geoDistance:Lo,geoEqualEarth:Y6,geoEqualEarthRaw:hf,geoEquirectangular:B6,geoEquirectangularRaw:ui,geoGnomonic:V6,geoGnomonicRaw:df,geoGraticule:kd,geoGraticule10:h6,geoIdentity:H6,geoInterpolate:d6,geoLength:Ed,geoMercator:L6,geoMercatorRaw:_i,geoNaturalEarth1:X6,geoNaturalEarth1Raw:gf,geoOrthographic:W6,geoOrthographicRaw:pf,geoPath:T6,geoProjection:Tn,geoProjectionMutator:cf,geoRotation:vd,geoStereographic:G6,geoStereographicRaw:mf,geoStream:cn,geoTransform:A6,geoTransverseMercator:Z6,geoTransverseMercatorRaw:yf,gray:i_,greatest:qh,greatestIndex:km,group:zh,groupSort:hm,groups:Dh,hcl:bo,hierarchy:_f,histogram:ts,hsl:mo,html:Z3,image:H3,index:sm,indexes:lm,interpolate:Jn,interpolateArray:s_,interpolateBasis:_0,interpolateBasisClosed:b0,interpolateBlues:U7,interpolateBrBG:v7,interpolateBuGn:k7,interpolateBuPu:N7,interpolateCividis:W7,interpolateCool:Q7,interpolateCubehelix:T_,interpolateCubehelixDefault:G7,interpolateCubehelixLong:ha,interpolateDate:T0,interpolateDiscrete:d_,interpolateGnBu:C7,interpolateGreens:q7,interpolateGreys:Y7,interpolateHcl:M_,interpolateHclLong:S_,interpolateHsl:v_,interpolateHslLong:w_,interpolateHue:g_,interpolateInferno:ix,interpolateLab:x_,interpolateMagma:rx,interpolateNumber:nn,interpolateNumberArray:Fc,interpolateObject:A0,interpolateOrRd:R7,interpolateOranges:X7,interpolatePRGn:w7,interpolatePiYG:x7,interpolatePlasma:ox,interpolatePuBu:I7,interpolatePuBuGn:P7,interpolatePuOr:M7,interpolatePuRd:z7,interpolatePurples:V7,interpolateRainbow:K7,interpolateRdBu:S7,interpolateRdGy:T7,interpolateRdPu:D7,interpolateRdYlBu:A7,interpolateRdYlGn:E7,interpolateReds:H7,interpolateRgb:jr,interpolateRgbBasis:x0,interpolateRgbBasisClosed:f_,interpolateRound:la,interpolateSinebow:tx,interpolateSpectral:$7,interpolateString:Bc,interpolateTransformCss:k0,interpolateTransformSvg:N0,interpolateTurbo:nx,interpolateViridis:ex,interpolateWarm:Z7,interpolateYlGn:L7,interpolateYlGnBu:O7,interpolateYlOrBr:F7,interpolateYlOrRd:B7,interpolateZoom:C0,interrupt:le,intersection:Ym,interval:N_,isoFormat:t7,isoParse:e7,json:W3,lab:_o,lch:o_,least:$m,leastIndex:Hh,line:Lf,lineRadial:ch,link:Oa,linkHorizontal:Mx,linkRadial:Tx,linkVertical:Sx,local:r0,map:Lm,matcher:Rc,max:Wr,maxIndex:$c,mean:vm,median:wm,medianIndex:xm,merge:Nc,min:ho,minIndex:kc,mode:Sm,namespace:si,namespaces:Ru,nice:Ac,now:hi,pack:P8,packEnclose:E8,packSiblings:C8,pairs:Tm,partition:I8,path:Zc,pathRound:Cv,permute:Uh,pie:_x,piecewise:z0,pointRadial:Or,pointer:Kt,pointers:Fy,polygonArea:Q8,polygonCentroid:K8,polygonContains:n5,polygonHull:t5,polygonLength:e5,precisionFixed:od,precisionPrefix:ad,precisionRound:ud,quadtree:_a,quantile:Gr,quantileIndex:Vh,quantileSorted:Yh,quantize:A_,quickselect:ea,radialArea:fh,radialLine:ch,randomBates:a5,randomBernoulli:f5,randomBeta:o1,randomBinomial:a1,randomCauchy:l5,randomExponential:u5,randomGamma:wf,randomGeometric:i1,randomInt:i5,randomIrwinHall:r1,randomLcg:m5,randomLogNormal:o5,randomLogistic:h5,randomNormal:vf,randomPareto:c5,randomPoisson:d5,randomUniform:r5,randomWeibull:s5,range:Yn,rank:Em,reduce:Fm,reverse:Bm,rgb:Je,ribbon:Fv,ribbonArrow:Bv,rollup:Lh,rollups:Fh,scaleBand:Mf,scaleDiverging:Y1,scaleDivergingLog:V1,scaleDivergingPow:zf,scaleDivergingSqrt:c7,scaleDivergingSymlog:H1,scaleIdentity:s1,scaleImplicit:vc,scaleLinear:f1,scaleLog:h1,scaleOrdinal:xf,scalePoint:y5,scalePow:$f,scaleQuantile:p1,scaleQuantize:m1,scaleRadial:g1,scaleSequential:F1,scaleSequentialLog:B1,scaleSequentialPow:If,scaleSequentialQuantile:q1,scaleSequentialSqrt:u7,scaleSequentialSymlog:U1,scaleSqrt:k5,scaleSymlog:d1,scaleThreshold:y1,scaleTime:o7,scaleUtc:a7,scan:Nm,schemeAccent:s7,schemeBlues:dg,schemeBrBG:X1,schemeBuGn:ng,schemeBuPu:eg,schemeCategory10:f7,schemeDark2:l7,schemeGnBu:rg,schemeGreens:gg,schemeGreys:pg,schemeObservable10:h7,schemeOrRd:ig,schemeOranges:_g,schemePRGn:W1,schemePaired:d7,schemePastel1:g7,schemePastel2:p7,schemePiYG:G1,schemePuBu:ag,schemePuBuGn:og,schemePuOr:Z1,schemePuRd:ug,schemePurples:mg,schemeRdBu:Q1,schemeRdGy:K1,schemeRdPu:cg,schemeRdYlBu:j1,schemeRdYlGn:J1,schemeReds:yg,schemeSet1:m7,schemeSet2:y7,schemeSet3:_7,schemeSpectral:tg,schemeTableau10:b7,schemeYlGn:sg,schemeYlGnBu:fg,schemeYlOrBr:lg,schemeYlOrRd:hg,select:lt,selectAll:By,selection:Se,selector:oa,selectorAll:Cc,shuffle:Cm,shuffler:Xh,some:Dm,sort:ku,stack:t9,stackOffsetDiverging:e9,stackOffsetExpand:n9,stackOffsetNone:sr,stackOffsetSilhouette:r9,stackOffsetWiggle:i9,stackOrderAppearance:Zg,stackOrderAscending:Qg,stackOrderDescending:a9,stackOrderInsideOut:u9,stackOrderNone:lr,stackOrderReverse:c9,stratify:L8,style:pe,subset:Hm,sum:Rm,superset:Gh,svg:Q3,symbol:Ix,symbolAsterisk:Ag,symbolCircle:La,symbolCross:Eg,symbolDiamond:kg,symbolDiamond2:Ng,symbolPlus:Cg,symbolSquare:Rg,symbolSquare2:Pg,symbolStar:zg,symbolTimes:Mc,symbolTriangle:Dg,symbolTriangle2:Og,symbolWye:Lg,symbolX:Mc,symbols:sh,symbolsFill:sh,symbolsStroke:Px,text:ya,thresholdFreedmanDiaconis:_m,thresholdScott:bm,thresholdSturges:Ec,tickFormat:c1,tickIncrement:ge,tickStep:lo,ticks:de,timeDay:pr,timeDays:z5,get timeFormat(){return Cf},timeFormatDefaultLocale:O1,timeFormatLocale:C1,timeFriday:v1,timeFridays:q5,timeHour:Ea,timeHours:P5,timeInterval:vt,timeMillisecond:ur,timeMilliseconds:Hl,timeMinute:Ta,timeMinutes:C5,timeMonday:ci,timeMondays:L5,timeMonth:ka,timeMonths:Q5,get timeParse(){return D1},timeSaturday:w1,timeSaturdays:Y5,timeSecond:In,timeSeconds:Wl,timeSunday:cr,timeSundays:Gl,timeThursday:we,timeThursdays:U5,timeTickInterval:N1,timeTicks:k1,timeTuesday:_1,timeTuesdays:F5,timeWednesday:b1,timeWednesdays:B5,timeWeek:cr,timeWeeks:Gl,timeYear:xn,timeYears:j5,timeout:Lu,timer:ga,timerFlush:L0,transition:q0,transpose:Wh,tree:H8,treemap:X8,treemapBinary:W8,treemapDice:bi,treemapResquarify:Z8,treemapSlice:Ma,treemapSliceDice:G8,treemapSquarify:e1,tsv:V3,tsvFormat:N3,tsvFormatBody:C3,tsvFormatRow:P3,tsvFormatRows:R3,tsvFormatValue:I3,tsvParse:J0,tsvParseRows:k3,union:Xm,unixDay:Nf,unixDays:O5,utcDay:wi,utcDays:D5,get utcFormat(){return Ca},utcFriday:S1,utcFridays:G5,utcHour:$a,utcHours:I5,utcMillisecond:ur,utcMilliseconds:Hl,utcMinute:Aa,utcMinutes:R5,utcMonday:fi,utcMondays:V5,utcMonth:Na,utcMonths:K5,get utcParse(){return Rf},utcSaturday:T1,utcSaturdays:Z5,utcSecond:In,utcSeconds:Wl,utcSunday:fr,utcSundays:Zl,utcThursday:xe,utcThursdays:W5,utcTickInterval:$1,utcTicks:E1,utcTuesday:x1,utcTuesdays:H5,utcWednesday:M1,utcWednesdays:X5,utcWeek:fr,utcWeeks:Zl,utcYear:Mn,utcYears:J5,variance:Nh,window:Pc,xml:G3,zip:Im,zoom:Jg,zoomIdentity:mr,zoomTransform:jg},Symbol.toStringTag,{value:"Module"}));function mh(t){const n=st(null);return{zoom:n,initZoom:()=>{const a=Jg().scaleExtent([.1,3]).on("zoom",u=>{lt(t.value).select("g.zoom-group").attr("transform",u.transform)});n.value=a,lt(t.value).call(a)},zoomIn:()=>{!t.value||!n.value||lt(t.value).transition().duration(300).call(n.value.scaleBy,1.2)},zoomOut:()=>{!t.value||!n.value||lt(t.value).transition().duration(300).call(n.value.scaleBy,.8)},resetZoom:()=>{!t.value||!n.value||lt(t.value).transition().duration(300).call(n.value.transform,mr)}}}function yh(){return{processTreeData:e=>{const a=h=>{if(!h.children||h.children.length===0)return 100;const l=h.children.reduce((d,m)=>d+a(m),0);return Math.max(100,l+(h.children.length-1)*20)},u=(h,l=0,d=0)=>{const m={id:h.id,label:h.meter_code,spec:h.specification||"",area:co().getAreaNameById(h.area_id)||h.area_id||"",level:l,x:d,y:l*130,isMeter:!0,width:a(h)};if(h.children&&h.children.length>0){let g=d-m.width/2;m.children=h.children.map(p=>{const y=a(p),v=u(p,l+1,g+y/2);return g+=y+20,v})}return m};let f=0,c=e.map(h=>{const l=a(h);return f+=l,{node:h,width:l}});f+=(e.length-1)*20;let s=-f/2;return c.map(({node:h,width:l})=>{const d=u(h,0,s+l/2);return s+=l+20,d})},wrapText:(e,r,i,o=20,a=16)=>{let u=r.split(""),f="",c=0;return u.forEach(s=>{let h=f+s;h.length*13>i?(e.append("tspan").attr("x",o).attr("dy",c===0?0:a).text(f),f=s,c++):f=h}),e.append("tspan").attr("x",o).attr("dy",c===0?0:a).text(f),c+1}}}const _h="/assets/%E7%89%A9%E8%81%94%E7%BD%91%E6%B0%B4%E8%A1%A8-iiTgboxH.png",m9={__name:"SimpleMeterStructure",setup(t,{expose:n}){n();const e=st(null),r=Hr(),{treeDataForChart:i}=Xf(r),{exportChart:o}=Jf(e),{zoom:a,initZoom:u,zoomIn:f,zoomOut:c}=mh(e),{processTreeData:s,wrapText:h}=yh(),l=st(!0),d=Hn(()=>i.value.length>0?i.value[0].type:null),m=()=>{if(!e.value)return;lt(e.value).selectAll("*").remove()},g=async()=>{l.value=!0,m();const v=i.value,b=s(v),_=lt(e.value).attr("width","100%").attr("height","800").attr("viewBox","0 0 1200 800").attr("preserveAspectRatio","xMidYMid meet");_.append("rect").attr("width","100%").attr("height","100%").attr("fill","white");const w=_.append("g").attr("class","zoom-group"),x=S=>{S.children&&S.children.forEach(P=>{w.append("path").attr("d",`M ${S.x} ${S.y+30} L ${S.x} ${(S.y+P.y)/2} L ${P.x} ${(S.y+P.y)/2} L ${P.x} ${P.y-20}`).attr("stroke","#666").attr("fill","none").attr("stroke-width",1.5),x(P)})};b.forEach(S=>{x(S),p(w,S)});const E=w.node().getBBox(),N=50,$=Math.min(1200/(E.width+N*2),800/(E.height+N*2)),k=mr.translate((1200-E.width*$)/2-E.x*$,(800-E.height*$)/2-E.y*$).scale($);u(),_.call(a.value.transform,k),l.value=!1},p=(v,b)=>{const _=v.append("g").attr("transform",`translate(${b.x},${b.y})`);if(d.value===1){_.append("image").attr("href",_h).attr("x",-15).attr("y",-15).attr("width",40).attr("height",40);const w=_.append("g").attr("transform","translate(20, -20)"),x=w.append("text").attr("font-size","13px").attr("font-family","'SimSun', '宋体', serif").attr("fill","#333").attr("text-anchor","start");if(h(x,b.label,150,20),b.spec){const E=w.append("text").attr("transform","translate(0, 20)").attr("font-size","13px").attr("font-family","'SimSun', '宋体', serif").attr("fill","#333").attr("text-anchor","start");h(E,b.spec,150,20)}if(b.area){const N=Math.min(b.area.length*14+20,120);_.append("rect").attr("x",-N/2).attr("y",35).attr("width",N).attr("height",24).attr("fill","white").attr("stroke","#666").attr("stroke-width",1).attr("rx",2);const $=_.append("text").attr("text-anchor","middle").attr("font-size","12px").attr("fill","#333").attr("transform","translate(0, 50)"),k=b.area.split("");let S="",P=[];k.forEach(R=>{S.length*12>100?(P.push(S),S=R):S+=R}),S&&P.push(S),P.forEach((R,M)=>{$.append("tspan").attr("x",0).attr("dy",M===0?0:14).text(R)})}}else{_.append("g").html(` 
        <line x1="-10" y1="-5" x2="-10" y2="5" stroke="#333" stroke-width="1.5" />
        <line x1="-10" y1="0" x2="10" y2="0" stroke="#333" stroke-width="1.5" />
        <line x1="10" y1="-5" x2="10" y2="5" stroke="#333" stroke-width="1.5" />
        <circle cx="0" cy="15" r="8" fill="none" stroke="#333" stroke-width="1.5" />
        <path d="M -8,25 C -5,22 5,22 8,25" stroke="#333" fill="none" stroke-width="1.2" />
        <path d="M -6,22 C -3,19 3,19 6,22" stroke="#333" fill="none" stroke-width="1.2" />
        <path d="M -4,19 C -2,16 2,16 4,19" stroke="#333" fill="none" stroke-width="1.2" />
      `);const w=_.append("g").attr("transform","translate(0, -10)"),x=w.append("text").attr("font-size","13px").attr("font-family","'SimSun', '宋体', serif").attr("fill","#333").attr("text-anchor","middle");if(h(x,b.label,80,20),b.spec){const E=w.append("text").attr("transform","translate(0, 20)").attr("font-size","13px").attr("font-family","'SimSun', '宋体', serif").attr("fill","#333").attr("text-anchor","middle");h(E,b.spec,80,20)}if(b.area){const N=Math.min(b.area.length*14+20,120);_.append("rect").attr("x",-N/2).attr("y",35).attr("width",N).attr("height",24).attr("fill","white").attr("stroke","#666").attr("stroke-width",1).attr("rx",2);const $=_.append("text").attr("text-anchor","middle").attr("font-size","12px").attr("fill","#333").attr("transform","translate(0, 50)"),k=b.area.split("");let S="",P=[];k.forEach(R=>{S.length*12>100?(P.push(S),S=R):S+=R}),S&&P.push(S),P.forEach((R,M)=>{$.append("tspan").attr("x",0).attr("dy",M===0?0:14).text(R)})}}b.children&&b.children.forEach(w=>p(v,w))};ao(()=>i.value,v=>{v&&g()},{immediate:!0}),Ze(async()=>{u(),g()});const y={svgRef:e,meterStore:r,treeDataForChart:i,exportChart:o,zoom:a,initZoom:u,zoomIn:f,zoomOut:c,processTreeData:s,wrapText:h,loading:l,currentType:d,clearSvg:m,initVisualization:g,renderNodes:p,ref:st,onMounted:Ze,watch:ao,computed:Hn,get useExportChart(){return Jf},get useZoom(){return mh},get useTreeData(){return yh},get useMeterStore(){return Hr},get useAreaStore(){return co},get d3(){return p9},get storeToRefs(){return Xf},get waterMeterIcon(){return _h}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},y9={class:"svg-container"},_9={class:"controls"},b9={ref:"svgRef",class:"cursor-move"};function v9(t,n,e,r,i,o){const a=Th,u=Sh;return Au((mn(),Ye("div",y9,[rt("div",_9,[ut(a,{onClick:r.zoomOut},{icon:Mt(()=>n[0]||(n[0]=[rt("i",{class:"fa fa-search-minus"},null,-1)])),_:1},8,["onClick"]),ut(a,{onClick:r.zoomIn},{icon:Mt(()=>n[1]||(n[1]=[rt("i",{class:"fa fa-search-plus"},null,-1)])),_:1},8,["onClick"]),ut(a,{onClick:r.exportChart},{icon:Mt(()=>n[2]||(n[2]=[rt("i",{class:"fa fa-download"},null,-1)])),_:1},8,["onClick"])]),(mn(),Ye("svg",b9,null,512))])),[[u,r.loading]])}const w9=Jo(m9,[["render",v9],["__scopeId","data-v-3132042d"],["__file","D:/临时存放/green-carbon-1.0/src/components/meter/SimpleMeterStructure.vue"]]),x9={__name:"StructureLayout",setup(t,{expose:n}){n();const r={isSimpleMeterVisible:st(!1),ref:st,MeterStructure:Hp,SimpleMeterStructure:w9};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},M9={class:"main-container"},S9={class:"control-panel"},T9={class:"container"};function A9(t,n,e,r,i,o){const a=sp,u=lp;return mn(),Ye("div",M9,[rt("div",S9,[ut(u,{modelValue:r.isSimpleMeterVisible,"onUpdate:modelValue":n[0]||(n[0]=f=>r.isSimpleMeterVisible=f)},{default:Mt(()=>[ut(a,{value:!1},{default:Mt(()=>n[1]||(n[1]=[qe("完整计量网络图")])),_:1}),ut(a,{value:!0},{default:Mt(()=>n[2]||(n[2]=[qe("简略计量网络图")])),_:1})]),_:1},8,["modelValue"])]),rt("div",T9,[r.isSimpleMeterVisible?Eu("",!0):(mn(),uo(r.MeterStructure,{key:0})),r.isSimpleMeterVisible?(mn(),uo(r.SimpleMeterStructure,{key:1})):Eu("",!0)])])}const E9=Jo(x9,[["render",A9],["__scopeId","data-v-025bc054"],["__file","D:/临时存放/green-carbon-1.0/src/views/DeviceCenter/DeviceArchitecture/components/StructureLayout.vue"]]),$9={__name:"index",setup(t,{expose:n}){n();const e=st(!1);Ze(()=>{console.log(111)});const r={loading:e,ref:st,onMounted:Ze,StructureLayout:E9};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},k9={class:"header-title"};function N9(t,n,e,r,i,o){const a=fp,u=cp;return mn(),uo(u,{"body-style":"width: 100%;height: 90%;",style:{width:"100%",height:"100%"}},{header:Mt(()=>[rt("div",k9,[n[1]||(n[1]=rt("b",null,"计量网络图",-1)),ut(a,{"onUpdate:loading":n[0]||(n[0]=f=>r.loading=f)})])]),default:Mt(()=>[ut(r.StructureLayout)]),_:1})}const BM=Jo($9,[["render",N9],["__scopeId","data-v-56907fe7"],["__file","D:/临时存放/green-carbon-1.0/src/views/DeviceCenter/DeviceArchitecture/index.vue"]]);export{BM as default};
