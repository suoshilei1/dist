import{_ as A,r as _,c as f,d as g,k as e,l as o,e as t,f as r,T as b,U as E,g as i,N as m}from"./index-DU5BV6sj.js";/* empty css             */import{E as I,b as L,c as N}from"./header-3UtByIIS.js";import{E as U}from"./pagination-DUgTE-0K.js";/* empty css            */import"./select-CVxfSd-L.js";import"./scrollbar-5YYltO8z.js";import{E as G}from"./popper-DmsXjoSL.js";/* empty css                     */import{E as j,a as q}from"./button-C3fNXQ0E.js";import{E as H,a as M}from"./table-column-9ftaDh-i.js";import"./checkbox-B_XNudq6.js";/* empty css                */import{E as O}from"./progress-CCELRPnT.js";import{E as J,a as K}from"./col-NhIdzeqW.js";import{E as Q}from"./card-CrntnV6K.js";import{E as X}from"./date-picker-3aSnRp6y.js";import"./input-Cag95VNY.js";import{b as Y,a as Z}from"./radio-group-zQV3zrYY.js";/* empty css                     */import{E as $}from"./index-DemxtX7w.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./index-BCql8Cu-.js";import"./icon-Lrcg122U.js";import"./index-DsemQHVw.js";import"./index-imETKNmt.js";import"./isEqual-Df5tNRy_.js";import"./_Uint8Array-ntTh0Oyk.js";import"./index-HfsxB2KS.js";import"./castArray-C1OtMDCV.js";import"./use-form-item-Bwue1zaK.js";import"./aria-BUADUvnR.js";import"./scroll-b_nwKRMA.js";import"./_baseIteratee-B5KIseQu.js";import"./index-BRz9a87F.js";import"./focus-trap-BFH-jL9N.js";import"./_initCloneObject-CWYxvHbU.js";import"./dayjs.min-BzhD8rH5.js";import"./index-BcLR6-Z9.js";const tt={__name:"index",setup(T,{expose:a}){a();const h=_([]),s=_("day"),w=_("realtime"),d={dateRange:h,timeRange:s,loadType:w,costStatistics:[{title:"本月电费",value:"42,568",prefix:"¥",unit:"元",icon:"fa-bolt",colorClass:"text-primary",trend:"up",compare:"较上月 +12.5%"},{title:"用电量",value:"45,689",prefix:"",unit:"kWh",icon:"fa-flash",colorClass:"text-success",trend:"up",compare:"较上月 +8.3%"},{title:"最大需量",value:"286.5",prefix:"",unit:"kW",icon:"fa-line-chart",colorClass:"text-warning",trend:"down",compare:"较上月 -5.2%"},{title:"",value:"0.93",prefix:"¥",unit:"/kWh",icon:"fa-calculator",colorClass:"text-info",trend:"up",compare:"较上月 +3.8%"}],tariffItems:[{type:"峰时电费",value:"15,689",percentage:35,color:"#409EFF"},{type:"平时电费",value:"20,456",percentage:45,color:"#67C23A"},{type:"谷时电费",value:"6,423",percentage:20,color:"#909399"}],priceRates:[{period:"峰时段",timeRange:"09:00-12:00, 17:00-22:00",rate:"1.2",type:"peak-rate"},{period:"平时段",timeRange:"06:00-09:00, 12:00-17:00",rate:"0.9",type:"normal-rate"},{period:"谷时段",timeRange:"22:00-次日06:00",rate:"0.5",type:"valley-rate"}],energyTips:["建议在谷时段开启大功率设备，可节约30%电费","当前空调温度偏低，建议调整至26℃以上","检测到B区照明系统存在待机损耗，建议及时关闭","建议对老旧设备进行节能改造，预计可节约15%用电量"],electricityRecords:[{date:"2024-03-01",timeSlot:"峰时段",location:"A区",usage:256.8,rate:1.2,cost:308.16,loadFactor:85,status:"已结算"},{date:"2024-03-01",timeSlot:"平时段",location:"B区",usage:345.2,rate:.9,cost:310.68,loadFactor:65,status:"未结算"}],getLoadFactorColor:u=>u>=80?"#67C23A":u>=60?"#E6A23C":"#F56C6C",ref:_};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},et={class:"app-container"},at={class:"header-right"},ot={class:"stat-card"},lt={class:"stat-info"},st={class:"stat-title"},rt={class:"stat-unit"},nt={class:"card-header"},it={class:"chart-controls"},dt={class:"card-header"},pt={class:"tariff-list"},ct={class:"item-info"},ut={class:"type"},mt={class:"value"},_t={class:"card-header"},ft={class:"price-table"},gt={class:"card-header"},vt={class:"tips-list"},yt={class:"card-header"},bt={class:"table-controls"},Et={class:"pagination-container"};function ht(T,a,h,s,w,V){const c=Y,v=Z,x=X,k=I,p=Q,d=J,u=K,S=G,C=O,R=$,n=H,F=M,y=j,z=q,B=U,D=L,W=N;return f(),g("div",et,[e(k,{class:"header"},{default:o(()=>[a[6]||(a[6]=t("div",{class:"header-left"},[t("h2",null,"用电成本分析")],-1)),t("div",at,[e(v,{modelValue:s.timeRange,"onUpdate:modelValue":a[0]||(a[0]=l=>s.timeRange=l),size:"small"},{default:o(()=>[e(c,{label:"day"},{default:o(()=>a[3]||(a[3]=[r("日")])),_:1}),e(c,{label:"week"},{default:o(()=>a[4]||(a[4]=[r("周")])),_:1}),e(c,{label:"month"},{default:o(()=>a[5]||(a[5]=[r("月")])),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:s.dateRange,"onUpdate:modelValue":a[1]||(a[1]=l=>s.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},null,8,["modelValue"])])]),_:1}),e(W,{class:"main-container"},{default:o(()=>[e(D,null,{default:o(()=>[e(u,{gutter:20,class:"statistics"},{default:o(()=>[(f(),g(b,null,E(s.costStatistics,l=>e(d,{span:6,key:l.title},{default:o(()=>[e(p,{shadow:"hover","body-style":{padding:"20px"}},{default:o(()=>[t("div",ot,[t("div",lt,[t("div",st,i(l.title),1),t("div",{class:m(["stat-value",l.colorClass])},[r(i(l.prefix)+i(l.value)+" ",1),t("span",rt,i(l.unit),1)],2),t("div",{class:m(["stat-compare",l.trend])},[t("i",{class:m(["fa",l.trend==="up"?"fa-arrow-up":"fa-arrow-down"])},null,2),r(" "+i(l.compare),1)],2)]),t("i",{class:m(["fa",l.icon,l.colorClass]),style:{"font-size":"32px"}},null,2)])]),_:2},1024)]),_:2},1024)),64))]),_:1}),e(u,{gutter:20},{default:o(()=>[e(d,{span:16},{default:o(()=>[e(p,{class:"chart-card"},{header:o(()=>[t("div",nt,[a[9]||(a[9]=t("span",null,"用电负荷曲线",-1)),t("div",it,[e(v,{modelValue:s.loadType,"onUpdate:modelValue":a[2]||(a[2]=l=>s.loadType=l),size:"small"},{default:o(()=>[e(c,{label:"realtime"},{default:o(()=>a[7]||(a[7]=[r("实时负荷")])),_:1}),e(c,{label:"max"},{default:o(()=>a[8]||(a[8]=[r("最大负荷")])),_:1})]),_:1},8,["modelValue"])])])]),default:o(()=>[a[10]||(a[10]=t("div",{class:"load-chart"},[t("div",{class:"time-markers"},[t("div",{class:"marker peak"},[t("i",{class:"fa fa-clock-o"}),r(" 峰时段 "),t("span",null,"09:00-12:00")]),t("div",{class:"marker valley"},[t("i",{class:"fa fa-clock-o"}),r(" 谷时段 "),t("span",null,"00:00-06:00")])]),t("div",{class:"chart-container",style:{height:"300px"}},[t("div",{class:"chart-placeholder"},"负荷曲线图表")])],-1))]),_:1})]),_:1}),e(d,{span:8},{default:o(()=>[e(p,{class:"tariff-card"},{header:o(()=>[t("div",dt,[a[12]||(a[12]=t("span",null,"电费组成",-1)),e(S,{content:"查看电费计算规则",placement:"top"},{default:o(()=>a[11]||(a[11]=[t("i",{class:"fa fa-question-circle"},null,-1)])),_:1})])]),default:o(()=>[a[13]||(a[13]=t("div",{class:"tariff-chart"},[t("div",{class:"chart-placeholder"},"电费构成饼图")],-1)),t("div",pt,[(f(),g(b,null,E(s.tariffItems,l=>t("div",{key:l.type,class:"tariff-item"},[t("div",ct,[t("span",ut,i(l.type),1),t("span",mt,"¥"+i(l.value),1)]),e(C,{percentage:l.percentage,color:l.color,"show-text":!1},null,8,["percentage","color"])])),64))])]),_:1})]),_:1})]),_:1}),e(u,{gutter:20},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(p,{class:"price-card"},{header:o(()=>[t("div",_t,[a[15]||(a[15]=t("span",null,"分时电价",-1)),e(R,{type:"success"},{default:o(()=>a[14]||(a[14]=[r("当前处于平段时间")])),_:1})])]),default:o(()=>[t("div",ft,[e(F,{data:s.priceRates,border:"",style:{width:"100%"}},{default:o(()=>[e(n,{prop:"period",label:"时段"}),e(n,{prop:"timeRange",label:"时间范围"}),e(n,{prop:"rate",label:"电价(元/kWh)"},{default:o(l=>[t("span",{class:m(l.row.type)},i(l.row.rate),3)]),_:1})]),_:1})])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(p,{class:"tips-card"},{header:o(()=>[t("div",gt,[a[17]||(a[17]=t("span",null,"节能建议",-1)),e(y,{type:"text"},{default:o(()=>a[16]||(a[16]=[t("i",{class:"fa fa-lightbulb-o"},null,-1),r(" 更多建议 ")])),_:1})])]),default:o(()=>[t("div",vt,[(f(),g(b,null,E(s.energyTips,(l,P)=>t("div",{key:P,class:"tip-item"},[a[18]||(a[18]=t("i",{class:"fa fa-check-circle"},null,-1)),t("span",null,i(l),1)])),64))])]),_:1})]),_:1})]),_:1}),e(p,{class:"table-card"},{header:o(()=>[t("div",yt,[a[21]||(a[21]=t("span",null,"用电记录明细",-1)),t("div",bt,[e(z,{size:"small"},{default:o(()=>[e(y,null,{default:o(()=>a[19]||(a[19]=[t("i",{class:"fa fa-file-pdf-o"},null,-1),r(" PDF报告 ")])),_:1}),e(y,{type:"primary"},{default:o(()=>a[20]||(a[20]=[t("i",{class:"fa fa-download"},null,-1),r(" 导出Excel ")])),_:1})]),_:1})])])]),default:o(()=>[e(F,{data:s.electricityRecords,style:{width:"100%"},border:""},{default:o(()=>[e(n,{prop:"date",label:"日期",width:"180"}),e(n,{prop:"timeSlot",label:"时段",width:"120"}),e(n,{prop:"location",label:"区域",width:"120"}),e(n,{prop:"usage",label:"用电量(kWh)",width:"120"}),e(n,{prop:"rate",label:"电价(元/kWh)",width:"120"}),e(n,{prop:"cost",label:"金额(元)",width:"120"}),e(n,{prop:"loadFactor",label:"负荷率",width:"120"},{default:o(l=>[e(C,{percentage:l.row.loadFactor,color:s.getLoadFactorColor(l.row.loadFactor)},null,8,["percentage","color"])]),_:1}),e(n,{prop:"status",label:"状态",width:"120"},{default:o(l=>[e(R,{type:l.row.status==="已结算"?"success":"warning"},{default:o(()=>[r(i(l.row.status),1)]),_:2},1032,["type"])]),_:1})]),_:1}),t("div",Et,[e(B,{background:"",layout:"total, sizes, prev, pager, next",total:100,"page-sizes":[10,20,50,100]})])]),_:1})]),_:1})]),_:1})])}const ne=A(tt,[["render",ht],["__scopeId","data-v-a46d64cc"],["__file","D:/临时存放/green-carbon-1.0/src/views/EnergyData/ElectricityData/ElectricityCost/index.vue"]]);export{ne as default};
