import{_ as j,ck as Y,r as L,w as O,o as M,c as G,d as H,n as X,b as B}from"./index-DU5BV6sj.js";import{$ as Z,cV as J,W as N,am as q,cb as K,ae as Q,eF as ee,cZ as te,eG as ae,eH as oe,eI as se,eJ as re,eK as ie,eL as ne,eM as le,bU as de,eN as ce,eO as fe,eP as he,eQ as ue,eR as pe,eS as ge,eT as me,eU as be,eV as ye,eW as Ce,eX as we,c as I,eY as Se,eZ as xe,e_ as ve,aP as k,bV as ze,e$ as _e,f0 as Le,f1 as Oe,f2 as Me,f3 as Be,f4 as ke,f5 as Te,f6 as $e,f7 as De,f8 as Ee,f9 as Pe,fa as We,fb as Ae,fc as Fe,fd as Re,fe as Ve,ff as Ie,u as U,fg as Ue,fh as je,fi as Ye,fj as Ge,fk as He,ey as T,ex as $,eA as D,a as E,eB as P,ez as W,i as A,ew as F,b as R,eE as V}from"./installCanvasRenderer-COQy7h5q.js";import{d as C}from"./DebounceAndThrottle-B_grFKK4.js";const Xe=Object.freeze(Object.defineProperty({__proto__:null,Axis:Z,ChartView:J,ComponentModel:N,ComponentView:q,List:K,Model:Q,PRIORITY:ee,SeriesModel:te,color:ae,connect:oe,dataTool:se,dependencies:re,disConnect:ie,disconnect:ne,dispose:le,env:de,extendChartView:ce,extendComponentModel:fe,extendComponentView:he,extendSeriesModel:ue,format:pe,getCoordinateSystemDimensions:ge,getInstanceByDom:me,getInstanceById:be,getMap:ye,graphic:Ce,helper:we,init:I,innerDrawElementOnCanvas:Se,matrix:xe,number:ve,parseGeoJSON:k,parseGeoJson:k,registerAction:ze,registerCoordinateSystem:_e,registerLayout:Le,registerLoading:Oe,registerLocale:Me,registerMap:Be,registerPostInit:ke,registerPostUpdate:Te,registerPreprocessor:$e,registerProcessor:De,registerTheme:Ee,registerTransform:Pe,registerUpdateLifecycle:We,registerVisual:Ae,setCanvasCreator:Fe,setPlatformAPI:Re,throttle:Ve,time:Ie,use:U,util:Ue,vector:je,version:Ye,zrUtil:Ge,zrender:He},Symbol.toStringTag,{value:"Module"})),Ze={__name:"BaseChart",props:{options:{type:Object,required:!0,default:()=>({})},width:{type:String,default:"100%"},height:{type:String,default:"400px"},theme:{type:String,default:"default"}},setup(f,{expose:w}){Y(t=>({"72ab154b-width":f.width,"72ab154b-height":f.height})),U([T,$,D,E,P,W,A,F,R,V]);const s=f,h=L(null);let e=null;const g=["#409EFF","#7dafff","#67C23A","#E6A23C","#F56C6C","#909399"],S=()=>({backgroundColor:"#ffffff",animation:!0,color:g,animationDuration:1e3,animationEasing:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:200,hoverLayerThreshold:3e3,tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{width:1,type:"dashed",color:"#aaa"}},textStyle:{fontSize:12},padding:[8,12],borderRadius:4,borderWidth:0,backgroundColor:"rgba(255, 255, 255, 0.9)",shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,transitionDuration:.4,position:function(t,n,l,c,r){const[d,i]=t,{contentSize:a,viewSize:o}=r,{width:b,height:_}=a,u=20;let p=d+u,y=i+u;return p+b>o.width&&(p=Math.max(d-b-u,0)),y+_>o.height&&(y=Math.max(i-_-u,0)),b>o.width&&(p=0),[p,y]},confine:!0}}),x=(t,n,l,c)=>t.map((r,d)=>{const i={...r,itemStyle:{color:n[d%n.length],borderRadius:r.type==="bar"?[4,4,0,0]:0}};return r.type==="line"&&Object.assign(i,{smooth:.2,showSymbol:!0,symbol:"circle",symbolSize:6,lineStyle:{width:2,cap:"round",shadowColor:"rgba(0,0,0,0.2)",shadowBlur:5,shadowOffsetY:5},emphasis:{focus:"series",scale:!1,itemStyle:{borderWidth:2,shadowColor:"rgba(0,0,0,0.5)",shadowBlur:10}}}),r.type==="bar"&&Object.assign(i,{barMaxWidth:20,stack:l?"total":void 0,emphasis:{focus:"series",itemStyle:{shadowColor:"rgba(0,0,0,0.3)",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:5}}}),c&&r.showExtremum&&(i.markLine={silent:!0,animation:!0,symbol:["none","none"],precision:2,label:{formatter:({data:a})=>{if(!a)return"";const o=typeof a.value=="number"?a.value.toFixed(2):a.value;return`${a.name}: ${o}`},position:"insideEndTop",fontSize:11,color:"#666",padding:[2,4],backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:2},lineStyle:{type:"dashed",width:1,opacity:.8},data:[{type:"average",name:"平均值",lineStyle:{color:"#FFB100"}},{type:"max",name:"最大值",lineStyle:{color:"#FF6B6B"}},{type:"min",name:"最小值",lineStyle:{color:"#4ECDC4"}}],animationDuration:1e3,animationEasing:"cubicInOut"}),i}),v=()=>{if(h.value){e=I(h.value,s.theme),m();const t=C(()=>{e==null||e.resize()},100);window.addEventListener("resize",t),B(()=>{window.removeEventListener("resize",t),e==null||e.dispose(),e=null})}},m=()=>{if(!e||!s.options)return;const{title:t,xAxisData:n=[],series:l=[],iszoom:c=!1,showMarkLine:r=!1,customColors:d=[],isStacked:i=!1}=s.options,a={...S(),title:t?{text:t,textStyle:{fontSize:16,fontWeight:500,color:"#333"},top:10,left:"3%"}:null,grid:{top:t?"15%":"10%",right:"5%",bottom:c?"20%":"10%",left:"5%",containLabel:!0},legend:l.length>1?{data:l.map(o=>o.name),right:"5%",icon:"circle",itemWidth:8,itemHeight:8,itemGap:16,textStyle:{fontSize:12,color:"#666"},animation:!0}:null,xAxis:{type:"category",data:n,axisLabel:{interval:"auto",rotate:n.length>8?30:0,fontSize:12,color:"#666"},axisLine:{lineStyle:{}},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",opacity:.3}},axisLabel:{fontSize:12,color:"#666"},axisLine:{show:!1},axisTick:{show:!1}},series:x(l,d,i,r)};if(c){const o=n.length<100?100:Math.min(100,Math.max(30,100/Math.ceil(n.length/4)));a.dataZoom=[{type:"slider",show:!0,start:0,end:o,height:30,bottom:10,borderColor:"transparent",handleSize:20,handleStyle:{color:"#fff",borderColor:"#ddd",borderWidth:1,shadowBlur:2,shadowColor:"rgba(0,0,0,0.2)",shadowOffsetY:1},moveHandleStyle:{color:"#fff",borderColor:"#aaa"},selectedDataBackground:{lineStyle:{color:"#215ae0",opacity:.3},areaStyle:{color:"#215ae0",opacity:.1}},emphasis:{handleStyle:{borderColor:"#8ab4f8"}},fillerColor:"rgba(24, 144, 255, 0.1)",backgroundColor:"#fafafa",showDetail:!1,zoomLock:!1,brushSelect:!1},{type:"inside",start:0,end:o,zoomOnMouseWheel:"ctrl",moveOnMouseWheel:!0}]}e.setOption(a,!0)};O(()=>s.options,C(()=>{e&&(s.options.isMerge||e.clear(),m())},100),{deep:!0}),w({getChart:()=>e,resize:()=>e==null?void 0:e.resize()}),M(()=>{v()});const z={props:s,chartRef:h,get chartInstance(){return e},set chartInstance(t){e=t},colorPalette:g,createBaseOption:S,createSeriesConfig:x,initChart:v,updateChart:m,get echarts(){return Xe},get TitleComponent(){return T},get TooltipComponent(){return $},get LegendComponent(){return D},get GridComponent(){return E},get DataZoomComponent(){return P},get MarkLineComponent(){return W},get LineChart(){return A},get BarChart(){return F},get UniversalTransition(){return V},get CanvasRenderer(){return R},onMounted:M,onUnmounted:B,ref:L,watch:O,get debounce(){return C}};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}};function Je(f,w,s,h,e,g){return G(),H("div",{ref:"chartRef",style:X({width:s.width||"100%",height:s.height||"400px"})},null,4)}const Qe=j(Ze,[["render",Je],["__scopeId","data-v-72ab154b"],["__file","D:/临时存放/green-carbon-1.0/src/components/chart/BaseChart.vue"]]);export{Qe as B,Xe as e};
